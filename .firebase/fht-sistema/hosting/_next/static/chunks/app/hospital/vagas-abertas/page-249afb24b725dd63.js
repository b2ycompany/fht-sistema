(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5328],{85938:function(e,a,t){Promise.resolve().then(t.bind(t,46616))},46616:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return O}});var r=t(57437),i=t(2265),s=t(62869),o=t(35153),n=t(26110),l=t(99397),c=t(18930),d=t(33569),u=t(35974),h=t(94508),m=t(49505),p=t(88501),f=t(83774),x=t(5005),g=t(95252),y=t(33245);let v=Object.entries(m.ku).map(e=>{let[a,t]=e;return{value:a,label:a.split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ")}}),j=e=>{var a;let{shift:t,actions:i}=e,o=(null===(a=v.find(e=>e.value===t.serviceType))||void 0===a?void 0:a.label)||t.serviceType;return(0,r.jsxs)("div",{className:(0,h.cn)("flex flex-col sm:flex-row items-start sm:items-center justify-between border rounded-lg p-4 gap-3 transition-opacity duration-300 bg-white shadow-xs hover:shadow-sm"),children:[(0,r.jsxs)("div",{className:"flex-1 space-y-1.5 pr-2",children:[t.status&&"open"!==t.status&&(0,r.jsx)(u.C,{variant:"filled"===t.status?"secondary":"destructive",className:"text-xs mb-1 capitalize",children:t.status}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[" ",(0,r.jsx)(p.Z,{className:"h-4 w-4 shrink-0 text-blue-600"})," ",(0,r.jsx)("span",{suppressHydrationWarning:!0,children:t.date?t.date.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"Inv\xe1lida"})," ",(0,r.jsxs)("span",{className:"text-gray-500 font-normal",children:["(",t.startTime," - ",t.endTime,")"]})," "]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 ",children:[(0,r.jsx)(f.Z,{className:"h-3.5 w-3.5 shrink-0 text-purple-600"}),(0,r.jsxs)("span",{children:[t.city,", ",t.state]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 ",children:[(0,r.jsx)(x.Z,{className:"h-3.5 w-3.5 shrink-0 text-cyan-600"}),(0,r.jsx)("span",{children:o})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-green-700 font-medium col-span-2",children:[(0,r.jsx)(g.Z,{className:"h-3.5 w-3.5 shrink-0"}),(0,r.jsxs)("span",{children:[(0,h.xG)(t.offeredRate),"/hora"]})]})]}),t.specialtiesRequired&&t.specialtiesRequired.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-1 pt-1.5",children:[" ",(0,r.jsx)("span",{className:"text-xs text-gray-500 mr-1 font-medium",children:"Requer:"})," ",t.specialtiesRequired.map(e=>(0,r.jsx)(u.C,{variant:"outline",className:"text-gray-700 text-xs px-1.5 py-0.5 font-normal border-blue-200 bg-blue-50",children:e},e))," "]}),t.notes&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 pt-1.5 italic",children:[(0,r.jsx)(y.Z,{className:"inline h-3 w-3 mr-1 align-middle"}),t.notes]})]}),i&&i.length>0&&(0,r.jsx)("div",{className:"flex items-center space-x-1 shrink-0 mt-2 sm:mt-0 self-end sm:self-center",children:i.map(e=>{var a;return(0,r.jsxs)(s.z,{variant:null!==(a=e.variant)&&void 0!==a?a:"ghost",size:"icon",onClick:e.onClick,className:(0,h.cn)("h-8 w-8",e.className),"aria-label":e.label,children:[" ",(0,r.jsx)(e.icon,{className:"h-4 w-4"})," "]},e.label)})})]})};var b=t(1098),N=t(53647),w=t(26815),E=t(95186),k=t(76818),S=t(57054),C=t(23518),_=t(43044),R=t(32489),P=t(51817);let A=Array.from({length:48},(e,a)=>"".concat(Math.floor(a/2).toString().padStart(2,"0"),":").concat(a%2==0?"00":"30")),M=["SP","RJ","MG","BA","AC","AL","AP","AM","CE","DF","ES","GO","MA","MT","MS","PA","PB","PR","PE","PI","RN","RS","RO","RR","SC","SE","TO"],I={SP:["S\xe3o Paulo","Campinas","Santos","Ara\xe7ariguama","Guarulhos","Osasco"],RJ:["Rio de Janeiro","Niter\xf3i"]},V=Object.entries(m.ku).map(e=>{let[a,t]=e;return{value:a,label:a.split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ")}}),T=e=>{let{onShiftAdded:a}=e,{toast:t}=(0,o.pm)(),[l,c]=(0,i.useState)([]),[p,f]=(0,i.useState)("07:00"),[x,g]=(0,i.useState)("19:00"),[y,v]=(0,i.useState)(!1),[j,T]=(0,i.useState)(!1),[Z,O]=(0,i.useState)([]),[D,z]=(0,i.useState)(""),[U,B]=(0,i.useState)(null),[q,G]=(0,i.useState)(""),[J,L]=(0,i.useState)(""),[F,H]=(0,i.useState)([]),[Q,X]=(0,i.useState)(""),[W,$]=(0,i.useState)(""),[Y,K]=(0,i.useState)(""),ee=(0,i.useCallback)((e,a)=>{if(e&&a&&e===a)B("Hor\xe1rios de in\xedcio e t\xe9rmino n\xe3o podem ser iguais.");else if(e&&a&&e>a){let t=parseInt(e.split(":")[0],10);parseInt(a.split(":")[0],10)>=t?B("In\xedcio deve ser anterior ao t\xe9rmino para hor\xe1rios no mesmo dia."):B(null)}else B(null)},[]);(0,i.useEffect)(()=>{ee(p,x)},[p,x,ee]),(0,i.useEffect)(()=>{q?H(I[q]||[]):H([]),L("")},[q]);let ea=e=>{Z.includes(e)||O([...Z,e]),z(""),T(!1)},et=e=>{O(a=>a.filter(a=>a!==e))},er=(0,i.useMemo)(()=>m.Gg.filter(e=>"string"==typeof e&&e.toLowerCase().includes(D.toLowerCase())&&!Z.includes(e)),[D,Z]),ei=async()=>{let e=parseFloat(W.replace(",","."));if(0===l.length){t({title:"Selecione data(s)",variant:"destructive"});return}if(U){t({title:"Hor\xe1rio inv\xe1lido",description:U,variant:"destructive"});return}if(!Q){t({title:"Selecione tipo",variant:"destructive"});return}if(isNaN(e)||e<=0){t({title:"Valor hora inv\xe1lido (>0)",variant:"destructive"});return}if(!q||!J){t({title:"Selecione local",variant:"destructive"});return}v(!0);let r=0,i=0,s=l.map(async a=>{try{await (0,d.xf)({date:a,startTime:p,endTime:x,specialtiesRequired:Z,serviceType:Q,offeredRate:e,city:J,state:q,notes:Y}),r++}catch(e){i++,console.error("Failed add shift ".concat(a.toLocaleDateString(),":"),e),t({title:"Erro ao Salvar Data ".concat(a.toLocaleDateString()),description:e.message||"Erro desconhecido",variant:"destructive"})}});await Promise.all(s),v(!1),r>0&&(t({title:"Opera\xe7\xe3o Conclu\xedda",description:"".concat(r," vaga(s) publicada(s). ").concat(i>0?"".concat(i," falharam."):""),variant:"default"}),a())};return(0,r.jsxs)(n.cZ,{className:"sm:max-w-2xl",children:[(0,r.jsxs)(n.fK,{children:[(0,r.jsx)(n.$N,{children:"Publicar Nova Vaga de Plant\xe3o"}),(0,r.jsx)(n.Be,{children:"Preencha os detalhes da vaga. Selecione m\xfaltiplos dias no calend\xe1rio para criar vagas id\xeanticas para cada dia."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto px-2 pr-5",children:[" ",(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{className:"font-medium text-gray-800",children:"Data(s)*"}),(0,r.jsx)(b.f,{mode:"multiple",selected:l,onSelect:e=>c(e||[]),disabled:{before:new Date(new Date().setHours(0,0,0,0))},className:"p-0 border rounded-md w-auto inline-block shadow-sm",footer:l.length>0?(0,r.jsxs)("p",{className:"text-xs text-blue-700 pt-1",children:[l.length," dia(s) selecionado(s)."]}):null})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"start-time-modal",className:"font-medium text-gray-800",children:"In\xedcio*"}),(0,r.jsxs)(N.Ph,{value:p,onValueChange:f,children:[(0,r.jsx)(N.i4,{id:"start-time-modal",className:(0,h.cn)("h-9",U&&"border-red-500"),children:(0,r.jsx)(N.ki,{})}),(0,r.jsx)(N.Bw,{children:A.map(e=>(0,r.jsx)(N.Ql,{value:e,children:e},"st"+e))})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"end-time-modal",className:"font-medium text-gray-800",children:"T\xe9rmino*"}),(0,r.jsxs)(N.Ph,{value:x,onValueChange:g,children:[(0,r.jsx)(N.i4,{id:"end-time-modal",className:(0,h.cn)("h-9",U&&"border-red-500"),children:(0,r.jsx)(N.ki,{})}),(0,r.jsx)(N.Bw,{children:A.map(e=>(0,r.jsx)(N.Ql,{value:e,children:e},"et"+e))})]})]}),U&&(0,r.jsx)("p",{className:"text-red-600 text-xs col-span-2 pt-1",children:U})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"state-modal",className:"font-medium text-gray-800",children:"Estado*"}),(0,r.jsxs)(N.Ph,{value:q,onValueChange:G,children:[(0,r.jsx)(N.i4,{id:"state-modal",className:"h-9",children:(0,r.jsx)(N.ki,{placeholder:"UF..."})}),(0,r.jsx)(N.Bw,{children:M.map(e=>(0,r.jsx)(N.Ql,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"city-modal",className:"font-medium text-gray-800",children:"Cidade*"}),(0,r.jsxs)(N.Ph,{value:J,onValueChange:L,disabled:!q||!F.length,children:[(0,r.jsx)(N.i4,{id:"city-modal",className:"h-9",children:(0,r.jsx)(N.ki,{placeholder:q?F.length?"Selecione...":"Sem cidades":"Selec. Estado"})}),(0,r.jsx)(N.Bw,{children:F.map(e=>(0,r.jsx)(N.Ql,{value:e,children:e},e))})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"service-type-modal",className:"font-medium text-gray-800",children:"Tipo Atend.*"}),(0,r.jsxs)(N.Ph,{value:Q,onValueChange:X,children:[(0,r.jsx)(N.i4,{id:"service-type-modal",className:"h-9",children:(0,r.jsx)(N.ki,{placeholder:"Selecione..."})}),(0,r.jsx)(N.Bw,{children:V.map(e=>(0,r.jsx)(N.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"offered-rate-modal",className:"font-medium text-gray-800",children:"Valor Hora (R$)*"}),(0,r.jsx)(E.I,{id:"offered-rate-modal",type:"number",min:"0.01",step:"0.01",placeholder:"150.00",value:W,onChange:e=>$(e.target.value),className:"h-9"})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsxs)(w._,{className:"flex items-center gap-1.5 font-medium text-gray-800",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4"}),"Especialidades Requeridas (Opcional)"]}),(0,r.jsxs)(S.J2,{open:j,onOpenChange:T,children:[(0,r.jsx)(S.xo,{asChild:!0,children:(0,r.jsx)(s.z,{variant:"outline",className:"w-full justify-start font-normal text-muted-foreground h-9",children:Z.length>0?Z.join(", "):"Nenhuma (clique p/ adicionar)"})}),(0,r.jsx)(S.yk,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,r.jsxs)(C.mY,{children:[(0,r.jsx)(C.sZ,{placeholder:"Buscar...",value:D,onValueChange:z}),(0,r.jsxs)(C.e8,{children:[(0,r.jsx)(C.rb,{children:"Nenhuma especialidade encontrada."}),(0,r.jsx)(C.fu,{children:er.map(e=>(0,r.jsx)(C.di,{value:e,onSelect:()=>ea(e),className:"cursor-pointer",children:e},e))})]})]})})]}),Z.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:Z.map(e=>(0,r.jsxs)(u.C,{variant:"secondary",className:"bg-gray-100 hover:bg-gray-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>et(e),className:"ml-1.5 p-0.5 rounded-full outline-none focus:ring-1 focus:ring-ring hover:bg-gray-300",children:(0,r.jsx)(R.Z,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},e))})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(w._,{htmlFor:"notes-modal",className:"font-medium text-gray-800",children:"Notas Adicionais"}),(0,r.jsx)(k.g,{id:"notes-modal",placeholder:"Ex: Entrada pela Portaria B, procurar por Enfermeira Maria...",value:Y,onChange:e=>K(e.target.value)})]})]}),(0,r.jsxs)(n.cN,{className:"mt-2 pt-4 border-t",children:[" ",(0,r.jsx)(n.GG,{asChild:!0,children:(0,r.jsx)(s.z,{type:"button",variant:"outline",disabled:y,children:"Cancelar"})}),(0,r.jsxs)(s.z,{type:"button",onClick:ei,disabled:y,children:[y&&(0,r.jsx)(P.Z,{className:"mr-2 h-4 w-4 animate-spin"})," Publicar Vaga(s)"]})]})]})};var Z=t(2385);function O(){let{toast:e}=(0,o.pm)(),[a,t]=(0,i.useState)([]),[u,h]=(0,i.useState)(!0),[m,p]=(0,i.useState)(null),[f,x]=(0,i.useState)(!1),g=(0,i.useCallback)(async()=>{h(!0),p(null);try{let e=await (0,d.G2)();t(e.sort((e,a)=>e.date.getTime()-a.date.getTime()||e.startTime.localeCompare(a.startTime)))}catch(a){console.error("Error fetching open shifts:",a),p(a.message||"Erro ao buscar vagas."),e({title:"Erro ao Buscar Vagas",description:a.message,variant:"destructive"})}finally{h(!1)}},[e]);(0,i.useEffect)(()=>{g()},[g]);let y=async a=>{if(a)try{await (0,d.CW)(a),e({title:"Vaga Cancelada",variant:"default"}),g()}catch(a){e({title:"Erro ao Cancelar",description:a.message||"Falha",variant:"destructive"})}};return(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Vagas em Aberto"}),(0,r.jsxs)(n.Vq,{open:f,onOpenChange:x,children:[(0,r.jsx)(n.hg,{asChild:!0,children:(0,r.jsxs)(s.z,{size:"sm",children:[(0,r.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Publicar Nova Vaga"]})}),(0,r.jsx)(T,{onShiftAdded:()=>{x(!1),g()}})]})]}),u?(0,r.jsx)(Z.Gu,{message:"Carregando vagas abertas..."}):m?(0,r.jsx)(Z.Te,{message:m,onRetry:g}):0===a.length?(0,r.jsx)(Z.ub,{message:"Nenhuma vaga aberta encontrada."}):(0,r.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,r.jsx)(j,{shift:e,actions:[{label:"Cancelar",icon:c.Z,onClick:()=>y(e.id),variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 rounded-full w-8 h-8"}]},e.id))})]})}},1098:function(e,a,t){"use strict";t.d(a,{f:function(){return n}});var r=t(57437);t(2265);var i=t(21770),s=t(94508),o=t(62869);function n(e){let{className:a,classNames:t,showOutsideDays:n=!0,...l}=e;return(0,r.jsx)(i._,{showOutsideDays:n,className:(0,s.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,s.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,s.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-red-500 text-white hover:bg-red-600 focus:bg-red-500 font-bold opacity-100",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},...l})}n.displayName="Calendar"},53647:function(e,a,t){"use strict";t.d(a,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return x},i4:function(){return h},ki:function(){return u}});var r=t(57437),i=t(2265),s=t(56873),o=t(40875),n=t(22135),l=t(30401),c=t(94508);let d=s.fC;s.ZA;let u=s.B4,h=i.forwardRef((e,a)=>{let{className:t,children:i,...n}=e;return(0,r.jsxs)(s.xz,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[i,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=s.xz.displayName;let m=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,r.jsx)(s.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...i,children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})});m.displayName=s.u_.displayName;let p=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,r.jsx)(s.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...i,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});p.displayName=s.$G.displayName;let f=i.forwardRef((e,a)=>{let{className:t,children:i,position:o="popper",...n}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...n,children:[(0,r.jsx)(m,{}),(0,r.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,r.jsx)(p,{})]})})});f.displayName=s.VY.displayName,i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,r.jsx)(s.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...i})}).displayName=s.__.displayName;let x=i.forwardRef((e,a)=>{let{className:t,children:i,...o}=e;return(0,r.jsxs)(s.ck,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:i})]})});x.displayName=s.ck.displayName,i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,r.jsx)(s.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...i})}).displayName=s.Z0.displayName},2385:function(e,a,t){"use strict";t.d(a,{Gu:function(){return l},Te:function(){return d},ub:function(){return c}});var r=t(57437);t(2265);var i=t(62869),s=t(51817),o=t(43044),n=t(49322);let l=e=>{let{message:a="Carregando..."}=e;return(0,r.jsxs)("div",{className:"flex justify-center items-center py-10 min-h-[150px]",children:[(0,r.jsx)(s.Z,{className:"h-6 w-6 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"ml-3 text-sm text-gray-600",children:a})]})},c=e=>{let{message:a}=e;return(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500 py-10 min-h-[150px] flex flex-col items-center justify-center bg-gray-50/80 rounded-md border border-dashed",children:[(0,r.jsx)(o.Z,{className:"w-10 h-10 text-gray-400 mb-3"}),a]})},d=e=>{let{message:a,onRetry:t}=e;return(0,r.jsxs)("div",{className:"text-center text-sm text-red-600 py-10 min-h-[150px] flex flex-col items-center justify-center bg-red-50 rounded-md border border-red-200",children:[(0,r.jsx)(n.Z,{className:"w-10 h-10 text-red-500 mb-3"}),(0,r.jsx)("p",{className:"font-medium mb-1",children:"Ocorreu um erro"}),(0,r.jsx)("p",{className:"mb-3 px-4",children:a||"N\xe3o foi poss\xedvel carregar os dados."})," ",t&&(0,r.jsx)(i.z,{variant:"destructive",size:"sm",onClick:t,children:"Tentar Novamente"})]})}},76818:function(e,a,t){"use strict";t.d(a,{g:function(){return o}});var r=t(57437),i=t(2265),s=t(94508);let o=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,r.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});o.displayName="Textarea"},92651:function(e,a,t){"use strict";t.d(a,{CQ:function(){return d},Fl:function(){return x},TX:function(){return h},Ts:function(){return p},XB:function(){return n},bI:function(){return f},c0:function(){return m},hc:function(){return g},l5:function(){return l},pH:function(){return u},q9:function(){return c}});var r=t(43301),i=t(5978),s=t(17293);let o=(0,t(13491).V1)(s.functions,"createStaffUser"),n=async e=>{try{let a=await o(e);if(!a.data.success)throw Error("A fun\xe7\xe3o de backend n\xe3o retornou sucesso.");return a.data.user}catch(e){throw console.error("[AuthService] Erro ao chamar a fun\xe7\xe3o createStaffUser:",e),Error(e.message||"N\xe3o foi poss\xedvel adicionar o membro \xe0 Equipa.")}},l=async e=>{try{let a=(0,i.hJ)(s.db,"users"),t=(0,i.IO)(a,(0,i.ar)("hospitalId","==",e)),r=await (0,i.PL)(t);if(r.empty)return[];return r.docs.map(e=>({uid:e.id,...e.data()})).filter(a=>a.uid!==e)}catch(a){throw console.error("[AuthService] Erro ao buscar a Equipa para o hospital ".concat(e,":"),a),Error("N\xe3o foi poss\xedvel carregar a lista da Equipa.")}},c=async(e,a,t)=>{try{let i=await (0,r.Xb)(s.auth,e,a);return await (0,r.ck)(i.user,{displayName:t}),i.user}catch(e){throw console.error("[AuthService] Erro ao criar usu\xe1rio no Auth:",e),e}},d=async(e,a,t,r,o)=>{let n={};if("doctor"===r){let{documents:e,specialistDocuments:a,invitationToken:t,...r}=o;n={...r,documents:e,specialistDocuments:a,documentVerificationStatus:"PENDING_REVIEW",adminVerificationNotes:"",invitationToken:t||null}}else if("hospital"===r){let{hospitalDocs:e,legalRepDocuments:a,...t}=o;n={companyInfo:{cnpj:t.cnpj,stateRegistration:t.stateRegistration,phone:t.phone,address:t.address},legalRepresentativeInfo:t.legalRepresentativeInfo,hospitalDocs:e,legalRepDocuments:a,documentVerificationStatus:"PENDING_REVIEW",adminVerificationNotes:""}}else if(["receptionist","triage_nurse","caravan_admin","admin","backoffice"].includes(r))n={};else throw Error("Tipo de perfil de registro inv\xe1lido.");let l={uid:e,email:a,displayName:t,userType:r,createdAt:(0,i.Bt)(),updatedAt:(0,i.Bt)(),...n};await (0,i.pl)((0,i.JU)(s.db,"users",e),l),console.log("[AuthService] Perfil ".concat(r," salvo para UID: ").concat(e))},u=async(e,a)=>{try{return(await (0,r.e5)(s.auth,e,a)).user}catch(e){throw console.error("[AuthService] Login error:",e),e}},h=async()=>{try{await (0,r.w7)(s.auth)}catch(e){throw console.error("[AuthService] Logout error:",e),e}},m=async e=>{try{await (0,r.LS)(s.auth,e)}catch(e){throw console.error("[AuthService] Reset error:",e),e}},p=async()=>{let e=s.auth.currentUser;if(!e)return null;try{let a=(0,i.JU)(s.db,"users",e.uid),t=await (0,i.QT)(a);if(t.exists())return{uid:t.id,...t.data()};return null}catch(e){throw console.error("[AuthService] Get current user data error:",e),e}},f=async(e,a)=>{if(!e)throw Error("ID do Doutor n\xe3o fornecido para atualiza\xe7\xe3o.");if(!a||0===Object.keys(a).length){console.warn("[AuthService] Nenhum dado fornecido para atualiza\xe7\xe3o do perfil do doutor.");return}let t=(0,i.JU)(s.db,"users",e),r={};if(Object.keys(a).forEach(e=>{void 0!==a[e]&&("address"===e&&"object"==typeof a.address&&null!==a.address?Object.keys(a.address).forEach(e=>{void 0!==a.address[e]&&(r["address.".concat(e)]=a.address[e])}):r[e]=a[e])}),0===Object.keys(r).length){console.warn("[AuthService] Nenhum dado v\xe1lido para atualizar ap\xf3s filtrar undefined.");return}r.updatedAt=(0,i.Bt)();try{var o;let a=await (0,i.QT)(t);if(!a.exists()||(null===(o=a.data())||void 0===o?void 0:o.userType)!=="doctor")throw Error("Perfil de doutor n\xe3o encontrado ou tipo de usu\xe1rio incorreto para atualiza\xe7\xe3o.");await (0,i.r7)(t,r),console.log("[AuthService] Perfil do doutor ".concat(e," atualizado com sucesso."))}catch(a){throw console.error("[AuthService] Erro ao atualizar perfil do doutor ".concat(e,":"),a),a}},x=async(e,a)=>{try{let t=(0,i.hJ)(s.db,"users"),r=(0,i.IO)(t,(0,i.ar)("userType","==","doctor"),(0,i.ar)("specialties","array-contains",a),(0,i.ar)("healthUnitIds","array-contains",e)),o=await (0,i.PL)(r);if(o.empty)return[];return o.docs.map(e=>({uid:e.id,...e.data()}))}catch(e){throw console.error("[AuthService] Erro ao buscar m\xe9dicos associados por especialidade:",e),Error("N\xe3o foi poss\xedvel carregar a lista de m\xe9dicos para esta unidade.")}},g=async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)throw Error("ID do usu\xe1rio n\xe3o fornecido.");let o=(0,i.JU)(s.db,"users",e),n={documentVerificationStatus:a,adminVerificationNotes:t,documentRejectionReasons:r,updatedAt:(0,i.Bt)()};"APPROVED"===a&&(n.documentRejectionReasons={},n.adminVerificationNotes="");try{await (0,i.r7)(o,n)}catch(a){throw console.error("Erro ao atualizar status do usu\xe1rio ".concat(e,":"),a),Error("Falha ao atualizar o status do cadastro.")}}},49505:function(e,a,t){"use strict";t.d(a,{Gg:function(){return o},_:function(){return c},_e:function(){return d},aN:function(){return l},ku:function(){return s},yT:function(){return n}});var r=t(5978),i=t(17293);let s={plantao_12h_diurno:100,plantao_12h_noturno:120,plantao_24h:110,consulta_ambulatorial:80,cirurgia_eletiva:150,uti_adulto:130,medico_de_Guarda:250,medico_Diarista_uti:300,coordenador_medico:200,enfermaria:120,telemedicina:90,medico_prescritor:200,intensivista:125,medico_sala_emergencia:125,medico_visitador:125},o=["Anestesiologia","Angiologia","Cardiologia","Cirurgia Cardiovascular","Cirurgia da M\xe3o","Cirurgia de Cabe\xe7a e Pesco\xe7o","Cirurgia do Aparelho Digestivo","Cirurgia Geral","Cirurgia Oncol\xf3gica","Cirurgia Pedi\xe1trica","Cirurgia Pl\xe1stica","Cirurgia Tor\xe1cica","Cirurgia Vascular","Cl\xednica M\xe9dica","Coloproctologia","Dermatologia","Endocrinologia e Metabologia","Endoscopia","Gastroenterologia","Gen\xe9tica M\xe9dica","Geriatria","Ginecologia e Obstetr\xedcia","Hematologia e Hemoterapia","Homeopatia","Infectologia","Mastologia","Medicina de Emerg\xeancia","Medicina de Fam\xedlia e Comunidade","Medicina do Trabalho","Medicina Esportiva","Medicina F\xedsica e Reabilita\xe7\xe3o","Medicina Intensiva","Medicina Legal e Per\xedcia M\xe9dica","Medicina Nuclear","Medicina Preventiva e Social","Nefrologia","Neurocirurgia","Neurologia","Nutrologia","Oftalmologia","Oncologia Cl\xednica","Ortopedia e Traumatologia","Otorrinolaringologia","Patologia","Patologia Cl\xednica/Medicina Laboratorial","Pediatria","Pneumologia","Psiquiatria","Radiologia e Diagn\xf3stico por Imagem","Radioterapia","Reumatologia","Urologia"],n=async e=>{let a=i.auth.currentUser;if(!a)throw Error("Usu\xe1rio n\xe3o autenticado.");try{var t;let s=(0,r.JU)(i.db,"users",a.uid),o=await (0,r.QT)(s),n=(null===(t=o.data())||void 0===t?void 0:t.displayName)||"Nome n\xe3o informado",l=await (0,r.ET)((0,r.hJ)(i.db,"doctorTimeSlots"),{...e,doctorId:a.uid,doctorName:n,status:"AVAILABLE",createdAt:(0,r.Bt)(),updatedAt:(0,r.Bt)()});return console.log("[addTimeSlot] Nova disponibilidade adicionada com nome: ".concat(n)),l.id}catch(e){throw console.error("Erro ao adicionar disponibilidade:",e),e}},l=async()=>{let e=i.auth.currentUser;if(!e)return[];try{let a=(0,r.IO)((0,r.hJ)(i.db,"doctorTimeSlots"),(0,r.ar)("doctorId","==",e.uid),(0,r.Xo)("date","asc"));return(await (0,r.PL)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Erro ao buscar disponibilidades:",e),Error("Falha ao carregar suas disponibilidades.")}},c=async(e,a)=>{let t=(0,r.JU)(i.db,"doctorTimeSlots",e);try{await (0,r.r7)(t,{...a,updatedAt:(0,r.Bt)()})}catch(e){throw console.error("Erro ao atualizar disponibilidade:",e),e}},d=async e=>{try{await (0,r.oe)((0,r.JU)(i.db,"doctorTimeSlots",e))}catch(e){throw console.error("Erro ao deletar disponibilidade:",e),e}}},33569:function(e,a,t){"use strict";t.d(a,{AX:function(){return n},CW:function(){return c},G2:function(){return l},S$:function(){return d},xf:function(){return o}});var r=t(5978),i=t(17293),s=t(92651);let o=async e=>{let a=i.auth.currentUser;if(!a)throw Error("Usu\xe1rio n\xe3o autenticado.");let t=await (0,s.Ts)();if(!t||"hospital"!==t.role)throw Error("Perfil de hospital n\xe3o encontrado ou inv\xe1lido.");let o={...e,hospitalId:a.uid,hospitalName:t.displayName,publishedByUID:a.uid,publishedByName:a.displayName||t.displayName||void 0,status:"OPEN",createdAt:(0,r.Bt)(),updatedAt:(0,r.Bt)()};try{let e=await (0,r.ET)((0,r.hJ)(i.db,"shiftRequirements"),o);return console.log("[SERVICE] Nova Demanda de Plant\xe3o adicionada com ID: ",e.id),e.id}catch(e){throw console.error("[SERVICE] Erro ao adicionar demanda:",e),e}},n=async(e,a)=>{if(!i.auth.currentUser)throw Error("Usu\xe1rio n\xe3o autenticado.");let t=(0,r.JU)(i.db,"shiftRequirements",e);try{await (0,r.r7)(t,{...a,updatedAt:(0,r.Bt)()}),console.log("[SERVICE] Demanda ID:",e,"atualizada.")}catch(e){throw console.error("[SERVICE] Erro ao atualizar demanda:",e),e}},l=async()=>{let e=i.auth.currentUser;if(!e)return[];try{let a=(0,r.IO)((0,r.hJ)(i.db,"shiftRequirements"),(0,r.ar)("hospitalId","==",e.uid),(0,r.ar)("status","==","OPEN"),(0,r.Xo)("createdAt","desc")),t=await (0,r.PL)(a),s=[];return t.forEach(e=>{s.push({id:e.id,...e.data()})}),console.log("[SERVICE] getHospitalShiftRequirements (OPEN): Encontradas ".concat(s.length," demandas.")),s}catch(e){throw console.error("[SERVICE] Erro getHospitalShiftRequirements:",e),e}},c=async e=>{if(!i.auth.currentUser)throw Error("Usu\xe1rio n\xe3o autenticado.");try{await (0,r.oe)((0,r.JU)(i.db,"shiftRequirements",e)),console.log("[SERVICE] Demanda deletada ID:",e)}catch(e){throw console.error("[SERVICE] Erro ao deletar demanda:",e),e}},d=async e=>{if(!e)throw Error("ID do hospital n\xe3o fornecido.");return{kpis:{},monthlyCosts:[],specialtyDemand:[]}}},5005:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},88501:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},49322:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},43044:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},95252:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},33245:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},83774:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99397:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18930:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[4358,9990,6137,9084,9733,6838,4517,6008,9315,4084,7988,3294,2592,1120,2971,2117,1744],function(){return e(e.s=85938)}),_N_E=e.O()}]);