(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{7668:function(e,a,s){Promise.resolve().then(s.bind(s,30075))},30075:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return ea}});var t=s(57437),i=s(2265),r=s(62869),l=s(66070),n=s(12339),o=s(26110),d=s(1098),c=s(53647),m=s(26815),h=s(95186),u=s(76818),x=s(35153),p=s(35974),g=s(57054),f=s(23518),j=s(51888),v=s(94508),N=s(17293),b=s(5978),y=s(33569),w=s(49505),C=s(51817),E=s(43044),S=s(49322),D=s(69076),L=s(32489),k=s(88501),P=s(91723),R=s(83774),I=s(5005),T=s(95252),O=s(95805),A=s(33245),Z=s(65690),z=s(58896),_=s(88944),B=s(70525),G=s(99397),V=s(53121),U=s(18930),M=s(42208),H=s(99388);let F=e=>{let{title:a,value:s,description:i,icon:r,isLoading:n}=e;return(0,t.jsxs)(l.Zb,{className:"shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium text-gray-600",children:a}),(0,t.jsx)(r,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[n?(0,t.jsx)("div",{className:"h-8 flex items-center",children:(0,t.jsx)(C.Z,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):(0,t.jsxs)("div",{className:(0,v.cn)("font-bold text-gray-900","text-lg md:text-xl lg:text-2xl"),children:[s," "]}),i&&!n&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground pt-1",children:i})]})]})},J=Array.from({length:48},(e,a)=>"".concat(Math.floor(a/2).toString().padStart(2,"0"),":").concat(a%2==0?"00":"30")),q=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],Y={SP:["S\xe3o Paulo","Campinas","Guarulhos","Osasco","Santo Andr\xe9","S\xe3o Bernardo do Campo","Santos","Ribeir\xe3o Preto","Sorocaba","Jundia\xed","Piracicaba","Bauru","Franca","Taubat\xe9","Limeira","Barueri","Cotia","Itapevi","Ara\xe7ariguama"],RJ:["Rio de Janeiro","S\xe3o Gon\xe7alo","Duque de Caxias","Nova Igua\xe7u","Niter\xf3i","Belford Roxo","Campos dos Goytacazes","S\xe3o Jo\xe3o de Meriti","Petr\xf3polis","Volta Redonda"],MG:["Belo Horizonte","Uberl\xe2ndia","Contagem","Juiz de Fora","Betim","Montes Claros","Ribeir\xe3o das Neves","Uberaba","Governador Valadares","Ipatinga"]},X=Object.entries(w.ku).map(e=>{let[a,s]=e;return{value:a,label:a.split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" "),rateExample:s}}),K=i.memo(e=>{let{message:a="Carregando dados..."}=e;return(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center text-center py-10 min-h-[150px] w-full",children:[" ",(0,t.jsx)(C.Z,{className:"h-8 w-8 animate-spin text-blue-600"})," ",(0,t.jsx)("span",{className:"ml-3 text-sm text-gray-600 mt-3",children:a})," "]})});K.displayName="LoadingState";let Q=i.memo(e=>{let{message:a,actionButton:s}=e;return(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500 py-10 min-h-[150px] flex flex-col items-center justify-center bg-gray-50/70 rounded-md border border-dashed border-gray-300 w-full",children:[" ",(0,t.jsx)(E.Z,{className:"w-12 h-12 text-gray-400 mb-4"})," ",(0,t.jsx)("p",{className:"font-medium text-gray-600 mb-1",children:"Nada por aqui ainda!"})," ",(0,t.jsx)("p",{className:"max-w-xs",children:a})," ",s&&(0,t.jsx)("div",{className:"mt-4",children:s})," "]})});Q.displayName="EmptyState";let W=i.memo(e=>{let{message:a,onRetry:s}=e;return(0,t.jsxs)("div",{className:"text-center text-sm text-red-600 py-10 min-h-[150px] flex flex-col items-center justify-center bg-red-50/70 rounded-md border border-dashed border-red-300 w-full",children:[" ",(0,t.jsx)(S.Z,{className:"w-12 h-12 text-red-400 mb-4"})," ",(0,t.jsx)("p",{className:"font-semibold text-red-700 mb-1 text-base",children:"Oops! Algo deu errado."})," ",(0,t.jsx)("p",{className:"max-w-md text-red-600",children:a||"N\xe3o foi poss\xedvel carregar os dados."})," ",s&&(0,t.jsxs)(r.z,{variant:"destructive",size:"sm",onClick:s,className:"mt-4",children:[" ",(0,t.jsx)(D.Z,{className:"mr-2 h-4 w-4"})," Tentar Novamente "]})," "]})});W.displayName="ErrorState";let $=e=>{var a;let{onShiftSubmitted:s,initialData:l}=e,{toast:n}=(0,x.pm)(),S=!!l&&!!l.id,[D,Z]=(0,i.useState)(()=>{var e;return(null==l?void 0:null===(e=l.dates)||void 0===e?void 0:e.map(e=>e.toDate()))||[]}),[z,_]=(0,i.useState)((null==l?void 0:l.startTime)||"07:00"),[B,G]=(0,i.useState)((null==l?void 0:l.endTime)||"19:00"),[V,U]=(0,i.useState)(String((null==l?void 0:l.numberOfVacancies)||"1")),[M,H]=(0,i.useState)((null==l?void 0:l.specialtiesRequired)||[]),[F,K]=(0,i.useState)((null==l?void 0:l.state)||""),[Q,W]=(0,i.useState)((null==l?void 0:l.cities)||[]),[$,ee]=(0,i.useState)((null==l?void 0:l.serviceType)||""),[ea,es]=(0,i.useState)(String((null==l?void 0:l.offeredRate)||"")),[et,ei]=(0,i.useState)((null==l?void 0:l.notes)||""),[er,el]=(0,i.useState)(!1),[en,eo]=(0,i.useState)(!1),[ed,ec]=(0,i.useState)(""),[em,eh]=(0,i.useState)(null),[eu,ex]=(0,i.useState)([]),ep=(e,a)=>{_(e),G(a)},eg=(0,i.useCallback)(()=>{Z([]),_("07:00"),G("19:00"),U("1"),H([]),ec(""),eh(null),K(""),W([]),ex([]),ee(""),es(""),ei("")},[]),ef=(0,i.useCallback)((e,a)=>{e&&a&&e===a?eh("In\xedcio n\xe3o pode ser igual ao t\xe9rmino."):eh(null)},[]);(0,i.useEffect)(()=>{ef(z,B)},[z,B,ef]),(0,i.useEffect)(()=>{F?(ex(Y[F]||[]),l&&F===l.state||W([])):(ex([]),W([]))},[F,l]);let ej=e=>{M.includes(e)||H(a=>[...a,e]),ec(""),eo(!1)},ev=e=>{H(a=>a.filter(a=>a!==e))},eN=(0,i.useMemo)(()=>w.Gg.filter(e=>"string"==typeof e&&e.toLowerCase().includes(ed.toLowerCase())&&!M.includes(e)),[ed,M]),eb=async()=>{let e=parseFloat(ea.replace(",",".")),a=parseInt(V,10);if(0===D.length&&!S){n({title:"Datas s\xe3o obrigat\xf3rias",variant:"destructive"});return}if(em){n({title:"Hor\xe1rio Inv\xe1lido",variant:"destructive"});return}if(!$){n({title:"Tipo de Atendimento Obrigat\xf3rio",variant:"destructive"});return}if(isNaN(e)||e<=0){n({title:"Valor Hora Inv\xe1lido",variant:"destructive"});return}if(isNaN(a)||a<=0){n({title:"N\xba de Profissionais Inv\xe1lido",variant:"destructive"});return}if(!F||0===Q.length){n({title:"Localiza\xe7\xe3o Obrigat\xf3ria",description:"Selecione o estado e pelo menos uma cidade.",variant:"destructive"});return}el(!0);let t=N.I8.currentUser;if(!t){n({title:"Usu\xe1rio n\xe3o autenticado",variant:"destructive"}),el(!1);return}let i=z>B,r=et.trim();try{if(S&&(null==l?void 0:l.id)){let s={startTime:z,endTime:B,isOvernight:i,state:F,cities:Q,serviceType:$,specialtiesRequired:M,offeredRate:e,numberOfVacancies:a,...r?{notes:r}:{notes:""}};await (0,y.AX)(l.id,s),n({title:"Demanda Atualizada!",variant:"default"})}else{let s=D.map(e=>b.EK.fromDate(e)),l={publishedByUID:t.uid,dates:s,startTime:z,endTime:B,isOvernight:i,state:F,cities:Q,serviceType:$,specialtiesRequired:M,offeredRate:e,numberOfVacancies:a,...r&&{notes:r}};await (0,y.xf)(l),n({title:"Demanda Publicada!",variant:"default"}),S||eg()}s()}catch(e){n({title:"Erro ao ".concat(S?"Salvar":"Publicar"),description:e.message,variant:"destructive"})}finally{el(!1)}};return(0,t.jsxs)(o.cZ,{className:"sm:max-w-2xl md:max-w-3xl",children:[(0,t.jsxs)(o.fK,{children:[(0,t.jsx)(o.$N,{className:"text-xl",children:S?"Editar Demanda":"Publicar Nova Demanda"}),(0,t.jsx)(o.Be,{children:S?"Altere os detalhes. Datas n\xe3o s\xe3o edit\xe1veis.":"Defina os crit\xe9rios. Uma demanda ser\xe1 criada para cada data selecionada."})]}),(0,t.jsx)(o.GG,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"ghost",size:"icon",className:"absolute top-4 right-4",children:[(0,t.jsx)(L.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Fechar"})]})}),(0,t.jsxs)("div",{className:"grid gap-5 py-4 max-h-[70vh] overflow-y-auto px-1 pr-3 md:pr-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(m._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(k.Z,{}),"Data(s)*"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:S?"Original (n\xe3o edit\xe1vel).":"Selecione."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-start",children:[S?(0,t.jsx)(d.f,{mode:"single",selected:D[0],disabled:!0,footer:D[0]?(0,t.jsx)("p",{children:null===(a=D[0])||void 0===a?void 0:a.toLocaleDateString("pt-BR")}):null}):(0,t.jsx)(d.f,{mode:"multiple",selected:D,onSelect:Z,disabled:{before:new Date(new Date().setHours(0,0,0,0))},footer:D.length>0?(0,t.jsxs)("p",{children:[D.length," dia(s)"]}):(0,t.jsx)("p",{children:"Nenhum dia"}),modifiers:{selected:D},modifiersStyles:{selected:{backgroundColor:"#2563eb",color:"white",borderRadius:"0.375rem"}}}),D.length>0&&!S&&(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>Z([]),children:[(0,t.jsx)(L.Z,{})," Limpar"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[" ",(0,t.jsxs)(m._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(P.Z,{}),"Hor\xe1rio*"]})," ",(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[" ",(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ep("07:00","19:00"),children:"Diurno"})," ",(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ep("19:00","07:00"),children:"Noturno"})," ",(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ep("08:00","12:00"),children:"Manh\xe3"})," ",(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ep("13:00","18:00"),children:"Tarde"})," ",(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ep("00:00","23:30"),children:"24h"})," "]})," ",(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[" ",(0,t.jsxs)("div",{children:[(0,t.jsx)(m._,{htmlFor:"sTime",children:"In\xedcio*"}),(0,t.jsxs)(c.Ph,{value:z,onValueChange:_,children:[(0,t.jsx)(c.i4,{id:"sTime",className:(0,v.cn)(em&&"border-red-500"),children:(0,t.jsx)(c.ki,{})}),(0,t.jsx)(c.Bw,{children:J.map(e=>(0,t.jsx)(c.Ql,{value:e,children:e},"s"+e))})]})]})," ",(0,t.jsxs)("div",{children:[(0,t.jsx)(m._,{htmlFor:"eTime",children:"T\xe9rmino*"}),(0,t.jsxs)(c.Ph,{value:B,onValueChange:G,children:[(0,t.jsx)(c.i4,{id:"eTime",className:(0,v.cn)(em&&"border-red-500"),children:(0,t.jsx)(c.ki,{})}),(0,t.jsx)(c.Bw,{children:J.map(e=>(0,t.jsx)(c.Ql,{value:e,children:e},"e"+e))})]})]})," ",em&&(0,t.jsx)("p",{className:"text-red-600 col-span-2",children:em})," "]})," "]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(m._,{htmlFor:"state-m",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(R.Z,{}),"Estado*"]}),(0,t.jsxs)(c.Ph,{value:F,onValueChange:K,children:[(0,t.jsx)(c.i4,{id:"state-m",children:(0,t.jsx)(c.ki,{placeholder:"UF..."})}),(0,t.jsx)(c.Bw,{children:q.map(e=>(0,t.jsx)(c.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m._,{htmlFor:"city-m",className:"font-semibold text-gray-800",children:"Cidades*"}),(0,t.jsx)(j.R,{selectedState:F,availableCities:eu,selectedCities:Q,onConfirm:W})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[" ",(0,t.jsxs)("div",{children:[(0,t.jsxs)(m._,{htmlFor:"serv-type-m",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(I.Z,{}),"Tipo*"]}),(0,t.jsxs)(c.Ph,{value:$,onValueChange:ee,children:[(0,t.jsx)(c.i4,{id:"serv-type-m",children:(0,t.jsx)(c.ki,{placeholder:"Selecione..."})}),(0,t.jsx)(c.Bw,{children:X.map(e=>(0,t.jsxs)(c.Ql,{value:e.value,children:[e.label," ",(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(0,v.xG)(e.rateExample),"/h)"]})]},e.value))})]})]})," ",(0,t.jsxs)("div",{children:[(0,t.jsxs)(m._,{htmlFor:"rate-m",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(T.Z,{}),"Valor/Hora (R$)*"]}),(0,t.jsx)(h.I,{id:"rate-m",type:"number",min:"1",step:"any",placeholder:"150.00",value:ea,onChange:e=>es(e.target.value)})]})," ",(0,t.jsxs)("div",{children:[(0,t.jsxs)(m._,{htmlFor:"vac-m",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(O.Z,{}),"Profissionais*"]}),(0,t.jsx)(h.I,{id:"vac-m",type:"number",min:"1",step:"1",placeholder:"1",value:V,onChange:e=>U(e.target.value)})]})," "]}),(0,t.jsxs)("div",{className:"space-y-2",children:[" ",(0,t.jsxs)(m._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(E.Z,{}),"Especialidades (Opcional)"]})," ",(0,t.jsxs)(g.J2,{open:en,onOpenChange:eo,children:[(0,t.jsx)(g.xo,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"outline",className:"w-full justify-start font-normal h-9",children:M.length?M.join(", "):"Selecione..."})}),(0,t.jsx)(g.yk,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,t.jsxs)(f.mY,{children:[(0,t.jsx)(f.sZ,{value:ed,onValueChange:ec}),(0,t.jsxs)(f.e8,{children:[(0,t.jsx)(f.rb,{children:"Nenhuma."}),(0,t.jsx)(f.fu,{children:eN.map(e=>(0,t.jsx)(f.di,{value:e,onSelect:()=>ej(e),children:e},e))})]})]})})]})," ",M.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mt-2 pt-2 border-t",children:[" ",M.map(e=>(0,t.jsxs)(p.C,{variant:"secondary",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ev(e),className:"ml-1.5",children:(0,t.jsx)(L.Z,{className:"h-3 w-3"})})]},e))," "]})," "]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[" ",(0,t.jsxs)(m._,{htmlFor:"notes-m",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(A.Z,{}),"Notas (Opcional)"]})," ",(0,t.jsx)(u.g,{id:"notes-m",placeholder:"Detalhes adicionais...",value:et,onChange:e=>ei(e.target.value)})]})]}),(0,t.jsxs)(o.cN,{className:"mt-2 pt-4 border-t bg-slate-50 -m-6 px-6 pb-4 rounded-b-lg",children:[(0,t.jsx)(o.GG,{asChild:!0,children:(0,t.jsx)(r.z,{type:"button",variant:"outline",disabled:er,children:"Cancelar"})}),(0,t.jsxs)(r.z,{type:"button",onClick:eb,disabled:er||0===D.length&&!S,className:"bg-blue-600 hover:bg-blue-700",children:[" ",er&&(0,t.jsx)(C.Z,{className:"mr-2 h-4 w-4 animate-spin"})," ",er?S?"Salvando...":"Publicando...":S?"Salvar Altera\xe7\xf5es":"Publicar Demanda (".concat(D.length||0," Dia(s))")," "]})]})]})};$.displayName="AddShiftDialog";let ee=i.memo(e=>{var a;let s;let{shift:i,actions:l}=e,n=X.find(e=>e.value===i.serviceType),o=(null==n?void 0:n.label)||i.serviceType,d=(e=>{switch(e){case"OPEN":return{variant:"default",className:"bg-blue-100 text-blue-800 border-blue-300"};case"FULLY_STAFFED":case"CONFIRMED":case"ACTIVE_SIGNED":case"COMPLETED":case"IN_PROGRESS":return{variant:"default",className:"bg-green-100 text-green-800 border-green-300"};case"PARTIALLY_FILLED":return{variant:"default",className:"bg-sky-100 text-sky-800 border-sky-300"};case"PENDING_MATCH_REVIEW":case"PENDING_DOCTOR_ACCEPTANCE":case"PENDING_HOSPITAL_SIGNATURE":case"PENDING_CONTRACT_SIGNATURES":return{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300"};case"CANCELLED_BY_HOSPITAL":case"EXPIRED":return{variant:"destructive",className:""};default:return{variant:"outline",className:"bg-gray-100 text-gray-800 border-gray-300"}}})(i.status);return(0,t.jsxs)("div",{className:(0,v.cn)("flex flex-col sm:flex-row items-start sm:justify-between border rounded-lg p-4 gap-x-4 gap-y-3 transition-all duration-300 bg-white shadow-xs hover:shadow-md"),children:[" ",(0,t.jsxs)("div",{className:"flex-1 space-y-2 min-w-0",children:[" ",(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[" ",(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[" ",(0,t.jsx)(k.Z,{className:"h-4 w-4 shrink-0 text-blue-600"})," ",(0,t.jsx)("span",{suppressHydrationWarning:!0,children:(()=>{if(!i.dates||0===i.dates.length)return"Datas n\xe3o especificadas";let e=i.dates[0]instanceof b.EK?i.dates[0].toDate():null,a=e?e.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"Data inv\xe1lida";return i.dates.length>1&&(a+=" (e +".concat(i.dates.length-1," outro(s) dia(s))")),a})()})," ",(0,t.jsxs)("span",{className:"text-gray-500 font-normal",children:["(",i.startTime," - ",i.endTime,")"]})," "]})," ",(0,t.jsxs)(p.C,{variant:d.variant,className:(0,v.cn)("text-xs capitalize self-start sm:self-center",d.className),children:[" ",(null==(s=i.status)?void 0:s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Desconhecido"," "]})," "]})," ",(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1.5 text-xs text-gray-600 mt-1 pl-1",children:[" ",(0,t.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[(0,t.jsx)(R.Z,{className:"h-3.5 w-3.5 shrink-0 text-purple-500"}),(0,t.jsxs)("span",{children:[i.cities.join(", "),", ",i.state]})]})," ",(0,t.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[(0,t.jsx)(I.Z,{className:"h-3.5 w-3.5 shrink-0 text-cyan-500"}),(0,t.jsx)("span",{children:o})]})," ",(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-green-600 font-medium",children:[(0,t.jsx)(T.Z,{className:"h-3.5 w-3.5 shrink-0"}),(0,t.jsxs)("span",{children:[(0,v.xG)(i.offeredRate),"/hora"]})]})," ",(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-700 font-medium",children:[(0,t.jsx)(O.Z,{className:"h-3.5 w-3.5 shrink-0"}),(0,t.jsxs)("span",{children:[null!==(a=i.numberOfVacancies)&&void 0!==a?a:1," profissional(is) por data"]})]})," "]})," ",i.specialtiesRequired&&i.specialtiesRequired.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5 pt-1.5 pl-1",children:[" ",(0,t.jsx)("span",{className:"text-xs text-gray-500 mr-1 font-medium shrink-0",children:"Especialidades:"})," ",i.specialtiesRequired.map(e=>(0,t.jsx)(p.C,{variant:"outline",className:"text-gray-700 text-[11px] px-1.5 py-0.5 font-normal border-blue-200 bg-blue-50",children:e},e))," "]})," ",i.notes&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 pt-1.5 pl-1 italic flex items-start gap-1.5",children:[" ",(0,t.jsx)(A.Z,{className:"inline h-3.5 w-3.5 mr-0.5 shrink-0 relative top-0.5"})," ",(0,t.jsx)("span",{className:"truncate",children:i.notes})," "]})," "]})," ",l&&l.length>0&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 shrink-0 mt-2 sm:mt-0 self-end sm:self-center",children:[" ",l.map(e=>{var a;return(0,t.jsxs)(r.z,{variant:null!==(a=e.variant)&&void 0!==a?a:"ghost",size:"icon",onClick:e.onClick,className:(0,v.cn)("h-8 w-8 p-0",e.className),"aria-label":e.label,disabled:e.disabled,title:e.disabled?"Esta vaga n\xe3o pode ser alterada.":e.label,children:[" ",(0,t.jsx)(e.icon,{className:"h-4 w-4"})," "]},e.label)})," "]})," "]})});function ea(){var e,a,s,d;let{toast:c}=(0,x.pm)(),[m,h]=(0,i.useState)(null),[u,p]=(0,i.useState)([]),[g,f]=(0,i.useState)([]),[j,N]=(0,i.useState)([]),[b,w]=(0,i.useState)([]),E={isLoading:!0,error:null},[D,L]=(0,i.useState)({open:{...E},pending:{...E},confirmed:{...E},history:{...E},kpis:{...E}}),[k,R]=(0,i.useState)(!1),[I,T]=(0,i.useState)("open"),[A,J]=(0,i.useState)(null),q=(e,a)=>{L(s=>({...s,[e]:{...s[e],...a}}))},Y=(0,i.useCallback)(async e=>{q("kpis",{isLoading:!0,error:null});try{console.log("[HospitalShiftsPage] fetchDashboardData: Buscando KPIs..."),await new Promise(e=>setTimeout(e,100));let a=null!=e?e:u.length,s=g.length;h({openShiftsCount:a,pendingActionCount:s,totalDoctorsOnPlatform:152,costLast30Days:25780.5,fillRateLast30Days:85.7,avgTimeToFillHours:4.2,topSpecialtyDemand:"Cl\xednica M\xe9dica"}),q("kpis",{isLoading:!1})}catch(e){q("kpis",{isLoading:!1,error:e.message||"Erro ao buscar dados do painel."})}},[u.length,g.length]),X=(0,i.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];console.log("[HospitalShiftsPage] fetchOpenShifts chamado. updateKPIData:",e),q("open",{isLoading:!0,error:null});let a=[];try{a=await (0,y.G2)()||[],p(a.sort((e,a)=>{var s,t,i,r;return((null===(t=e.dates)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.toDate().getTime())||0)-((null===(r=a.dates)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.toDate().getTime())||0)||e.startTime.localeCompare(a.startTime)})),q("open",{isLoading:!1}),e&&Y(a.length)}catch(s){let a=s.message||"Erro ao carregar demandas abertas.";q("open",{isLoading:!1,error:a}),e&&q("kpis",{isLoading:!1,error:a})}},[Y]),ea=(0,i.useCallback)(async()=>{q("pending",{isLoading:!0,error:null});try{let e=await (0,y.iC)();f(e),q("pending",{isLoading:!1})}catch(e){q("pending",{isLoading:!1,error:e.message})}},[]),es=(0,i.useCallback)(async()=>{q("confirmed",{isLoading:!0,error:null});try{let e=await (0,y.YY)();N(e),q("confirmed",{isLoading:!1})}catch(e){q("confirmed",{isLoading:!1,error:e.message})}},[]),et=(0,i.useCallback)(async()=>{q("history",{isLoading:!0,error:null});try{let e=await (0,y.d5)();w(e),q("history",{isLoading:!1})}catch(e){q("history",{isLoading:!1,error:e.message})}},[]);(0,i.useEffect)(()=>{console.log("[HospitalShiftsPage] Montagem inicial, chamando fetchOpenShifts e outras buscas."),X(!0),ea()},[X,ea]);let ei=e=>{J(e),R(!0)},er=()=>{J(null),R(!0)},el=async e=>{if(e)try{await (0,y.CW)(e),c({title:"Demanda Cancelada"}),X(!0)}catch(e){c({title:"Erro ao Cancelar",description:e.message,variant:"destructive"})}};return(0,t.jsxs)("div",{className:"flex flex-col gap-6 md:gap-8 p-1",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-gray-800",children:"Painel de Gerenciamento de Plant\xf5es"}),D.kpis.error&&(D.kpis.isLoading||D.open.isLoading)&&(0,t.jsx)(W,{message:D.kpis.error||D.open.error||"Erro ao carregar dados iniciais.",onRetry:()=>X(!0)}),(0,t.jsxs)("section",{"aria-labelledby":"kpi-heading",children:[" ",(0,t.jsx)("h2",{id:"kpi-heading",className:"sr-only",children:"Vis\xe3o Geral"})," ",(0,t.jsxs)("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7",children:[(0,t.jsx)(F,{title:"Demandas Abertas",value:null!==(e=null==m?void 0:m.openShiftsCount)&&void 0!==e?e:"-",icon:S.Z,isLoading:D.open.isLoading||D.kpis.isLoading,description:"Aguardando m\xe9dicos"}),(0,t.jsx)(F,{title:"Pendentes A\xe7\xe3o",value:null!==(a=null==m?void 0:m.pendingActionCount)&&void 0!==a?a:"-",icon:Z.Z,isLoading:D.pending.isLoading||D.kpis.isLoading,description:"Matches/contratos"}),(0,t.jsx)(F,{title:"Taxa Preenchim. (30d)",value:(0,v.rl)(null==m?void 0:m.fillRateLast30Days),icon:z.Z,isLoading:D.kpis.isLoading,description:"Efici\xeancia"}),(0,t.jsx)(F,{title:"Custo Estimado (30d)",value:(0,v.xG)(null==m?void 0:m.costLast30Days),icon:_.Z,isLoading:D.kpis.isLoading,description:"Gasto com plant\xf5es"}),(0,t.jsx)(F,{title:"Tempo M\xe9dio Preench.",value:(0,v.bx)(null==m?void 0:m.avgTimeToFillHours),icon:P.Z,isLoading:D.kpis.isLoading,description:"Agilidade (horas)"}),(0,t.jsx)(F,{title:"M\xe9dicos na Plataforma",value:null!==(s=null==m?void 0:m.totalDoctorsOnPlatform)&&void 0!==s?s:"-",icon:O.Z,isLoading:D.kpis.isLoading,description:"Total cadastrados"}),(0,t.jsx)(F,{title:"Top Demanda (Espec.)",value:null!==(d=null==m?void 0:m.topSpecialtyDemand)&&void 0!==d?d:"-",icon:B.Z,isLoading:D.kpis.isLoading,description:"Mais requisitada"})]})," "]}),(0,t.jsxs)("section",{"aria-labelledby":"shifts-management-heading",children:[(0,t.jsx)("h2",{id:"shifts-management-heading",className:"text-xl font-semibold mb-4 mt-4 text-gray-700",children:"Gerenciamento Detalhado de Demandas"}),(0,t.jsxs)(n.mQ,{value:I,onValueChange:e=>{T(e),"confirmed"!==e||D.confirmed.isLoading||D.confirmed.error||0!==j.length?"history"!==e||D.history.isLoading||D.history.error||0!==b.length||et():es()},className:"w-full",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-3 mb-4 border-b pb-3",children:[(0,t.jsxs)(n.dr,{className:"grid w-full grid-cols-2 md:grid-cols-4 sm:w-auto shrink-0",children:[(0,t.jsxs)(n.SP,{value:"open",children:["Abertas ",D.open.isLoading&&"open"===I?(0,t.jsx)(C.Z,{className:"h-3 w-3 animate-spin ml-1.5"}):"(".concat(u.length,")")]}),(0,t.jsxs)(n.SP,{value:"pending",children:["Pendentes ",D.pending.isLoading&&"pending"===I?(0,t.jsx)(C.Z,{className:"h-3 w-3 animate-spin ml-1.5"}):"(".concat(g.length,")")]}),(0,t.jsxs)(n.SP,{value:"confirmed",children:["Confirmados ",D.confirmed.isLoading&&"confirmed"===I?(0,t.jsx)(C.Z,{className:"h-3 w-3 animate-spin ml-1.5"}):"(".concat(j.length,")")]}),(0,t.jsxs)(n.SP,{value:"history",children:["Hist\xf3rico ",D.history.isLoading&&"history"===I?(0,t.jsx)(C.Z,{className:"h-3 w-3 animate-spin ml-1.5"}):"(".concat(b.length,")")]})]}),(0,t.jsxs)(o.Vq,{open:k,onOpenChange:e=>{R(e),e||J(null)},children:[(0,t.jsxs)(o.hg,{onClick:er,className:(0,v.cn)((0,r.d)({variant:"default",size:"sm"}),"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white flex items-center"),children:[" ",(0,t.jsx)(G.Z,{className:"mr-1.5 h-4 w-4"})," Publicar Nova Demanda "]}),(0,t.jsx)($,{onShiftSubmitted:()=>{R(!1),J(null),T("open"),X(!0)},initialData:A},A?"edit-".concat(A.id):"new-shift")]})]}),(0,t.jsxs)(n.nU,{value:"open",children:[" ",(0,t.jsxs)(l.Zb,{children:[" ",(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Demandas em Aberto"})})," ",(0,t.jsxs)(l.aY,{children:[" ",D.open.isLoading?(0,t.jsx)(K,{}):D.open.error?(0,t.jsx)(W,{message:D.open.error,onRetry:()=>X(!1)}):0===u.length?(0,t.jsx)(Q,{message:"Nenhuma demanda aberta.",actionButton:(0,t.jsx)(r.z,{size:"sm",onClick:er,className:"bg-blue-600 hover:bg-blue-700",children:"Publicar Demanda"})}):(0,t.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,t.jsx)(ee,{shift:e,actions:[{label:"Editar",icon:V.Z,onClick:()=>ei(e),disabled:"OPEN"!==e.status},{label:"Cancelar",icon:U.Z,onClick:()=>el(e.id),disabled:"OPEN"!==e.status}]},e.id))})," "]})," "]})," "]}),(0,t.jsxs)(n.nU,{value:"confirmed",children:[" ",(0,t.jsxs)(l.Zb,{children:[" ",(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Demandas Confirmadas"})})," ",(0,t.jsxs)(l.aY,{children:[" ",D.confirmed.isLoading?(0,t.jsx)(K,{}):D.confirmed.error?(0,t.jsx)(W,{message:D.confirmed.error,onRetry:es}):0===j.length?(0,t.jsx)(Q,{message:"Nenhuma demanda confirmada."}):(0,t.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,t.jsx)(ee,{shift:e,actions:[{label:"Detalhes",icon:M.Z,onClick:()=>{}},{label:"Cancelar",icon:H.Z,onClick:()=>el(e.id),disabled:!0}]},e.id))})," "]})," "]})," "]}),(0,t.jsxs)(n.nU,{value:"history",children:[" ",(0,t.jsxs)(l.Zb,{children:[" ",(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Hist\xf3rico de Demandas"})})," ",(0,t.jsxs)(l.aY,{children:[" ",D.history.isLoading?(0,t.jsx)(K,{}):D.history.error?(0,t.jsx)(W,{message:D.history.error,onRetry:et}):0===b.length?(0,t.jsx)(Q,{message:"Nenhum hist\xf3rico."}):(0,t.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,t.jsx)(ee,{shift:e},e.id))})," "]})," "]})," "]})]})]})]})}ee.displayName="ShiftListItem"},51888:function(e,a,s){"use strict";s.d(a,{R:function(){return D}});var t=s(57437),i=s(2265),r=s(62869),l=s(4216),n=s(94508);let o=e=>{let{shouldScaleBackground:a=!0,...s}=e;return(0,t.jsx)(l.dy.Root,{shouldScaleBackground:a,...s})};o.displayName="Drawer";let d=l.dy.Trigger,c=l.dy.Portal,m=l.dy.Close,h=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(l.dy.Overlay,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",s),...i})});h.displayName=l.dy.Overlay.displayName;let u=i.forwardRef((e,a)=>{let{className:s,children:i,...r}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(h,{}),(0,t.jsxs)(l.dy.Content,{ref:a,className:(0,n.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...r,children:[(0,t.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),i]})]})});u.displayName="DrawerContent";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",a),...s})};x.displayName="DrawerHeader";let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("mt-auto flex flex-col gap-2 p-4",a),...s})};p.displayName="DrawerFooter";let g=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(l.dy.Title,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...i})});g.displayName=l.dy.Title.displayName;let f=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(l.dy.Description,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...i})});f.displayName=l.dy.Description.displayName;var j=s(57054),v=s(23518),N=s(43643);let b=i.forwardRef((e,a)=>{let{className:s,children:i,...r}=e;return(0,t.jsxs)(N.fC,{ref:a,className:(0,n.cn)("relative overflow-hidden",s),...r,children:[(0,t.jsx)(N.l_,{className:"h-full w-full rounded-[inherit]",children:i}),(0,t.jsx)(y,{}),(0,t.jsx)(N.Ns,{})]})});b.displayName=N.fC.displayName;let y=i.forwardRef((e,a)=>{let{className:s,orientation:i="vertical",...r}=e;return(0,t.jsx)(N.gb,{ref:a,orientation:i,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,t.jsx)(N.q4,{className:"relative flex-1 rounded-full bg-border"})})});y.displayName=N.gb.displayName;var w=s(30401),C=s(24156);let E=e=>{let[a,s]=i.useState(!1);return i.useEffect(()=>{let a=window.matchMedia(e);s(a.matches);let t=e=>s(e.matches);return a.addEventListener("change",t),()=>a.removeEventListener("change",t)},[e]),a},S=()=>E("(max-width: 768px)");function D(e){let{selectedState:a,availableCities:s,selectedCities:l,onConfirm:c,className:h}=e,[N,y]=i.useState(!1),[E,D]=i.useState(!1),L=S();i.useEffect(()=>{D(!0)},[]);let[k,P]=i.useState(l);i.useEffect(()=>{P(l)},[l]),i.useEffect(()=>{N&&P(l)},[N,l]),i.useEffect(()=>{P([]),c([])},[a,c]);let R=e=>{P(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},I=()=>{c(k),y(!1)},T=e=>{e||P(l),y(e)},O=!a||0===s.length,A=l.length>0?"".concat(l.length," cidade(s) selecionada(s)"):O?"Selecione um estado":"Selecione as cidades...",Z=()=>(0,t.jsxs)(v.mY,{children:[(0,t.jsx)(v.sZ,{placeholder:"Buscar cidade..."}),(0,t.jsxs)(v.e8,{children:[(0,t.jsx)(v.rb,{children:"Nenhuma cidade encontrada."}),(0,t.jsx)(v.fu,{children:(0,t.jsx)(b,{className:"h-[250px]",children:s.map(e=>(0,t.jsxs)(v.di,{value:e,onSelect:a=>{R(e)},className:"cursor-pointer",children:[(0,t.jsx)(w.Z,{className:(0,n.cn)("mr-2 h-4 w-4",k.includes(e)?"opacity-100":"opacity-0")}),(0,t.jsx)("span",{children:e})]},e))})})]})]});return E?L?(0,t.jsxs)(o,{open:N,onOpenChange:T,children:[(0,t.jsx)(d,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",role:"combobox",disabled:O,"aria-expanded":N,className:(0,n.cn)("w-full justify-between font-normal h-9",h),children:[A,(0,t.jsx)(C.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsxs)(u,{className:"flex flex-col max-h-[90vh]",children:[(0,t.jsxs)(x,{className:"flex-shrink-0 text-left",children:[(0,t.jsx)(g,{children:"Selecione as Cidades"}),(0,t.jsx)(f,{children:"Escolha uma ou mais cidades de atua\xe7\xe3o."})]}),(0,t.jsx)("div",{className:"flex-grow overflow-y-auto px-2",children:(0,t.jsx)(Z,{})}),(0,t.jsxs)(p,{className:"pt-4 flex-shrink-0 border-t bg-gray-50",children:[(0,t.jsxs)(r.z,{onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:["Confirmar (",k.length,")"]}),(0,t.jsx)(m,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"outline",children:"Cancelar"})})]})]})]}):(0,t.jsxs)(j.J2,{open:N,onOpenChange:T,children:[(0,t.jsx)(j.xo,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",role:"combobox",disabled:O,"aria-expanded":N,className:(0,n.cn)("w-full justify-between font-normal h-9",h),children:[A,(0,t.jsx)(C.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsxs)(j.yk,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:[(0,t.jsx)(Z,{}),(0,t.jsxs)("div",{className:"p-2 border-t flex items-center justify-end gap-2 bg-gray-50",children:[(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>P([]),children:"Limpar"}),(0,t.jsxs)(r.z,{size:"sm",onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:["Confirmar (",k.length,")"]})]})]})]}):(0,t.jsx)(r.z,{variant:"outline",disabled:!0,className:(0,n.cn)("w-full justify-between font-normal h-9",h),children:"Carregando..."})}},33569:function(e,a,s){"use strict";s.d(a,{AX:function(){return n},CW:function(){return d},G2:function(){return o},N_:function(){return p},S$:function(){return c},YY:function(){return h},d5:function(){return u},iC:function(){return m},m3:function(){return x},or:function(){return g},xf:function(){return l}});var t=s(5978),i=s(17293),r=s(92651);let l=async e=>{let a=i.I8.currentUser;if(!a)throw Error("Usu\xe1rio n\xe3o autenticado.");let s=await (0,r.Ts)();if(!s||"hospital"!==s.role)throw Error("Perfil de hospital n\xe3o encontrado ou inv\xe1lido.");let l={...e,hospitalId:a.uid,hospitalName:s.displayName,publishedByUID:a.uid,publishedByName:a.displayName||s.displayName||void 0,status:"OPEN",createdAt:(0,t.Bt)(),updatedAt:(0,t.Bt)()};try{let e=await (0,t.ET)((0,t.hJ)(i.db,"shiftRequirements"),l);return console.log("[SERVICE] Nova Demanda de Plant\xe3o adicionada com ID: ",e.id),e.id}catch(e){throw console.error("[SERVICE] Erro ao adicionar demanda:",e),e}},n=async(e,a)=>{if(!i.I8.currentUser)throw Error("Usu\xe1rio n\xe3o autenticado.");let s=(0,t.JU)(i.db,"shiftRequirements",e);try{await (0,t.r7)(s,{...a,updatedAt:(0,t.Bt)()}),console.log("[SERVICE] Demanda ID:",e,"atualizada.")}catch(e){throw console.error("[SERVICE] Erro ao atualizar demanda:",e),e}},o=async()=>{let e=i.I8.currentUser;if(!e)return[];try{let a=(0,t.IO)((0,t.hJ)(i.db,"shiftRequirements"),(0,t.ar)("hospitalId","==",e.uid),(0,t.ar)("status","==","OPEN"),(0,t.Xo)("createdAt","desc")),s=await (0,t.PL)(a),r=[];return s.forEach(e=>{r.push({id:e.id,...e.data()})}),console.log("[SERVICE] getHospitalShiftRequirements (OPEN): Encontradas ".concat(r.length," demandas.")),r}catch(e){throw console.error("[SERVICE] Erro getHospitalShiftRequirements:",e),e}},d=async e=>{if(!i.I8.currentUser)throw Error("Usu\xe1rio n\xe3o autenticado.");try{await (0,t.oe)((0,t.JU)(i.db,"shiftRequirements",e)),console.log("[SERVICE] Demanda deletada ID:",e)}catch(e){throw console.error("[SERVICE] Erro ao deletar demanda:",e),e}},c=async e=>{if(!e)throw Error("ID do hospital n\xe3o fornecido.");return{kpis:{},monthlyCosts:[],specialtyDemand:[]}},m=async()=>[],h=async()=>[],u=async()=>[],x=async()=>{let e=i.I8.currentUser;if(!e)return[];try{let a=(0,t.hJ)(i.db,"users",e.uid,"hospitalDoctors"),s=(0,t.IO)(a,(0,t.Xo)("name","asc")),r=await (0,t.PL)(s);if(r.empty)return[];return r.docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Erro ao buscar m\xe9dicos gerenciados:",e),[]}},p=async(e,a)=>{if(!e||!a.crm||!a.name)throw Error("Dados insuficientes para cadastrar o m\xe9dico (Nome e CRM s\xe3o obrigat\xf3rios).");let s=(0,t.hJ)(i.db,"users");await (0,t.i3)(i.db,async r=>{if(a.email){let e=(0,t.IO)(s,(0,t.ar)("email","==",a.email));if(!(await (0,t.PL)(e)).empty)throw Error("O email ".concat(a.email," j\xe1 est\xe1 cadastrado na plataforma."))}let l=(0,t.IO)(s,(0,t.ar)("professionalCrm","==",a.crm));if(!(await (0,t.PL)(l)).empty)throw Error("O CRM ".concat(a.crm," j\xe1 est\xe1 cadastrado na plataforma."));let n=(0,t.JU)((0,t.hJ)(i.db,"users"));r.set(n,{displayName:a.name,email:a.email||"",professionalCrm:a.crm,phone:a.phone||"",specialties:a.specialties||[],role:"doctor",documentVerificationStatus:"PENDING_DOCUMENTS",onboardingMethod:"EXTERNAL_HOSPITAL_INVITE",onboardedByHospitalId:e,createdAt:(0,t.Bt)(),updatedAt:(0,t.Bt)()});let o=(0,t.JU)((0,t.hJ)(i.db,"users",e,"hospitalDoctors"),n.id);r.set(o,{id:n.id,name:a.name,crm:a.crm,email:a.email||"",phone:a.phone||"",specialties:a.specialties||[],status:"ACTIVE_EXTERNAL",source:"EXTERNAL",addedAt:(0,t.Bt)()})})},g=async(e,a,s)=>(console.log("[SERVICE] Hospital ".concat(e," atualizando m\xe9dico ").concat(a," (MOCK):"),s),await new Promise(e=>setTimeout(e,400)),{success:!0,message:"Dados do m\xe9dico ".concat(s.name||a," atualizados (mock).")})}},function(e){e.O(0,[4358,9990,6137,9084,1543,7877,8398,6879,5343,2496,9844,8307,8621,6157,2971,2117,1744],function(){return e(e.s=7668)}),_N_E=e.O()}]);