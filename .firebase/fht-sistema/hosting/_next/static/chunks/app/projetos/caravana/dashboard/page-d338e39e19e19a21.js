(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9675],{99748:function(e,t,s){Promise.resolve().then(s.bind(s,25443))},25443:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(57437),r=s(2265),n=s(17293),l=s(5978),d=s(46413),i=s(66070),c=s(51817),o=s(76865),u=s(95805),m=s(42488),x=s(41671),f=s(92369),h=s(47625),j=s(77031),p=s(97059),N=s(62994),g=s(83046);let y=()=>(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)(c.Z,{className:"h-10 w-10 animate-spin text-blue-600"})}),b=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"text-center p-10 bg-red-50 rounded-lg",children:[(0,a.jsx)(o.Z,{className:"mx-auto h-12 w-12 text-red-400"}),(0,a.jsx)("p",{className:"mt-4 font-semibold text-red-700",children:"Ocorreu um Erro"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:t})]})};function w(){let{user:e}=(0,d.a)(),[t,s]=(0,r.useState)({waiting:0,inProgress:0,completedToday:0,totalToday:0}),[c,o]=(0,r.useState)([]),[w,v]=(0,r.useState)(!0),[Z,k]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!e){v(!1);return}let t=new Date;t.setHours(0,0,0,0);let a=new Date;a.setHours(23,59,59,999);let r=(0,l.IO)((0,l.hJ)(n.db,"consultations"),(0,l.ar)("createdAt",">=",l.EK.fromDate(t)),(0,l.ar)("createdAt","<=",l.EK.fromDate(a))),d=(0,l.cf)(r,e=>{let t=e.docs.map(e=>e.data()),a={waiting:0,inProgress:0,completedToday:0,totalToday:0},r=new Map;t.forEach(e=>{"AGUARDANDO"===e.status&&a.waiting++,"EM_ANDAMENTO"===e.status&&a.inProgress++,"FINALIZADO"===e.status&&a.completedToday++,e.specialty&&r.set(e.specialty,(r.get(e.specialty)||0)+1)}),a.totalToday=t.length;let n=Array.from(r.entries()).map(e=>{let[t,s]=e;return{name:t,total:s}});s(a),o(n),v(!1)},e=>{console.error("Erro ao escutar consultas:",e),k("N\xe3o foi poss\xedvel carregar os dados em tempo real."),v(!1)});return()=>d()},[e]),w)?(0,a.jsx)(y,{}):Z?(0,a.jsx)(b,{message:Z}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard do Multir\xe3o"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Vis\xe3o geral dos atendimentos em tempo real."})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Pacientes na Fila"}),(0,a.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.waiting}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aguardando atendimento"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Em Atendimento"}),(0,a.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.inProgress}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sendo atendidos agora"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Atendimentos Finalizados"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.completedToday}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Finalizados hoje"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Total de Hoje"}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.totalToday}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total de pacientes no dia"})]})]})]}),(0,a.jsx)("div",{className:"grid gap-4",children:(0,a.jsxs)(i.Zb,{className:"col-span-1",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Atendimentos por Especialidade"}),(0,a.jsx)(i.SZ,{children:"Distribui\xe7\xe3o dos atendimentos realizados hoje."})]}),(0,a.jsx)(i.aY,{className:"pl-2",children:(0,a.jsx)(h.h,{width:"100%",height:350,children:(0,a.jsxs)(j.v,{data:c,children:[(0,a.jsx)(p.K,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),(0,a.jsx)(N.B,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>"".concat(e)}),(0,a.jsx)(g.$,{dataKey:"total",fill:"#2563eb",radius:[4,4,0,0]})]})})})]})})]})}},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return d},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},eW:function(){return u},ll:function(){return i}});var a=s(57437),r=s(2265),n=s(94508);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});d.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});i.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},42488:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},41671:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},76865:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},92369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[4358,9990,6137,9084,5467,3073,2971,2117,1744],function(){return e(e.s=99748)}),_N_E=e.O()}]);