(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{3883:function(e,a,s){Promise.resolve().then(s.bind(s,28513))},28513:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return G}});var t=s(57437),i=s(2265),r=s(62869),n=s(66070),l=s(1098),d=s(53647),o=s(26815),c=s(95186),m=s(76818),u=s(35153),h=s(35974),x=s(57054),p=s(23518),f=s(26110),g=s(51888),b=s(66916),j=s(94508),v=s(5978),N=s(17293),y=s(49505),w=s(51817),C=s(43044),S=s(49322),z=s(69076),k=s(88501),D=s(83774),E=s(5005),P=s(95252),A=s(33245),M=s(53121),T=s(18930),R=s(32489),Z=s(91723),O=s(99397);let L=i.memo(e=>{let{message:a="Carregando..."}=e;return(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center text-center py-10 min-h-[150px] w-full",children:[" ",(0,t.jsx)(w.Z,{className:"h-8 w-8 animate-spin text-blue-600"})," ",(0,t.jsx)("span",{className:"ml-3 text-sm text-gray-600 mt-3",children:a})," "]})});L.displayName="LoadingState";let q=i.memo(e=>{let{message:a,actionButton:s}=e;return(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500 py-10 min-h-[150px] flex flex-col items-center justify-center bg-gray-50/70 rounded-md border border-dashed border-gray-300 w-full",children:[" ",(0,t.jsx)(C.Z,{className:"w-12 h-12 text-gray-400 mb-4"})," ",(0,t.jsx)("p",{className:"font-medium text-gray-600 mb-1",children:"Nada por aqui ainda!"})," ",(0,t.jsx)("p",{className:"max-w-xs",children:a})," ",s&&(0,t.jsx)("div",{className:"mt-4",children:s})," "]})});q.displayName="EmptyState";let W=i.memo(e=>{let{message:a,onRetry:s}=e;return(0,t.jsxs)("div",{className:"text-center text-sm text-red-600 py-10 min-h-[150px] flex flex-col items-center justify-center bg-red-50/70 rounded-md border border-dashed border-red-300 w-full",children:[" ",(0,t.jsx)(S.Z,{className:"w-12 h-12 text-red-400 mb-4"})," ",(0,t.jsx)("p",{className:"font-semibold text-red-700 mb-1 text-base",children:"Oops! Algo deu errado."})," ",(0,t.jsx)("p",{className:"max-w-md text-red-600",children:a||"N\xe3o foi poss\xedvel carregar os dados. Por favor, tente novamente."})," ",s&&(0,t.jsxs)(r.z,{variant:"destructive",size:"sm",onClick:s,className:"mt-4 bg-red-600 hover:bg-red-700 text-white",children:[" ",(0,t.jsx)(z.Z,{className:"mr-2 h-4 w-4"})," Tentar Novamente "]})," "]})});W.displayName="ErrorState";let B=Array.from({length:48},(e,a)=>"".concat(Math.floor(a/2).toString().padStart(2,"0"),":").concat(a%2==0?"00":"30")),H=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],F={SP:["S\xe3o Paulo","Campinas","Guarulhos","Osasco","Santo Andr\xe9","S\xe3o Bernardo do Campo","Santos","Ribeir\xe3o Preto","Sorocaba","Jundia\xed","Piracicaba","Bauru","Franca","Taubat\xe9","Limeira","Barueri","Cotia","Itapevi","Ara\xe7ariguama"],RJ:["Rio de Janeiro","S\xe3o Gon\xe7alo","Duque de Caxias","Nova Igua\xe7u","Niter\xf3i","Belford Roxo","Campos dos Goytacazes","S\xe3o Jo\xe3o de Meriti","Petr\xf3polis","Volta Redonda"],MG:["Belo Horizonte","Uberl\xe2ndia","Contagem","Juiz de Fora","Betim","Montes Claros","Ribeir\xe3o das Neves","Uberaba","Governador Valadares","Ipatinga"]},_=Object.entries(y.ku).map(e=>{let[a,s]=e,t=a.split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ");return{value:"telemedicina"===t.toLowerCase()?"Telemedicina":a,label:t,rateExample:s}}),I=e=>{var a;let{slot:s,onEdit:i,onDelete:n}=e,l=s.date instanceof v.EK?s.date.toDate():null,d=_.find(e=>e.value===s.serviceType),o=(null==d?void 0:d.label)||s.serviceType,c="AVAILABLE"===s.status;return(0,t.jsxs)("div",{className:(0,j.cn)("flex flex-col sm:flex-row items-start sm:justify-between border rounded-lg p-4 gap-x-4 gap-y-3 bg-white shadow-xs hover:shadow-sm",!c&&"opacity-70 bg-gray-50"),children:[(0,t.jsxs)("div",{className:"flex-1 space-y-1.5 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 shrink-0 text-blue-600"}),(0,t.jsx)("span",{suppressHydrationWarning:!0,children:l?l.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"Data Inv\xe1lida"}),(0,t.jsxs)("span",{className:"text-gray-500 font-normal",children:["(",s.startTime," - ",s.endTime,")"]})]}),(0,t.jsx)(h.C,{variant:(e=>{switch(e){case"AVAILABLE":case"BOOKED":case"COMPLETED":return"default";default:return"outline"}})(s.status),className:(0,j.cn)((e=>{switch(e){case"AVAILABLE":return"bg-blue-100 text-blue-800";case"BOOKED":return"bg-green-100 text-green-800";case"COMPLETED":return"bg-emerald-100 text-emerald-800";default:return"bg-gray-100 text-gray-800"}})(s.status),"capitalize"),children:null===(a=s.status)||void 0===a?void 0:a.replace(/_/g," ").toUpperCase()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-600 mt-1 pl-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[(0,t.jsx)(D.Z,{className:"h-3.5 w-3.5 shrink-0 text-purple-500"}),(0,t.jsxs)("span",{children:[Array.isArray(s.cities)&&s.cities.length>0?s.cities.join(", "):"Cidades n\xe3o informadas",", ",s.state]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[(0,t.jsx)(E.Z,{className:"h-3.5 w-3.5 shrink-0 text-cyan-500"}),(0,t.jsx)("span",{children:o})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-green-600 font-medium sm:col-span-2",children:[(0,t.jsx)(P.Z,{className:"h-3.5 w-3.5 shrink-0"}),(0,t.jsxs)("span",{children:[(0,j.xG)(s.desiredHourlyRate),"/hora (pretendido)"]})]})]}),s.specialties&&s.specialties.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5 pt-1.5 pl-1",children:[" ",(0,t.jsx)("span",{className:"text-xs text-gray-500 mr-1 font-medium shrink-0",children:"Especialidades:"})," ",s.specialties.map(e=>(0,t.jsx)(h.C,{variant:"outline",className:"text-gray-700 text-[11px] px-1.5 py-0.5 font-normal border-blue-200 bg-blue-50",children:e},e))," "]}),s.notes&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 pt-1.5 pl-1 italic flex items-start gap-1.5",children:[" ",(0,t.jsx)(A.Z,{className:"inline h-3.5 w-3.5 mr-0.5 shrink-0 relative top-0.5"})," ",(0,t.jsx)("span",{className:"truncate",children:s.notes})," "]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 shrink-0 mt-2 sm:mt-0 self-end sm:self-center",children:[(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:i,disabled:!c,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-full w-8 h-8","aria-label":"Editar Disponibilidade",title:c?"Editar Disponibilidade":"N\xe3o \xe9 poss\xedvel editar uma disponibilidade reservada ou finalizada.",children:(0,t.jsx)(M.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:n,disabled:!c,className:"text-red-600 hover:text-red-700 hover:bg-red-50 rounded-full w-8 h-8","aria-label":"Cancelar Disponibilidade",title:c?"Apagar Disponibilidade":"N\xe3o \xe9 poss\xedvel apagar uma disponibilidade reservada ou finalizada.",children:(0,t.jsx)(T.Z,{className:"h-4 w-4"})})]})]})};I.displayName="TimeSlotListItem";let V=e=>{var a;let{onFormSubmitted:s,initialData:n}=e,{toast:S}=(0,u.pm)(),z=!!n&&!!n.id,[M,T]=(0,i.useState)(()=>z&&(null==n?void 0:n.date)?[n.date.toDate()]:[]),[O,L]=(0,i.useState)((null==n?void 0:n.startTime)||"07:00"),[q,W]=(0,i.useState)((null==n?void 0:n.endTime)||"19:00"),[I,V]=(0,i.useState)(String((null==n?void 0:n.desiredHourlyRate)||"")),[G,Y]=(0,i.useState)((null==n?void 0:n.specialties)||[]),[J,U]=(0,i.useState)((null==n?void 0:n.state)||""),[X,Q]=(0,i.useState)((null==n?void 0:n.cities)||[]),[K,$]=(0,i.useState)((null==n?void 0:n.serviceType)||""),[ee,ea]=(0,i.useState)((null==n?void 0:n.notes)||""),[es,et]=(0,i.useState)(!1),[ei,er]=(0,i.useState)(!1),[en,el]=(0,i.useState)(""),[ed,eo]=(0,i.useState)(null),[ec,em]=(0,i.useState)([]);(0,i.useEffect)(()=>{(null==n?void 0:n.state)&&em(F[n.state]||[])},[null==n?void 0:n.state]);let eu=(0,i.useCallback)(()=>{T([]),L("07:00"),W("19:00"),V(""),Y([]),U(""),Q([]),$(""),ea(""),eo(null)},[]),eh=(0,i.useCallback)((e,a)=>{e&&a&&e===a?eo("Hor\xe1rio de in\xedcio n\xe3o pode ser igual ao de t\xe9rmino."):eo(null)},[]);(0,i.useEffect)(()=>{eh(O,q)},[O,q,eh]),(0,i.useEffect)(()=>{J?(em(F[J]||[]),n&&J===n.state||Q([])):(em([]),Q([]))},[J,n]);let ex=e=>{G.includes(e)||Y(a=>[...a,e]),el(""),er(!1)},ep=e=>{Y(a=>a.filter(a=>a!==e))},ef=(0,i.useMemo)(()=>y.Gg.filter(e=>"string"==typeof e&&e.toLowerCase().includes(en.toLowerCase())&&!G.includes(e)),[en,G]),eg=(e,a)=>{L(e),W(a)},eb=async()=>{let e=parseFloat(I.replace(",","."));if(0===M.length&&!z){S({title:"Data \xe9 obrigat\xf3ria",variant:"destructive"});return}if(ed){S({title:"Hor\xe1rio Inv\xe1lido",variant:"destructive"});return}if(!K){S({title:"Tipo de Atendimento Obrigat\xf3rio",variant:"destructive"});return}if(isNaN(e)||e<=0){S({title:"Valor Hora Inv\xe1lido",variant:"destructive"});return}if(!J||0===X.length){S({title:"Localiza\xe7\xe3o Obrigat\xf3ria",description:"Selecione o estado e pelo menos uma cidade.",variant:"destructive"});return}if(0===G.length){S({title:"Especialidade Obrigat\xf3ria",description:"Selecione ao menos uma especialidade.",variant:"destructive"});return}if(et(!0),!N.I8.currentUser){S({title:"Usu\xe1rio n\xe3o autenticado",variant:"destructive"}),et(!1);return}let a=O>q,t=ee.trim();try{if(z&&(null==n?void 0:n.id)){let s={startTime:O,endTime:q,isOvernight:a,state:J,cities:X,serviceType:K,specialties:G,desiredHourlyRate:e,...t&&{notes:t}};await (0,y._)(n.id,s),S({title:"Disponibilidade Atualizada",variant:"default"})}else{let s=M.map(s=>{let i={date:v.EK.fromDate(s),startTime:O,endTime:q,isOvernight:a,state:J,cities:X,serviceType:K,specialties:G,desiredHourlyRate:e,...t&&{notes:t}};return(0,y.yT)(i)});await Promise.all(s),S({title:"Disponibilidade(s) Adicionada(s)!",description:"".concat(M.length," hor\xe1rio(s) foram salvos."),variant:"default"}),z||eu()}s()}catch(e){S({title:"Erro ao ".concat(z?"Atualizar":"Salvar"),description:e.message,variant:"destructive"})}finally{et(!1)}};return(0,t.jsxs)(f.cZ,{className:"sm:max-w-lg",children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsx)(f.$N,{className:"text-xl",children:z?"Editar Disponibilidade":"Adicionar Nova Disponibilidade"}),(0,t.jsx)(f.Be,{children:z?"Altere os detalhes da sua disponibilidade. A data original n\xe3o pode ser alterada.":"Selecione as datas e preencha os detalhes. Uma entrada de disponibilidade ser\xe1 criada para cada data selecionada."})]}),(0,t.jsx)(f.GG,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"ghost",size:"icon",className:"absolute top-4 right-4",children:[(0,t.jsx)(R.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Fechar"})]})}),(0,t.jsxs)("div",{className:"grid gap-5 py-4 max-h-[70vh] overflow-y-auto px-1 pr-3 md:pr-4 pb-12",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Data(s) da Disponibilidade*"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:z?"Data original (n\xe3o pode ser alterada).":"Selecione um ou mais dias no calend\xe1rio."}),(0,t.jsxs)("div",{className:"flex justify-center flex-col items-center sm:items-start",children:[z?(0,t.jsx)(l.f,{mode:"single",selected:M[0],disabled:!0,footer:(0,t.jsxs)("p",{className:"text-xs text-gray-700 font-medium p-2 border-t",children:["Data: ",null===(a=M[0])||void 0===a?void 0:a.toLocaleDateString("pt-BR")]})}):(0,t.jsx)(l.f,{locale:b.F,mode:"multiple",selected:M,onSelect:T,disabled:{before:new Date(new Date().setHours(0,0,0,0))},footer:M.length>0?(0,t.jsxs)("p",{className:"text-xs text-blue-700 font-medium p-2 border-t",children:[M.length," dia(s) selecionado(s)."]}):(0,t.jsx)("p",{className:"text-xs text-gray-500 p-2 border-t",children:"Nenhum dia selecionado."}),modifiers:{selected:M},modifiersStyles:{selected:{backgroundColor:"#2563eb",color:"white",borderRadius:"0.375rem"}}}),M.length>0&&!z&&(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>T([]),className:"text-xs self-center mt-2 w-full sm:w-auto",children:[(0,t.jsx)(R.Z,{className:"h-3 w-3 mr-1"})," Limpar Datas"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Hor\xe1rio da Disponibilidade*"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>eg("07:00","19:00"),className:"text-xs",children:"Diurno (07-19h)"}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>eg("19:00","07:00"),className:"text-xs",children:"Noturno (19-07h)"}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>eg("08:00","12:00"),className:"text-xs",children:"Manh\xe3 (08-12h)"}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>eg("13:00","18:00"),className:"text-xs",children:"Tarde (13-18h)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(o._,{htmlFor:"doc-start-time",children:"Hor\xe1rio de In\xedcio*"}),(0,t.jsxs)(d.Ph,{value:O,onValueChange:L,children:[(0,t.jsx)(d.i4,{id:"doc-start-time",className:(0,j.cn)("h-9",ed&&"border-red-500 ring-1 ring-red-500"),children:(0,t.jsx)(d.ki,{})}),(0,t.jsx)(d.Bw,{children:B.map(e=>(0,t.jsx)(d.Ql,{value:e,children:e},"dst"+e))})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(o._,{htmlFor:"doc-end-time",children:"Hor\xe1rio de T\xe9rmino*"}),(0,t.jsxs)(d.Ph,{value:q,onValueChange:W,children:[(0,t.jsx)(d.i4,{id:"doc-end-time",className:(0,j.cn)("h-9",ed&&"border-red-500 ring-1 ring-red-500"),children:(0,t.jsx)(d.ki,{})}),(0,t.jsx)(d.Bw,{children:B.map(e=>(0,t.jsx)(d.Ql,{value:e,children:e},"det"+e))})]})]}),ed&&(0,t.jsx)("p",{className:"text-red-600 text-xs col-span-1 sm:col-span-2",children:ed})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-state",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Estado de Atua\xe7\xe3o*"]}),(0,t.jsxs)(d.Ph,{value:J,onValueChange:U,children:[(0,t.jsx)(d.i4,{id:"doc-state",className:"h-9",children:(0,t.jsx)(d.ki,{placeholder:"Selecione o UF..."})}),(0,t.jsx)(d.Bw,{children:H.map(e=>(0,t.jsx)(d.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(o._,{className:"font-semibold text-gray-800",children:"Cidades de Atua\xe7\xe3o*"}),(0,t.jsx)(g.R,{selectedState:J,availableCities:ec,selectedCities:X,onConfirm:Q})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-service-type",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(E.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Tipo de Atendimento*"]}),(0,t.jsxs)(d.Ph,{value:K,onValueChange:$,children:[(0,t.jsx)(d.i4,{id:"doc-service-type",className:"h-9",children:(0,t.jsx)(d.ki,{placeholder:"Selecione..."})}),(0,t.jsx)(d.Bw,{children:_.map(e=>(0,t.jsx)(d.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-desired-rate",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2 text-green-600"}),"Valor Hora Pretendido (R$)*"]}),(0,t.jsx)(c.I,{id:"doc-desired-rate",type:"number",min:"0.01",step:"0.01",placeholder:"Ex: 100.00",value:I,onChange:e=>V(e.target.value),className:"h-9"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Especialidades Atendidas* ",(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-1 font-normal",children:"(Selecione ao menos uma)"})]}),(0,t.jsxs)(x.J2,{open:ei,onOpenChange:er,children:[(0,t.jsx)(x.xo,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"outline",className:"w-full justify-start font-normal text-muted-foreground h-9 border-dashed hover:border-solid",children:G.length>0?"Selecionadas: ".concat(G.length):"Clique para selecionar especialidades..."})}),(0,t.jsx)(x.yk,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,t.jsxs)(p.mY,{filter:(e,a)=>{var s;return(null===(s=y.Gg.find(a=>a.toLowerCase()===e.toLowerCase()))||void 0===s?void 0:s.toLowerCase().includes(a.toLowerCase()))?1:0},children:[(0,t.jsx)(p.sZ,{placeholder:"Buscar especialidade...",value:en,onValueChange:el}),(0,t.jsxs)(p.e8,{children:[(0,t.jsx)(p.rb,{children:"Nenhuma."}),(0,t.jsx)(p.fu,{heading:"".concat(ef.length," encontradas"),children:ef.map(e=>(0,t.jsx)(p.di,{value:e,onSelect:()=>ex(e),className:"cursor-pointer hover:bg-accent",children:e},e))})]})]})})]}),G.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mt-2 pt-2 border-t border-dashed",children:[" ",G.map(e=>(0,t.jsxs)(h.C,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 font-normal",children:[" ",e," ",(0,t.jsxs)("button",{type:"button",onClick:()=>ep(e),className:"ml-1.5 p-0.5 rounded-full outline-none focus:ring-1 focus:ring-blue-500 hover:bg-blue-200",children:[" ",(0,t.jsx)(R.Z,{className:"h-3 w-3 text-blue-600 hover:text-blue-800"})," "]})," "]},e))," "]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-notes",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(A.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Notas Adicionais ",(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-1 font-normal",children:"(Opcional)"})]}),(0,t.jsx)(m.g,{id:"doc-notes",placeholder:"Ex: Prefer\xeancia por plant\xf5es mais tranquilos, etc.",value:ee,onChange:e=>ea(e.target.value),className:"min-h-[80px]"})]})]}),(0,t.jsxs)(f.cN,{className:"pt-4 border-t bg-slate-50 -m-6 px-6 pb-8 sm:pb-4 rounded-b-lg",children:[(0,t.jsx)(f.GG,{asChild:!0,children:(0,t.jsx)(r.z,{type:"button",variant:"outline",disabled:es,children:"Cancelar"})}),(0,t.jsxs)(r.z,{type:"button",onClick:eb,disabled:es||0===M.length&&!z,className:"bg-blue-600 hover:bg-blue-700",children:[es&&(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4 animate-spin"}),es?z?"Salvando...":"Adicionando...":z?"Salvar Altera\xe7\xf5es":"Adicionar Disponibilidade (".concat(M.length||0," Dia(s))")]})]})]})};function G(){let{toast:e}=(0,u.pm)(),[a,s]=(0,i.useState)(!1),[l,d]=(0,i.useState)(null),[o,c]=(0,i.useState)([]),[m,h]=(0,i.useState)(!0),[x,p]=(0,i.useState)(null),g=(0,i.useCallback)(async()=>{h(!0),p(null);try{let e=await (0,y.aN)();c(e.sort((e,a)=>e.date.toDate().getTime()-a.date.toDate().getTime()||e.startTime.localeCompare(a.startTime)))}catch(a){var e;p((null===(e=a.message)||void 0===e?void 0:e.includes("query requires an index"))?"Falha ao buscar: \xcdndice do Firestore necess\xe1rio. ".concat(a.message):a.message||"N\xe3o foi poss\xedvel carregar suas disponibilidades.")}finally{h(!1)}},[]);(0,i.useEffect)(()=>{g()},[g]);let b=()=>{d(null),s(!0)},j=e=>{d(e),s(!0)},v=async a=>{if(a&&confirm("Tem certeza que deseja apagar esta disponibilidade? Esta a\xe7\xe3o n\xe3o pode ser desfeita."))try{await (0,y._e)(a),e({title:"Disponibilidade Removida",description:"O seu hor\xe1rio foi removido com sucesso.",variant:"default"}),g()}catch(a){e({title:"Erro ao Remover",description:a.message,variant:"destructive"})}};return(0,t.jsxs)("div",{className:"space-y-6 p-1",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Minha Disponibilidade"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm sm:text-base mt-1",children:"Cadastre os dias, hor\xe1rios, locais e valores que voc\xea est\xe1 dispon\xedvel para atender."})]}),(0,t.jsxs)(f.Vq,{open:a,onOpenChange:e=>{s(e),e||d(null)},children:[(0,t.jsx)(f.hg,{asChild:!0,children:(0,t.jsxs)(r.z,{size:"sm",className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700",onClick:b,children:[(0,t.jsx)(O.Z,{className:"mr-1.5 h-4 w-4"})," Adicionar Disponibilidade"]})}),(0,t.jsx)(V,{onFormSubmitted:()=>{s(!1),d(null),g()},initialData:l},l?"edit-".concat(l.id):"new")]})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsx)(n.ll,{children:"Disponibilidades Cadastradas"}),(0,t.jsx)(n.SZ,{children:"Seus hor\xe1rios dispon\xedveis para propostas de plant\xe3o."})]}),(0,t.jsx)(n.aY,{children:m?(0,t.jsx)(L,{}):x?(0,t.jsx)(W,{message:x,onRetry:g}):0===o.length?(0,t.jsx)(q,{message:"Voc\xea ainda n\xe3o cadastrou nenhuma disponibilidade.",actionButton:(0,t.jsxs)(r.z,{size:"sm",onClick:b,className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(O.Z,{className:"mr-1.5 h-4 w-4"}),"Cadastrar Primeira Disponibilidade"]})}):(0,t.jsxs)("div",{className:"space-y-3",children:[" ",o.map(e=>(0,t.jsx)(I,{slot:e,onEdit:()=>j(e),onDelete:()=>v(e.id)},e.id))," "]})})]})]})}V.displayName="TimeSlotFormDialog"},66070:function(e,a,s){"use strict";s.d(a,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return n},aY:function(){return c},eW:function(){return m},ll:function(){return d}});var t=s(57437),i=s(2265),r=s(94508);let n=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i})});n.displayName="Card";let l=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...i})});l.displayName="CardHeader";let d=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})});d.displayName="CardTitle";let o=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",s),...i})});o.displayName="CardDescription";let c=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",s),...i})});c.displayName="CardContent";let m=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",s),...i})});m.displayName="CardFooter"},51888:function(e,a,s){"use strict";s.d(a,{R:function(){return k}});var t=s(57437),i=s(2265),r=s(62869),n=s(4216),l=s(94508);let d=e=>{let{shouldScaleBackground:a=!0,...s}=e;return(0,t.jsx)(n.dy.Root,{shouldScaleBackground:a,...s})};d.displayName="Drawer";let o=n.dy.Trigger,c=n.dy.Portal,m=n.dy.Close,u=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(n.dy.Overlay,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80",s),...i})});u.displayName=n.dy.Overlay.displayName;let h=i.forwardRef((e,a)=>{let{className:s,children:i,...r}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(n.dy.Content,{ref:a,className:(0,l.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...r,children:[(0,t.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),i]})]})});h.displayName="DrawerContent";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("grid gap-1.5 p-4 text-center sm:text-left",a),...s})};x.displayName="DrawerHeader";let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("mt-auto flex flex-col gap-2 p-4",a),...s})};p.displayName="DrawerFooter";let f=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(n.dy.Title,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...i})});f.displayName=n.dy.Title.displayName;let g=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(n.dy.Description,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...i})});g.displayName=n.dy.Description.displayName;var b=s(57054),j=s(23518),v=s(43643);let N=i.forwardRef((e,a)=>{let{className:s,children:i,...r}=e;return(0,t.jsxs)(v.fC,{ref:a,className:(0,l.cn)("relative overflow-hidden",s),...r,children:[(0,t.jsx)(v.l_,{className:"h-full w-full rounded-[inherit]",children:i}),(0,t.jsx)(y,{}),(0,t.jsx)(v.Ns,{})]})});N.displayName=v.fC.displayName;let y=i.forwardRef((e,a)=>{let{className:s,orientation:i="vertical",...r}=e;return(0,t.jsx)(v.gb,{ref:a,orientation:i,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,t.jsx)(v.q4,{className:"relative flex-1 rounded-full bg-border"})})});y.displayName=v.gb.displayName;var w=s(30401),C=s(24156);let S=e=>{let[a,s]=i.useState(!1);return i.useEffect(()=>{let a=window.matchMedia(e);s(a.matches);let t=e=>s(e.matches);return a.addEventListener("change",t),()=>a.removeEventListener("change",t)},[e]),a},z=()=>S("(max-width: 768px)");function k(e){let{selectedState:a,availableCities:s,selectedCities:n,onConfirm:c,className:u}=e,[v,y]=i.useState(!1),[S,k]=i.useState(!1),D=z();i.useEffect(()=>{k(!0)},[]);let[E,P]=i.useState(n);i.useEffect(()=>{P(n)},[n]),i.useEffect(()=>{v&&P(n)},[v,n]),i.useEffect(()=>{P([]),c([])},[a,c]);let A=e=>{P(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},M=()=>{c(E),y(!1)},T=e=>{e||P(n),y(e)},R=!a||0===s.length,Z=n.length>0?"".concat(n.length," cidade(s) selecionada(s)"):R?"Selecione um estado":"Selecione as cidades...",O=()=>(0,t.jsxs)(j.mY,{children:[(0,t.jsx)(j.sZ,{placeholder:"Buscar cidade..."}),(0,t.jsxs)(j.e8,{children:[(0,t.jsx)(j.rb,{children:"Nenhuma cidade encontrada."}),(0,t.jsx)(j.fu,{children:(0,t.jsx)(N,{className:"h-[250px]",children:s.map(e=>(0,t.jsxs)(j.di,{value:e,onSelect:a=>{A(e)},className:"cursor-pointer",children:[(0,t.jsx)(w.Z,{className:(0,l.cn)("mr-2 h-4 w-4",E.includes(e)?"opacity-100":"opacity-0")}),(0,t.jsx)("span",{children:e})]},e))})})]})]});return S?D?(0,t.jsxs)(d,{open:v,onOpenChange:T,children:[(0,t.jsx)(o,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",role:"combobox",disabled:R,"aria-expanded":v,className:(0,l.cn)("w-full justify-between font-normal h-9",u),children:[Z,(0,t.jsx)(C.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsxs)(h,{className:"flex flex-col max-h-[90vh]",children:[(0,t.jsxs)(x,{className:"flex-shrink-0 text-left",children:[(0,t.jsx)(f,{children:"Selecione as Cidades"}),(0,t.jsx)(g,{children:"Escolha uma ou mais cidades de atua\xe7\xe3o."})]}),(0,t.jsx)("div",{className:"flex-grow overflow-y-auto px-2",children:(0,t.jsx)(O,{})}),(0,t.jsxs)(p,{className:"pt-4 flex-shrink-0 border-t bg-gray-50",children:[(0,t.jsxs)(r.z,{onClick:M,className:"bg-blue-600 hover:bg-blue-700",children:["Confirmar (",E.length,")"]}),(0,t.jsx)(m,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"outline",children:"Cancelar"})})]})]})]}):(0,t.jsxs)(b.J2,{open:v,onOpenChange:T,children:[(0,t.jsx)(b.xo,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",role:"combobox",disabled:R,"aria-expanded":v,className:(0,l.cn)("w-full justify-between font-normal h-9",u),children:[Z,(0,t.jsx)(C.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsxs)(b.yk,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:[(0,t.jsx)(O,{}),(0,t.jsxs)("div",{className:"p-2 border-t flex items-center justify-end gap-2 bg-gray-50",children:[(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>P([]),children:"Limpar"}),(0,t.jsxs)(r.z,{size:"sm",onClick:M,className:"bg-blue-600 hover:bg-blue-700",children:["Confirmar (",E.length,")"]})]})]})]}):(0,t.jsx)(r.z,{variant:"outline",disabled:!0,className:(0,l.cn)("w-full justify-between font-normal h-9",u),children:"Carregando..."})}},66916:function(e,a,s){"use strict";s.d(a,{F:function(){return c}});let t={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 m\xeas",other:"cerca de {{count}} meses"},xMonths:{one:"1 m\xeas",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};var i=s(82050);let r={date:(0,i.l)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:(0,i.l)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,i.l)({formats:{full:"{{date}} '\xe0s' {{time}}",long:"{{date}} '\xe0s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},n={lastWeek:e=>{let a=e.getDay();return"'"+(0===a||6===a?"\xfaltimo":"\xfaltima")+"' eeee '\xe0s' p"},yesterday:"'ontem \xe0s' p",today:"'hoje \xe0s' p",tomorrow:"'amanh\xe3 \xe0s' p",nextWeek:"eeee '\xe0s' p",other:"P"};var l=s(28172);let d={ordinalNumber:(e,a)=>{let s=Number(e);return(null==a?void 0:a.unit)==="week"?s+"\xaa":s+"\xba"},era:(0,l.Y)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:(0,l.Y)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,l.Y)({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:(0,l.Y)({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","ter\xe7a","quarta","quinta","sexta","s\xe1bado"],wide:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:(0,l.Y)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})};var o=s(85186);let c={code:"pt-BR",formatDistance:(e,a,s)=>{let i;let r=t[e];return(i="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",String(a)),null==s?void 0:s.addSuffix)?s.comparison&&s.comparison>0?"em "+i:"h\xe1 "+i:i},formatLong:r,formatRelative:(e,a,s,t)=>{let i=n[e];return"function"==typeof i?i(a):i},localize:d,match:{ordinalNumber:(0,s(2540).y)({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,o.t)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:(0,o.t)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,o.t)({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:(0,o.t)({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:(0,o.t)({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}}},function(e){e.O(0,[3609,9015,6137,9388,9733,793,4517,6008,9315,4084,7988,3294,2592,7956,8197,2971,2117,1744],function(){return e(e.s=3883)}),_N_E=e.O()}]);