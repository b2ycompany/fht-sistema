(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{86430:function(e,a,r){Promise.resolve().then(r.bind(r,71720))},71720:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return _}});var t=r(57437),s=r(2265),o=r(66070),i=r(62869),n=r(27648),l=r(51817),d=r(43044),c=r(69076),u=r(53121),m=r(76858),h=r(40340),x=r(9954),f=r(97411),g=r(36394),p=r(83774),v=r(88501),j=r(91723),N=r(5978),b=r(87598),y=r(49505),w=r(46413),S=r(35153),A=r(92651),C=r(37748);let E=s.memo(e=>{let{message:a="Carregando..."}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-center py-10 text-sm text-gray-500",children:[(0,t.jsx)(l.Z,{className:"h-6 w-6 animate-spin mr-2"}),a]})});E.displayName="LoadingState";let P=s.memo(e=>{let{message:a}=e;return(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)(d.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:a})]})});P.displayName="EmptyState";let I=s.memo(e=>{let{message:a,onRetry:r}=e;return(0,t.jsxs)("div",{className:"text-center py-10 bg-red-50 p-4 rounded-md border border-red-200",children:[(0,t.jsx)(c.Z,{className:"mx-auto h-10 w-10 text-red-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-semibold text-red-700",children:a}),r&&(0,t.jsxs)(i.z,{variant:"destructive",onClick:r,size:"sm",className:"mt-3",children:[(0,t.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Tentar Novamente"]})]})});function _(){let{user:e,loading:a}=(0,w.a)(),{toast:r}=(0,S.pm)(),[l,d]=(0,s.useState)({pendingSignatureContractsCount:0,upcomingShiftsCount:0,totalAvailabilitySlotsCount:0}),[c,_]=(0,s.useState)([]),[T,D]=(0,s.useState)([]),[O,Z]=(0,s.useState)(null),[R,z]=(0,s.useState)(!0),[k,U]=(0,s.useState)(null),V=(0,s.useCallback)(async()=>{if(!e){z(!1);return}z(!0),U(null);try{let[e,a,r,t]=await Promise.all([(0,b.vO)(["PENDING_DOCTOR_SIGNATURE"]),(0,b.vO)(["ACTIVE_SIGNED"]),(0,y.aN)(),(0,A.Ts)()]);(null==t?void 0:t.userType)==="doctor"&&Z(t),d({pendingSignatureContractsCount:e.length,upcomingShiftsCount:a.length,totalAvailabilitySlotsCount:r.length}),D(e);let s=a.sort((e,a)=>{var r,t,s,o,i,n;return((null===(s=e.shiftDates)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:null===(r=t.toDate())||void 0===r?void 0:r.getTime())||0)-((null===(n=a.shiftDates)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:null===(o=i.toDate())||void 0===o?void 0:o.getTime())||0)}).slice(0,3).map(e=>{var a;return{...e,displayDate:(null===(a=e.shiftDates)||void 0===a?void 0:a[0])instanceof N.EK?e.shiftDates[0].toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"N/A",displayTime:"".concat(e.startTime," - ").concat(e.endTime)}});_(s)}catch(e){U("Falha ao carregar dados do dashboard."),r({title:"Erro no Dashboard",description:e.message||"N\xe3o foi poss\xedvel buscar os dados.",variant:"destructive"})}finally{z(!1)}},[e,r]);return((0,s.useEffect)(()=>{if(a){z(!0);return}e?V():z(!1)},[e,a,V]),R||a)?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(E,{message:"Carregando seu dashboard..."})}):k&&!R?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(I,{message:k,onRetry:V})}):(0,t.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 space-y-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:["Bem-vindo(a) de volta, ",(null==O?void 0:O.displayName)||"Doutor(a)","!"]}),O&&(0,t.jsx)(C.Z,{status:O.documentVerificationStatus,adminNotes:O.adminVerificationNotes,userType:"doctor",editProfileLink:"/dashboard/profile/edit"}),T.length>0&&(0,t.jsxs)(o.Zb,{className:"bg-indigo-50 border-indigo-200 shadow-lg",children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"text-lg text-indigo-800 flex items-center",children:[(0,t.jsx)(u.Z,{className:"mr-2 h-5 w-5"})," Voc\xea tem Contratos para Assinar!"]})}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)("p",{className:"text-sm text-indigo-700",children:["H\xe1 ",l.pendingSignatureContractsCount," contrato(s) de plant\xe3o aguardando sua assinatura digital para serem confirmados."]})}),(0,t.jsx)(o.eW,{children:(0,t.jsx)(i.z,{asChild:!0,size:"sm",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:(0,t.jsxs)(n.default,{href:"/dashboard/contracts?tab=pending_doctor",children:["Rever e Assinar Contratos ",(0,t.jsx)(m.Z,{className:"ml-2 h-4 w-4"})]})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"M\xf3dulos da Plataforma"}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(o.Zb,{className:"flex flex-col",children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{size:22})," Caravana da Sa\xfade"]}),(0,t.jsx)(o.SZ,{children:"Acesse a fila de atendimentos de telemedicina para o projeto da caravana."})]}),(0,t.jsx)(o.aY,{className:"flex-grow",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Clique no bot\xe3o abaixo para visualizar os pacientes que aguardam por voc\xea e iniciar os atendimentos."})}),(0,t.jsx)(o.eW,{children:(0,t.jsx)(i.z,{asChild:!0,className:"w-full sm:w-auto",children:(0,t.jsx)(n.default,{href:"/dashboard/fila",children:"Acessar Fila de Atendimento"})})})]}),(0,t.jsxs)(o.Zb,{className:"flex flex-col",children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Z,{size:22})," Agendamento de Telemedicina"]}),(0,t.jsx)(o.SZ,{children:"Crie e gira novos agendamentos de teleconsultas para os m\xe9dicos da plataforma."})]}),(0,t.jsx)(o.aY,{className:"flex-grow",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aceda \xe0 tela de agendamento para marcar novas consultas online para os pacientes com os especialistas dispon\xedveis."})}),(0,t.jsx)(o.eW,{children:(0,t.jsx)(i.z,{asChild:!0,className:"w-full sm:w-auto",children:(0,t.jsx)(n.default,{href:"/dashboard/agendamento",children:"Agendar Nova Consulta"})})})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ll,{className:"text-sm font-medium",children:"Contratos para Assinar"}),(0,t.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(o.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:l.pendingSignatureContractsCount}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aguardando sua assinatura"})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ll,{className:"text-sm font-medium",children:"Pr\xf3ximos Plant\xf5es"}),(0,t.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(o.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:l.upcomingShiftsCount}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Contratos ativos e agendados"})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(o.ll,{className:"text-sm font-medium",children:"Hor\xe1rios Dispon\xedveis"}),(0,t.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(o.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:l.totalAvailabilitySlotsCount}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cadastrados por voc\xea"})]})]})]}),(0,t.jsx)("div",{className:"grid gap-6",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Seus Pr\xf3ximos Plant\xf5es"}),(0,t.jsx)(o.SZ,{children:"Estes s\xe3o seus plant\xf5es j\xe1 confirmados e agendados."})]}),(0,t.jsxs)(o.aY,{children:[R?(0,t.jsx)(E,{}):c.length>0?(0,t.jsx)("ul",{className:"space-y-3",children:c.map(e=>(0,t.jsxs)("li",{className:"p-3 border rounded-md hover:bg-gray-50 text-sm",children:[(0,t.jsx)("p",{className:"font-semibold text-blue-700",children:e.hospitalName}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 flex items-center",children:[(0,t.jsx)(p.Z,{size:12,className:"mr-1"}),e.locationCity,", ",e.locationState]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 flex items-center",children:[(0,t.jsx)(v.Z,{size:12,className:"mr-1"}),e.displayDate]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 flex items-center",children:[(0,t.jsx)(j.Z,{size:12,className:"mr-1"}),e.displayTime]})]},e.id))}):(0,t.jsx)(P,{message:"Nenhum plant\xe3o confirmado agendado."}),(0,t.jsx)(i.z,{variant:"link",asChild:!0,className:"p-0 h-auto mt-3 text-sm",children:(0,t.jsx)(n.default,{href:"/dashboard/contracts",children:"Ver todos os seus contratos"})})]})]})})]})}I.displayName="ErrorState"},46413:function(e,a,r){"use strict";r.d(a,{AuthProvider:function(){return d},a:function(){return c}});var t=r(57437),s=r(2265),o=r(43301),i=r(17293),n=r(92651);let l=(0,s.createContext)(void 0),d=e=>{let{children:a}=e,[r,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0),[x,f]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{console.log("[AuthProvider] Subscribing to onAuthStateChanged (montagem do provider)");let e=(0,o.Aj)(i.I8,async e=>{if(console.log("[AuthProvider] onAuthStateChanged: User state changed. New Firebase user:",e?e.uid:null),d(e),e){f(!0);try{let e=await (0,n.Ts)();u(e),console.log("[AuthProvider] onAuthStateChanged: Profile fetched after user state change:",e)}catch(e){console.error("[AuthProvider] onAuthStateChanged: Error fetching profile:",e),u(null)}finally{f(!1)}}else u(null),f(!1);h(!1),console.log("[AuthProvider] onAuthStateChanged: Loading set to false.")});return()=>{console.log("[AuthProvider] Unsubscribing from onAuthStateChanged (desmontagem do provider)"),e()}},[]),console.log("[AuthProvider] Context values updated - User:",r?r.uid:null,"Loading:",m,"ProfileLoading:",x),(0,t.jsx)(l.Provider,{value:{user:r,userProfile:c,loading:m,profileLoading:x},children:a})},c=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},37748:function(e,a,r){"use strict";var t=r(57437);r(2265);var s=r(33245),o=r(41671),i=r(76865),n=r(27648);let l=e=>{let{status:a,adminNotes:r,userType:l,editProfileLink:d}=e;return a?"PENDING_REVIEW"===a?(0,t.jsxs)("div",{className:"p-4 mb-6 text-sm text-blue-700 bg-blue-100 rounded-lg border border-blue-300",role:"alert",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(s.Z,{className:"inline w-5 h-5 mr-3 shrink-0"}),(0,t.jsx)("span",{className:"font-medium",children:"Seu cadastro est\xe1 em an\xe1lise."})]}),(0,t.jsx)("p",{className:"mt-1.5 ml-8",children:"Avisaremos assim que o processo de verifica\xe7\xe3o for conclu\xeddo. Obrigado pela sua paci\xeancia!"})]}):"APPROVED"===a?(0,t.jsxs)("div",{className:"p-4 mb-6 text-sm text-green-700 bg-green-100 rounded-lg border border-green-300",role:"alert",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.Z,{className:"inline w-5 h-5 mr-3 shrink-0"}),(0,t.jsx)("span",{className:"font-medium",children:"Seu cadastro foi aprovado!"})]}),(0,t.jsx)("p",{className:"mt-1.5 ml-8",children:"Voc\xea j\xe1 pode utilizar todas as funcionalidades da plataforma."})]}):"REJECTED_NEEDS_RESUBMISSION"===a?(0,t.jsxs)("div",{className:"p-4 mb-6 text-sm text-red-700 bg-red-100 rounded-lg border border-red-300",role:"alert",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(i.Z,{className:"inline w-5 h-5 mr-3 shrink-0"}),(0,t.jsx)("span",{className:"font-medium",children:"Seu cadastro precisa de corre\xe7\xf5es."})]}),r&&(0,t.jsxs)("div",{className:"mt-2.5 ml-8",children:[(0,t.jsx)("strong",{className:"block mb-1",children:"Observa\xe7\xf5es do Administrador:"}),(0,t.jsx)("p",{className:"whitespace-pre-wrap bg-red-50 p-2 rounded border border-red-200",children:r})]}),(0,t.jsxs)("p",{className:"mt-2.5 ml-8",children:["Por favor, revise as informa\xe7\xf5es e/ou documentos solicitados e fa\xe7a as corre\xe7\xf5es necess\xe1rias.",(0,t.jsx)(n.default,{href:d||("doctor"===l?"/dashboard/profile/edit":"/hospital/profile/edit"),className:"ml-1 font-semibold text-red-800 hover:text-red-900 underline",children:"Clique aqui para corrigir seu cadastro."})]})]}):null:null};l.displayName="ProfileStatusAlert",a.Z=l},92651:function(e,a,r){"use strict";r.d(a,{CQ:function(){return c},Fl:function(){return g},TX:function(){return m},Ts:function(){return x},XB:function(){return n},bI:function(){return f},c0:function(){return h},hc:function(){return p},l5:function(){return l},pH:function(){return u},q9:function(){return d}});var t=r(43301),s=r(5978),o=r(17293);let i=(0,r(13491).V1)(o.wk,"createStaffUser"),n=async e=>{try{let a=await i(e);if(!a.data.success)throw Error("A fun\xe7\xe3o de backend n\xe3o retornou sucesso.");return a.data.user}catch(e){throw console.error("[AuthService] Erro ao chamar a fun\xe7\xe3o createStaffUser:",e),Error(e.message||"N\xe3o foi poss\xedvel adicionar o membro \xe0 Equipa.")}},l=async e=>{try{let a=(0,s.hJ)(o.db,"users"),r=(0,s.IO)(a,(0,s.ar)("hospitalId","==",e)),t=await (0,s.PL)(r);if(t.empty)return[];return t.docs.map(e=>({uid:e.id,...e.data()})).filter(a=>a.uid!==e)}catch(a){throw console.error("[AuthService] Erro ao buscar a Equipa para o hospital ".concat(e,":"),a),Error("N\xe3o foi poss\xedvel carregar a lista da Equipa.")}},d=async(e,a,r)=>{try{let s=await (0,t.Xb)(o.I8,e,a);return await (0,t.ck)(s.user,{displayName:r}),s.user}catch(e){throw console.error("[AuthService] Erro ao criar usu\xe1rio no Auth:",e),e}},c=async(e,a,r,t,i)=>{let n={};if("doctor"===t){let{documents:e,specialistDocuments:a,...r}=i;n={...r,documents:e,specialistDocuments:a,documentVerificationStatus:"PENDING_REVIEW",adminVerificationNotes:""}}else if("hospital"===t){let{hospitalDocs:e,legalRepDocuments:a,...r}=i;n={companyInfo:{cnpj:r.cnpj,stateRegistration:r.stateRegistration,phone:r.phone,address:r.address},legalRepresentativeInfo:r.legalRepresentativeInfo,hospitalDocs:e,legalRepDocuments:a,documentVerificationStatus:"PENDING_REVIEW",adminVerificationNotes:""}}else if(["receptionist","triage_nurse","caravan_admin","admin","backoffice"].includes(t))n={};else throw Error("Tipo de perfil de registro inv\xe1lido.");let l={uid:e,email:a,displayName:r,userType:t,createdAt:(0,s.Bt)(),updatedAt:(0,s.Bt)(),...n};await (0,s.pl)((0,s.JU)(o.db,"users",e),l),console.log("[AuthService] Perfil ".concat(t," salvo para UID: ").concat(e))},u=async(e,a)=>{try{return(await (0,t.e5)(o.I8,e,a)).user}catch(e){throw console.error("[AuthService] Login error:",e),e}},m=async()=>{try{await (0,t.w7)(o.I8)}catch(e){throw console.error("[AuthService] Logout error:",e),e}},h=async e=>{try{await (0,t.LS)(o.I8,e)}catch(e){throw console.error("[AuthService] Reset error:",e),e}},x=async()=>{let e=o.I8.currentUser;if(!e)return null;try{let a=(0,s.JU)(o.db,"users",e.uid),r=await (0,s.QT)(a);if(r.exists())return{uid:r.id,...r.data()};return null}catch(e){throw console.error("[AuthService] Get current user data error:",e),e}},f=async(e,a)=>{if(!e)throw Error("ID do Doutor n\xe3o fornecido para atualiza\xe7\xe3o.");if(!a||0===Object.keys(a).length){console.warn("[AuthService] Nenhum dado fornecido para atualiza\xe7\xe3o do perfil do doutor.");return}let r=(0,s.JU)(o.db,"users",e),t={};if(Object.keys(a).forEach(e=>{void 0!==a[e]&&("address"===e&&"object"==typeof a.address&&null!==a.address?Object.keys(a.address).forEach(e=>{void 0!==a.address[e]&&(t["address.".concat(e)]=a.address[e])}):t[e]=a[e])}),0===Object.keys(t).length){console.warn("[AuthService] Nenhum dado v\xe1lido para atualizar ap\xf3s filtrar undefined.");return}t.updatedAt=(0,s.Bt)();try{var i;let a=await (0,s.QT)(r);if(!a.exists()||(null===(i=a.data())||void 0===i?void 0:i.userType)!=="doctor")throw Error("Perfil de doutor n\xe3o encontrado ou tipo de usu\xe1rio incorreto para atualiza\xe7\xe3o.");await (0,s.r7)(r,t),console.log("[AuthService] Perfil do doutor ".concat(e," atualizado com sucesso."))}catch(a){throw console.error("[AuthService] Erro ao atualizar perfil do doutor ".concat(e,":"),a),a}},g=async(e,a)=>{try{let r=(0,s.hJ)(o.db,"users"),t=(0,s.IO)(r,(0,s.ar)("userType","==","doctor"),(0,s.ar)("specialties","array-contains",a),(0,s.ar)("healthUnitIds","array-contains",e)),i=await (0,s.PL)(t);if(i.empty)return[];return i.docs.map(e=>({uid:e.id,...e.data()}))}catch(e){throw console.error("[AuthService] Erro ao buscar m\xe9dicos associados por especialidade:",e),Error("N\xe3o foi poss\xedvel carregar a lista de m\xe9dicos para esta unidade.")}},p=async function(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)throw Error("ID do usu\xe1rio n\xe3o fornecido.");let i=(0,s.JU)(o.db,"users",e),n={documentVerificationStatus:a,adminVerificationNotes:r,documentRejectionReasons:t,updatedAt:(0,s.Bt)()};"APPROVED"===a&&(n.documentRejectionReasons={},n.adminVerificationNotes="");try{await (0,s.r7)(i,n)}catch(a){throw console.error("Erro ao atualizar status do usu\xe1rio ".concat(e,":"),a),Error("Falha ao atualizar o status do cadastro.")}}},49505:function(e,a,r){"use strict";r.d(a,{Gg:function(){return i},_:function(){return d},_e:function(){return c},aN:function(){return l},ku:function(){return o},yT:function(){return n}});var t=r(5978),s=r(17293);let o={plantao_12h_diurno:100,plantao_12h_noturno:120,plantao_24h:110,consulta_ambulatorial:80,cirurgia_eletiva:150,uti_adulto:130,medico_de_Guarda:250,medico_Diarista_uti:300,coordenador_medico:200,enfermaria:120,telemedicina:90,medico_prescritor:200,intensivista:125,medico_sala_emergencia:125,medico_visitador:125},i=["Anestesiologia","Angiologia","Cardiologia","Cirurgia Cardiovascular","Cirurgia da M\xe3o","Cirurgia de Cabe\xe7a e Pesco\xe7o","Cirurgia do Aparelho Digestivo","Cirurgia Geral","Cirurgia Oncol\xf3gica","Cirurgia Pedi\xe1trica","Cirurgia Pl\xe1stica","Cirurgia Tor\xe1cica","Cirurgia Vascular","Cl\xednica M\xe9dica","Coloproctologia","Dermatologia","Endocrinologia e Metabologia","Endoscopia","Gastroenterologia","Gen\xe9tica M\xe9dica","Geriatria","Ginecologia e Obstetr\xedcia","Hematologia e Hemoterapia","Homeopatia","Infectologia","Mastologia","Medicina de Emerg\xeancia","Medicina de Fam\xedlia e Comunidade","Medicina do Trabalho","Medicina Esportiva","Medicina F\xedsica e Reabilita\xe7\xe3o","Medicina Intensiva","Medicina Legal e Per\xedcia M\xe9dica","Medicina Nuclear","Medicina Preventiva e Social","Nefrologia","Neurocirurgia","Neurologia","Nutrologia","Oftalmologia","Oncologia Cl\xednica","Ortopedia e Traumatologia","Otorrinolaringologia","Patologia","Patologia Cl\xednica/Medicina Laboratorial","Pediatria","Pneumologia","Psiquiatria","Radiologia e Diagn\xf3stico por Imagem","Radioterapia","Reumatologia","Urologia"],n=async e=>{let a=s.I8.currentUser;if(!a)throw Error("Usu\xe1rio n\xe3o autenticado.");try{var r;let o=(0,t.JU)(s.db,"users",a.uid),i=await (0,t.QT)(o),n=(null===(r=i.data())||void 0===r?void 0:r.displayName)||"Nome n\xe3o informado",l=await (0,t.ET)((0,t.hJ)(s.db,"doctorTimeSlots"),{...e,doctorId:a.uid,doctorName:n,status:"AVAILABLE",createdAt:(0,t.Bt)(),updatedAt:(0,t.Bt)()});return console.log("[addTimeSlot] Nova disponibilidade adicionada com nome: ".concat(n)),l.id}catch(e){throw console.error("Erro ao adicionar disponibilidade:",e),e}},l=async()=>{let e=s.I8.currentUser;if(!e)return[];try{let a=(0,t.IO)((0,t.hJ)(s.db,"doctorTimeSlots"),(0,t.ar)("doctorId","==",e.uid),(0,t.Xo)("date","asc"));return(await (0,t.PL)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Erro ao buscar disponibilidades:",e),Error("Falha ao carregar suas disponibilidades.")}},d=async(e,a)=>{let r=(0,t.JU)(s.db,"doctorTimeSlots",e);try{await (0,t.r7)(r,{...a,updatedAt:(0,t.Bt)()})}catch(e){throw console.error("Erro ao atualizar disponibilidade:",e),e}},c=async e=>{try{await (0,t.oe)((0,t.JU)(s.db,"doctorTimeSlots",e))}catch(e){throw console.error("Erro ao deletar disponibilidade:",e),e}}}},function(e){e.O(0,[4358,9990,6137,9084,7648,9916,7607,2971,2117,1744],function(){return e(e.s=86430)}),_N_E=e.O()}]);