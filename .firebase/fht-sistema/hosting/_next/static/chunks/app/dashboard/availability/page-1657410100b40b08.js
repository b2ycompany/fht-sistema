(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{3883:function(e,a,s){Promise.resolve().then(s.bind(s,28513))},28513:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return q}});var t=s(57437),i=s(2265),r=s(62869),l=s(66070),n=s(1098),d=s(53647),o=s(26815),c=s(95186),m=s(76818),u=s(35153),x=s(35974),p=s(57054),h=s(23518),f=s(26110),g=s(51888),b=s(94508),j=s(5978),v=s(17293),N=s(49505),y=s(51817),w=s(43044),C=s(49322),S=s(69076),k=s(88501),D=s(83774),z=s(5005),A=s(95252),E=s(33245),Z=s(53121),R=s(18930),_=s(32489),T=s(91723),B=s(99397);let P=i.memo(e=>{let{message:a="Carregando..."}=e;return(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center text-center py-10 min-h-[150px] w-full",children:[" ",(0,t.jsx)(y.Z,{className:"h-8 w-8 animate-spin text-blue-600"})," ",(0,t.jsx)("span",{className:"ml-3 text-sm text-gray-600 mt-3",children:a})," "]})});P.displayName="LoadingState";let L=i.memo(e=>{let{message:a,actionButton:s}=e;return(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500 py-10 min-h-[150px] flex flex-col items-center justify-center bg-gray-50/70 rounded-md border border-dashed border-gray-300 w-full",children:[" ",(0,t.jsx)(w.Z,{className:"w-12 h-12 text-gray-400 mb-4"})," ",(0,t.jsx)("p",{className:"font-medium text-gray-600 mb-1",children:"Nada por aqui ainda!"})," ",(0,t.jsx)("p",{className:"max-w-xs",children:a})," ",s&&(0,t.jsx)("div",{className:"mt-4",children:s})," "]})});L.displayName="EmptyState";let O=i.memo(e=>{let{message:a,onRetry:s}=e;return(0,t.jsxs)("div",{className:"text-center text-sm text-red-600 py-10 min-h-[150px] flex flex-col items-center justify-center bg-red-50/70 rounded-md border border-dashed border-red-300 w-full",children:[" ",(0,t.jsx)(C.Z,{className:"w-12 h-12 text-red-400 mb-4"})," ",(0,t.jsx)("p",{className:"font-semibold text-red-700 mb-1 text-base",children:"Oops! Algo deu errado."})," ",(0,t.jsx)("p",{className:"max-w-md text-red-600",children:a||"N\xe3o foi poss\xedvel carregar os dados. Por favor, tente novamente."})," ",s&&(0,t.jsxs)(r.z,{variant:"destructive",size:"sm",onClick:s,className:"mt-4 bg-red-600 hover:bg-red-700 text-white",children:[" ",(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4"})," Tentar Novamente "]})," "]})});O.displayName="ErrorState";let V=Array.from({length:48},(e,a)=>"".concat(Math.floor(a/2).toString().padStart(2,"0"),":").concat(a%2==0?"00":"30")),G=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],F={SP:["S\xe3o Paulo","Campinas","Guarulhos","Osasco","Santo Andr\xe9","S\xe3o Bernardo do Campo","Santos","Ribeir\xe3o Preto","Sorocaba","Jundia\xed","Piracicaba","Bauru","Franca","Taubat\xe9","Limeira","Barueri","Cotia","Itapevi","Ara\xe7ariguama"],RJ:["Rio de Janeiro","S\xe3o Gon\xe7alo","Duque de Caxias","Nova Igua\xe7u","Niter\xf3i","Belford Roxo","Campos dos Goytacazes","S\xe3o Jo\xe3o de Meriti","Petr\xf3polis","Volta Redonda"],MG:["Belo Horizonte","Uberl\xe2ndia","Contagem","Juiz de Fora","Betim","Montes Claros","Ribeir\xe3o das Neves","Uberaba","Governador Valadares","Ipatinga"]},I=Object.entries(N.ku).map(e=>{let[a,s]=e,t=a.split("_").map(e=>e[0].toUpperCase()+e.slice(1)).join(" ");return{value:"telemedicina"===t.toLowerCase()?"Telemedicina":a,label:t,rateExample:s}}),M=e=>{var a;let{slot:s,onEdit:i,onDelete:l}=e,n=s.date instanceof j.EK?s.date.toDate():null,d=I.find(e=>e.value===s.serviceType),o=(null==d?void 0:d.label)||s.serviceType,c="AVAILABLE"===s.status;return(0,t.jsxs)("div",{className:(0,b.cn)("flex flex-col sm:flex-row items-start sm:justify-between border rounded-lg p-4 gap-x-4 gap-y-3 bg-white shadow-xs hover:shadow-sm",!c&&"opacity-70 bg-gray-50"),children:[(0,t.jsxs)("div",{className:"flex-1 space-y-1.5 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 shrink-0 text-blue-600"}),(0,t.jsx)("span",{suppressHydrationWarning:!0,children:n?n.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"Data Inv\xe1lida"}),(0,t.jsxs)("span",{className:"text-gray-500 font-normal",children:["(",s.startTime," - ",s.endTime,")"]})]}),(0,t.jsx)(x.C,{variant:(e=>{switch(e){case"AVAILABLE":case"BOOKED":case"COMPLETED":return"default";default:return"outline"}})(s.status),className:(0,b.cn)((e=>{switch(e){case"AVAILABLE":return"bg-blue-100 text-blue-800";case"BOOKED":return"bg-green-100 text-green-800";case"COMPLETED":return"bg-emerald-100 text-emerald-800";default:return"bg-gray-100 text-gray-800"}})(s.status),"capitalize"),children:null===(a=s.status)||void 0===a?void 0:a.replace(/_/g," ").toUpperCase()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-600 mt-1 pl-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[(0,t.jsx)(D.Z,{className:"h-3.5 w-3.5 shrink-0 text-purple-500"}),(0,t.jsxs)("span",{children:[Array.isArray(s.cities)&&s.cities.length>0?s.cities.join(", "):"Cidades n\xe3o informadas",", ",s.state]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 truncate",children:[(0,t.jsx)(z.Z,{className:"h-3.5 w-3.5 shrink-0 text-cyan-500"}),(0,t.jsx)("span",{children:o})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-green-600 font-medium sm:col-span-2",children:[(0,t.jsx)(A.Z,{className:"h-3.5 w-3.5 shrink-0"}),(0,t.jsxs)("span",{children:[(0,b.xG)(s.desiredHourlyRate),"/hora (pretendido)"]})]})]}),s.specialties&&s.specialties.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5 pt-1.5 pl-1",children:[" ",(0,t.jsx)("span",{className:"text-xs text-gray-500 mr-1 font-medium shrink-0",children:"Especialidades:"})," ",s.specialties.map(e=>(0,t.jsx)(x.C,{variant:"outline",className:"text-gray-700 text-[11px] px-1.5 py-0.5 font-normal border-blue-200 bg-blue-50",children:e},e))," "]}),s.notes&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 pt-1.5 pl-1 italic flex items-start gap-1.5",children:[" ",(0,t.jsx)(E.Z,{className:"inline h-3.5 w-3.5 mr-0.5 shrink-0 relative top-0.5"})," ",(0,t.jsx)("span",{className:"truncate",children:s.notes})," "]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 shrink-0 mt-2 sm:mt-0 self-end sm:self-center",children:[(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:i,disabled:!c,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-full w-8 h-8","aria-label":"Editar Disponibilidade",title:c?"Editar Disponibilidade":"N\xe3o \xe9 poss\xedvel editar uma disponibilidade reservada ou finalizada.",children:(0,t.jsx)(Z.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:l,disabled:!c,className:"text-red-600 hover:text-red-700 hover:bg-red-50 rounded-full w-8 h-8","aria-label":"Cancelar Disponibilidade",title:c?"Apagar Disponibilidade":"N\xe3o \xe9 poss\xedvel apagar uma disponibilidade reservada ou finalizada.",children:(0,t.jsx)(R.Z,{className:"h-4 w-4"})})]})]})};M.displayName="TimeSlotListItem";let H=e=>{var a;let{onFormSubmitted:s,initialData:l}=e,{toast:C}=(0,u.pm)(),S=!!l&&!!l.id,[Z,R]=(0,i.useState)(()=>S&&(null==l?void 0:l.date)?[l.date.toDate()]:[]),[B,P]=(0,i.useState)((null==l?void 0:l.startTime)||"07:00"),[L,O]=(0,i.useState)((null==l?void 0:l.endTime)||"19:00"),[M,H]=(0,i.useState)(String((null==l?void 0:l.desiredHourlyRate)||"")),[q,U]=(0,i.useState)((null==l?void 0:l.specialties)||[]),[J,K]=(0,i.useState)((null==l?void 0:l.state)||""),[Y,Q]=(0,i.useState)((null==l?void 0:l.cities)||[]),[$,W]=(0,i.useState)((null==l?void 0:l.serviceType)||""),[X,ee]=(0,i.useState)((null==l?void 0:l.notes)||""),[ea,es]=(0,i.useState)(!1),[et,ei]=(0,i.useState)(!1),[er,el]=(0,i.useState)(""),[en,ed]=(0,i.useState)(null),[eo,ec]=(0,i.useState)([]);(0,i.useEffect)(()=>{(null==l?void 0:l.state)&&ec(F[l.state]||[])},[null==l?void 0:l.state]);let em=(0,i.useCallback)(()=>{R([]),P("07:00"),O("19:00"),H(""),U([]),K(""),Q([]),W(""),ee(""),ed(null)},[]),eu=(0,i.useCallback)((e,a)=>{e&&a&&e===a?ed("Hor\xe1rio de in\xedcio n\xe3o pode ser igual ao de t\xe9rmino."):ed(null)},[]);(0,i.useEffect)(()=>{eu(B,L)},[B,L,eu]),(0,i.useEffect)(()=>{J?(ec(F[J]||[]),l&&J===l.state||Q([])):(ec([]),Q([]))},[J,l]);let ex=e=>{q.includes(e)||U(a=>[...a,e]),el(""),ei(!1)},ep=e=>{U(a=>a.filter(a=>a!==e))},eh=(0,i.useMemo)(()=>N.Gg.filter(e=>"string"==typeof e&&e.toLowerCase().includes(er.toLowerCase())&&!q.includes(e)),[er,q]),ef=(e,a)=>{P(e),O(a)},eg=async()=>{let e=parseFloat(M.replace(",","."));if(0===Z.length&&!S){C({title:"Data \xe9 obrigat\xf3ria",variant:"destructive"});return}if(en){C({title:"Hor\xe1rio Inv\xe1lido",variant:"destructive"});return}if(!$){C({title:"Tipo de Atendimento Obrigat\xf3rio",variant:"destructive"});return}if(isNaN(e)||e<=0){C({title:"Valor Hora Inv\xe1lido",variant:"destructive"});return}if(!J||0===Y.length){C({title:"Localiza\xe7\xe3o Obrigat\xf3ria",description:"Selecione o estado e pelo menos uma cidade.",variant:"destructive"});return}if(0===q.length){C({title:"Especialidade Obrigat\xf3ria",description:"Selecione ao menos uma especialidade.",variant:"destructive"});return}if(es(!0),!v.I8.currentUser){C({title:"Usu\xe1rio n\xe3o autenticado",variant:"destructive"}),es(!1);return}let a=B>L,t=X.trim();try{if(S&&(null==l?void 0:l.id)){let s={startTime:B,endTime:L,isOvernight:a,state:J,cities:Y,serviceType:$,specialties:q,desiredHourlyRate:e,...t&&{notes:t}};await (0,N._)(l.id,s),C({title:"Disponibilidade Atualizada",variant:"default"})}else{let s=Z.map(s=>{let i={date:j.EK.fromDate(s),startTime:B,endTime:L,isOvernight:a,state:J,cities:Y,serviceType:$,specialties:q,desiredHourlyRate:e,...t&&{notes:t}};return(0,N.yT)(i)});await Promise.all(s),C({title:"Disponibilidade(s) Adicionada(s)!",description:"".concat(Z.length," hor\xe1rio(s) foram salvos."),variant:"default"}),S||em()}s()}catch(e){C({title:"Erro ao ".concat(S?"Atualizar":"Salvar"),description:e.message,variant:"destructive"})}finally{es(!1)}};return(0,t.jsxs)(f.cZ,{className:"sm:max-w-2xl md:max-w-3xl",children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsx)(f.$N,{className:"text-xl",children:S?"Editar Disponibilidade":"Adicionar Nova Disponibilidade"}),(0,t.jsx)(f.Be,{children:S?"Altere os detalhes da sua disponibilidade. A data original n\xe3o pode ser alterada.":"Selecione as datas e preencha os detalhes. Uma entrada de disponibilidade ser\xe1 criada para cada data selecionada."})]}),(0,t.jsx)(f.GG,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"ghost",size:"icon",className:"absolute top-4 right-4",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Fechar"})]})}),(0,t.jsxs)("div",{className:"grid gap-5 py-4 max-h-[70vh] overflow-y-auto px-1 pr-3 md:pr-4 pb-12",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Data(s) da Disponibilidade*"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:S?"Data original (n\xe3o pode ser alterada).":"Selecione um ou mais dias no calend\xe1rio."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-start",children:[S?(0,t.jsx)(n.f,{mode:"single",selected:Z[0],disabled:!0,footer:(0,t.jsxs)("p",{className:"text-xs text-gray-700 font-medium p-2 border-t",children:["Data: ",null===(a=Z[0])||void 0===a?void 0:a.toLocaleDateString("pt-BR")]})}):(0,t.jsx)(n.f,{mode:"multiple",selected:Z,onSelect:R,disabled:{before:new Date(new Date().setHours(0,0,0,0))},footer:Z.length>0?(0,t.jsxs)("p",{className:"text-xs text-blue-700 font-medium p-2 border-t",children:[Z.length," dia(s) selecionado(s)."]}):(0,t.jsx)("p",{className:"text-xs text-gray-500 p-2 border-t",children:"Nenhum dia selecionado."}),modifiers:{selected:Z},modifiersStyles:{selected:{backgroundColor:"#2563eb",color:"white",borderRadius:"0.375rem"}}}),Z.length>0&&!S&&(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>R([]),className:"text-xs self-start sm:self-end w-full sm:w-auto",children:[(0,t.jsx)(_.Z,{className:"h-3 w-3 mr-1"})," Limpar Datas"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(T.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Hor\xe1rio da Disponibilidade*"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ef("07:00","19:00"),className:"text-xs",children:"Diurno (07-19h)"}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ef("19:00","07:00"),className:"text-xs",children:"Noturno (19-07h)"}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ef("08:00","12:00"),className:"text-xs",children:"Manh\xe3 (08-12h)"}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ef("13:00","18:00"),className:"text-xs",children:"Tarde (13-18h)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(o._,{htmlFor:"doc-start-time",children:"Hor\xe1rio de In\xedcio*"}),(0,t.jsxs)(d.Ph,{value:B,onValueChange:P,children:[(0,t.jsx)(d.i4,{id:"doc-start-time",className:(0,b.cn)("h-9",en&&"border-red-500 ring-1 ring-red-500"),children:(0,t.jsx)(d.ki,{})}),(0,t.jsx)(d.Bw,{children:V.map(e=>(0,t.jsx)(d.Ql,{value:e,children:e},"dst"+e))})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(o._,{htmlFor:"doc-end-time",children:"Hor\xe1rio de T\xe9rmino*"}),(0,t.jsxs)(d.Ph,{value:L,onValueChange:O,children:[(0,t.jsx)(d.i4,{id:"doc-end-time",className:(0,b.cn)("h-9",en&&"border-red-500 ring-1 ring-red-500"),children:(0,t.jsx)(d.ki,{})}),(0,t.jsx)(d.Bw,{children:V.map(e=>(0,t.jsx)(d.Ql,{value:e,children:e},"det"+e))})]})]}),en&&(0,t.jsx)("p",{className:"text-red-600 text-xs col-span-1 sm:col-span-2",children:en})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-state",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Estado de Atua\xe7\xe3o*"]}),(0,t.jsxs)(d.Ph,{value:J,onValueChange:K,children:[(0,t.jsx)(d.i4,{id:"doc-state",className:"h-9",children:(0,t.jsx)(d.ki,{placeholder:"Selecione o UF..."})}),(0,t.jsx)(d.Bw,{children:G.map(e=>(0,t.jsx)(d.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(o._,{className:"font-semibold text-gray-800",children:"Cidades de Atua\xe7\xe3o*"}),(0,t.jsx)(g.R,{selectedState:J,availableCities:eo,selectedCities:Y,onConfirm:Q})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-service-type",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(z.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Tipo de Atendimento*"]}),(0,t.jsxs)(d.Ph,{value:$,onValueChange:W,children:[(0,t.jsx)(d.i4,{id:"doc-service-type",className:"h-9",children:(0,t.jsx)(d.ki,{placeholder:"Selecione..."})}),(0,t.jsx)(d.Bw,{children:I.map(e=>(0,t.jsx)(d.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-desired-rate",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(A.Z,{className:"h-4 w-4 mr-2 text-green-600"}),"Valor Hora Pretendido (R$)*"]}),(0,t.jsx)(c.I,{id:"doc-desired-rate",type:"number",min:"0.01",step:"0.01",placeholder:"Ex: 100.00",value:M,onChange:e=>H(e.target.value),className:"h-9"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(w.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Especialidades Atendidas* ",(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-1 font-normal",children:"(Selecione ao menos uma)"})]}),(0,t.jsxs)(p.J2,{open:et,onOpenChange:ei,children:[(0,t.jsx)(p.xo,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"outline",className:"w-full justify-start font-normal text-muted-foreground h-9 border-dashed hover:border-solid",children:q.length>0?"Selecionadas: ".concat(q.length):"Clique para selecionar especialidades..."})}),(0,t.jsx)(p.yk,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,t.jsxs)(h.mY,{filter:(e,a)=>{var s;return(null===(s=N.Gg.find(a=>a.toLowerCase()===e.toLowerCase()))||void 0===s?void 0:s.toLowerCase().includes(a.toLowerCase()))?1:0},children:[(0,t.jsx)(h.sZ,{placeholder:"Buscar especialidade...",value:er,onValueChange:el}),(0,t.jsxs)(h.e8,{children:[(0,t.jsx)(h.rb,{children:"Nenhuma."}),(0,t.jsx)(h.fu,{heading:"".concat(eh.length," encontradas"),children:eh.map(e=>(0,t.jsx)(h.di,{value:e,onSelect:()=>ex(e),className:"cursor-pointer hover:bg-accent",children:e},e))})]})]})})]}),q.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mt-2 pt-2 border-t border-dashed",children:[" ",q.map(e=>(0,t.jsxs)(x.C,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100 font-normal",children:[" ",e," ",(0,t.jsxs)("button",{type:"button",onClick:()=>ep(e),className:"ml-1.5 p-0.5 rounded-full outline-none focus:ring-1 focus:ring-blue-500 hover:bg-blue-200",children:[" ",(0,t.jsx)(_.Z,{className:"h-3 w-3 text-blue-600 hover:text-blue-800"})," "]})," "]},e))," "]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(o._,{htmlFor:"doc-notes",className:"font-semibold text-gray-800 flex items-center",children:[(0,t.jsx)(E.Z,{className:"h-4 w-4 mr-2 text-blue-600"}),"Notas Adicionais ",(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-1 font-normal",children:"(Opcional)"})]}),(0,t.jsx)(m.g,{id:"doc-notes",placeholder:"Ex: Prefer\xeancia por plant\xf5es mais tranquilos, etc.",value:X,onChange:e=>ee(e.target.value),className:"min-h-[80px]"})]})]}),(0,t.jsxs)(f.cN,{className:"pt-4 border-t bg-slate-50 -m-6 px-6 pb-8 sm:pb-4 rounded-b-lg",children:[(0,t.jsx)(f.GG,{asChild:!0,children:(0,t.jsx)(r.z,{type:"button",variant:"outline",disabled:ea,children:"Cancelar"})}),(0,t.jsxs)(r.z,{type:"button",onClick:eg,disabled:ea||0===Z.length&&!S,className:"bg-blue-600 hover:bg-blue-700",children:[ea&&(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4 animate-spin"}),ea?S?"Salvando...":"Adicionando...":S?"Salvar Altera\xe7\xf5es":"Adicionar Disponibilidade (".concat(Z.length||0," Dia(s))")]})]})]})};function q(){let{toast:e}=(0,u.pm)(),[a,s]=(0,i.useState)(!1),[n,d]=(0,i.useState)(null),[o,c]=(0,i.useState)([]),[m,x]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),g=(0,i.useCallback)(async()=>{x(!0),h(null);try{let e=await (0,N.aN)();c(e.sort((e,a)=>e.date.toDate().getTime()-a.date.toDate().getTime()||e.startTime.localeCompare(a.startTime)))}catch(a){var e;h((null===(e=a.message)||void 0===e?void 0:e.includes("query requires an index"))?"Falha ao buscar: \xcdndice do Firestore necess\xe1rio. ".concat(a.message):a.message||"N\xe3o foi poss\xedvel carregar suas disponibilidades.")}finally{x(!1)}},[]);(0,i.useEffect)(()=>{g()},[g]);let b=()=>{d(null),s(!0)},j=e=>{d(e),s(!0)},v=async a=>{if(a&&confirm("Tem certeza que deseja apagar esta disponibilidade? Esta a\xe7\xe3o n\xe3o pode ser desfeita."))try{await (0,N._e)(a),e({title:"Disponibilidade Removida",description:"O seu hor\xe1rio foi removido com sucesso.",variant:"default"}),g()}catch(a){e({title:"Erro ao Remover",description:a.message,variant:"destructive"})}};return(0,t.jsxs)("div",{className:"space-y-6 p-1",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Minha Disponibilidade"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm sm:text-base mt-1",children:"Cadastre os dias, hor\xe1rios, locais e valores que voc\xea est\xe1 dispon\xedvel para atender."})]}),(0,t.jsxs)(f.Vq,{open:a,onOpenChange:e=>{s(e),e||d(null)},children:[(0,t.jsx)(f.hg,{asChild:!0,children:(0,t.jsxs)(r.z,{size:"sm",className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700",onClick:b,children:[(0,t.jsx)(B.Z,{className:"mr-1.5 h-4 w-4"})," Adicionar Disponibilidade"]})}),(0,t.jsx)(H,{onFormSubmitted:()=>{s(!1),d(null),g()},initialData:n},n?"edit-".concat(n.id):"new")]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Disponibilidades Cadastradas"}),(0,t.jsx)(l.SZ,{children:"Seus hor\xe1rios dispon\xedveis para propostas de plant\xe3o."})]}),(0,t.jsx)(l.aY,{children:m?(0,t.jsx)(P,{}):p?(0,t.jsx)(O,{message:p,onRetry:g}):0===o.length?(0,t.jsx)(L,{message:"Voc\xea ainda n\xe3o cadastrou nenhuma disponibilidade.",actionButton:(0,t.jsxs)(r.z,{size:"sm",onClick:b,className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(B.Z,{className:"mr-1.5 h-4 w-4"}),"Cadastrar Primeira Disponibilidade"]})}):(0,t.jsxs)("div",{className:"space-y-3",children:[" ",o.map(e=>(0,t.jsx)(M,{slot:e,onEdit:()=>j(e),onDelete:()=>v(e.id)},e.id))," "]})})]})]})}H.displayName="TimeSlotFormDialog"},35974:function(e,a,s){"use strict";s.d(a,{C:function(){return n}});var t=s(57437);s(2265);var i=s(90535),r=s(94508);let l=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:s,...i}=e;return(0,t.jsx)("div",{className:(0,r.cn)(l({variant:s}),a),...i})}},26110:function(e,a,s){"use strict";s.d(a,{$N:function(){return f},Be:function(){return g},GG:function(){return m},Vq:function(){return d},cN:function(){return h},cZ:function(){return x},fK:function(){return p},hg:function(){return o}});var t=s(57437),i=s(2265),r=s(49027),l=s(32489),n=s(94508);let d=r.fC,o=r.xz,c=r.h_,m=r.x8,u=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...i})});u.displayName=r.aV.displayName;let x=i.forwardRef((e,a)=>{let{className:s,children:i,...d}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(r.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[i,(0,t.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.VY.displayName;let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};p.displayName="DialogHeader";let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};h.displayName="DialogFooter";let f=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...i})});f.displayName=r.Dx.displayName;let g=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...i})});g.displayName=r.dk.displayName},95186:function(e,a,s){"use strict";s.d(a,{I:function(){return l}});var t=s(57437),i=s(2265),r=s(94508);let l=i.forwardRef((e,a)=>{let{className:s,type:i,...l}=e;return(0,t.jsx)("input",{type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});l.displayName="Input"},26815:function(e,a,s){"use strict";s.d(a,{_:function(){return o}});var t=s(57437),i=s(2265),r=s(6394),l=s(90535),n=s(94508);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.f,{ref:a,className:(0,n.cn)(d(),s),...i})});o.displayName=r.f.displayName},53647:function(e,a,s){"use strict";s.d(a,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return f},i4:function(){return u},ki:function(){return m}});var t=s(57437),i=s(2265),r=s(56873),l=s(40875),n=s(22135),d=s(30401),o=s(94508);let c=r.fC;r.ZA;let m=r.B4,u=i.forwardRef((e,a)=>{let{className:s,children:i,...n}=e;return(0,t.jsxs)(r.xz,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[i,(0,t.jsx)(r.JO,{asChild:!0,children:(0,t.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.xz.displayName;let x=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...i,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=r.u_.displayName;let p=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...i,children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=r.$G.displayName;let h=i.forwardRef((e,a)=>{let{className:s,children:i,position:l="popper",...n}=e;return(0,t.jsx)(r.h_,{children:(0,t.jsxs)(r.VY,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,t.jsx)(x,{}),(0,t.jsx)(r.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,t.jsx)(p,{})]})})});h.displayName=r.VY.displayName,i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...i})}).displayName=r.__.displayName;let f=i.forwardRef((e,a)=>{let{className:s,children:i,...l}=e;return(0,t.jsxs)(r.ck,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.wU,{children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(r.eT,{children:i})]})});f.displayName=r.ck.displayName,i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...i})}).displayName=r.Z0.displayName}},function(e){e.O(0,[4358,9990,6137,9084,9733,6838,4517,6008,9315,4084,7988,3294,3648,5225,3959,2971,2117,1744],function(){return e(e.s=3883)}),_N_E=e.O()}]);