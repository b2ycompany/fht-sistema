(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1390],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},18278:function(e,a,t){Promise.resolve().then(t.bind(t,9751))},9751:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return L}});var s=t(57437),r=t(2265),o=t(99376),i=t(44667),l=t(31209),n=t(902),c=t(92651),d=t(46413),u=t(17293),m=t(5978);let p=async e=>{try{let a=(0,m.JU)(u.db,"diagnosticProtocols",e),t=await (0,m.QT)(a);if(t.exists())return{id:t.id,...t.data()};return console.warn('[ProtocolService] Protocolo com ID "'.concat(e,'" n\xe3o encontrado.')),null}catch(a){throw console.error('[ProtocolService] Erro ao buscar protocolo "'.concat(e,'":'),a),Error("N\xe3o foi poss\xedvel carregar o protocolo de diagn\xf3stico.")}};var x=t(35153),h=t(51817),f=t(83229),v=t(66070),y=t(26815),j=t(74991),g=t(76818),N=t(62869);let b=e=>{let{protocolId:a,appointmentId:t,initialAnswers:o}=e,{toast:i}=(0,x.pm)(),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(o||{}),[m,b]=(0,r.useState)(!0),[w,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{b(!0);try{let e=await p(a);c(e)}catch(e){i({title:"Erro",description:"N\xe3o foi poss\xedvel carregar as perguntas do protocolo.",variant:"destructive"})}finally{b(!1)}})()},[a,i]);let S=(e,a)=>{u(t=>({...t,[e]:a}))},E=async()=>{if(0===Object.keys(d).length){i({title:"Nenhuma resposta",description:"Nenhuma resposta foi alterada para salvar.",variant:"default"});return}A(!0);try{await (0,n.fW)(t,d),i({title:"Sucesso!",description:"Respostas do protocolo salvas."})}catch(e){i({title:"Erro ao Salvar",description:"N\xe3o foi poss\xedvel salvar as respostas.",variant:"destructive"})}finally{A(!1)}};return m?(0,s.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,s.jsx)(h.Z,{className:"h-6 w-6 animate-spin"})}):l?(0,s.jsxs)(v.Zb,{className:"bg-gray-900/50 border-gray-700",children:[(0,s.jsxs)(v.Ol,{children:[(0,s.jsx)(v.ll,{children:l.title}),(0,s.jsx)(v.SZ,{children:l.description})]}),(0,s.jsxs)(v.aY,{className:"space-y-6",children:[l.questions.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 border-b border-gray-700 last:border-b-0",children:[(0,s.jsxs)(y._,{className:"font-semibold text-base",children:[a+1,". ",e.text]}),(0,s.jsxs)("div",{className:"mt-3",children:["multiple_choice"===e.type&&e.options&&(0,s.jsx)(j.E,{value:d[e.id]||"",onValueChange:a=>S(e.id,a),className:"space-y-2",children:e.options.map(a=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j.m,{value:a,id:"".concat(e.id,"-").concat(a)}),(0,s.jsx)(y._,{htmlFor:"".concat(e.id,"-").concat(a),className:"font-normal cursor-pointer",children:a})]},a))}),"text_input"===e.type&&(0,s.jsx)(g.g,{value:d[e.id]||"",onChange:a=>S(e.id,a.target.value),placeholder:e.placeholder||"Digite sua observa\xe7\xe3o...",className:"bg-gray-900 border-gray-600"})]})]},e.id)),(0,s.jsx)("div",{className:"flex justify-end pt-4",children:(0,s.jsxs)(N.z,{onClick:E,disabled:w,children:[w?(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Salvar Respostas do Protocolo"]})})]})]}):(0,s.jsx)("p",{className:"text-red-500 text-center",children:"Protocolo de diagn\xf3stico n\xe3o encontrado."})};var w=t(70320),A=t(7315),S=t(42208),E=t(1740);let C=(0,r.memo)(e=>{let{videoTrack:a,onMetricsFinalized:t}=e,o=(0,r.useRef)(null),i=(0,r.useRef)(),l=(0,r.useRef)(null),n=(0,r.useRef)(null),[c,d]=(0,r.useState)({eyeContactScore:0,headMovement:0,isModelReady:!1,statusMessage:"A inicializar TensorFlow.js..."});return(0,r.useEffect)(()=>{a&&o.current&&(o.current.srcObject=new MediaStream([a]),o.current.play().catch(e=>console.error("Erro ao reproduzir v\xeddeo para an\xe1lise:",e)))},[a]),(0,r.useEffect)(()=>{let e=async()=>{if(o.current&&l.current&&o.current.readyState>=3){let e=o.current,a=await l.current.estimateFaces(e);if(a.length>0){let e=a[0].keypoints,t=e.find(e=>"noseTip"===e.name),s=0;if(t&&n.current){let e=t.x-n.current.x,a=t.y-n.current.y;s=Math.sqrt(e*e+a*a),n.current={x:t.x,y:t.y}}else t&&(n.current={x:t.x,y:t.y});let r=e.find(e=>"leftEyeUpper1"===e.name),o=e.find(e=>"rightEyeUpper1"===e.name),i=!1;(null==r?void 0:r.z)&&(null==o?void 0:o.z)&&(i=10>Math.abs(r.z-o.z)),d(e=>({...e,eyeContactScore:i?Math.min(100,e.eyeContactScore+.5):Math.max(0,e.eyeContactScore-.5),headMovement:e.headMovement+s}))}}i.current=requestAnimationFrame(e)};return(async()=>{try{await w.Cd_(),d(e=>({...e,statusMessage:"A carregar modelo de detec\xe7\xe3o facial..."}));let a=A.oV.MediaPipeFaceMesh,t=await A.cH(a,{runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh",maxFaces:1,refineLandmarks:!0});l.current=t,d(e=>({...e,isModelReady:!0,statusMessage:"Modelo pronto. A analisar..."})),i.current=requestAnimationFrame(e)}catch(e){console.error("Falha ao carregar o modelo de IA:",e),d(e=>({...e,statusMessage:"Erro ao carregar modelo."}))}})(),()=>{i.current&&cancelAnimationFrame(i.current),l.current&&l.current.dispose(),t({eyeContactScore:c.eyeContactScore,headMovement:c.headMovement})}},[]),(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-gray-900/50 border border-gray-700 h-full",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"An\xe1lise Comportamental em Tempo Real"}),(0,s.jsx)("video",{ref:o,className:"hidden"}),c.isModelReady?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(S.Z,{className:"h-5 w-5 mr-3 text-blue-400"}),(0,s.jsx)("span",{className:"text-white",children:"Estimativa de Contato Visual"})]}),(0,s.jsx)("div",{className:"w-1/3 bg-gray-700 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"bg-blue-400 h-2.5 rounded-full",style:{width:"".concat(c.eyeContactScore,"%")}})}),(0,s.jsxs)("span",{className:"font-bold text-lg text-blue-300 w-16 text-right",children:[c.eyeContactScore.toFixed(0),"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(E.Z,{className:"h-5 w-5 mr-3 text-purple-400"}),(0,s.jsx)("span",{className:"text-white",children:"Ac\xfamulo de Movimento (Cabe\xe7a)"})]}),(0,s.jsx)("span",{className:"font-bold text-lg text-purple-300",children:c.headMovement.toFixed(0)})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 pt-2",children:"Estes dados s\xe3o estimativas geradas por IA para apoiar a observa\xe7\xe3o cl\xednica e n\xe3o constituem um diagn\xf3stico."})]}):(0,s.jsxs)("div",{className:"flex items-center text-yellow-400",children:[(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),(0,s.jsx)("span",{children:c.statusMessage})]})]})});C.displayName="RealTimeAnalysis";let P=(e,a)=>{let t=[];t.push("RELAT\xd3RIO DE APOIO GERADO POR IA\nData: "+new Date().toLocaleDateString("pt-BR")),t.push("------------------------------------");let s="An\xe1lise do Protocolo de Triagem:\n";if(e.q1_eye_contact){let a=e.q1_eye_contact;a.includes("Raramente")?s+="- O protocolo indica que o contato visual foi raramente ou nunca mantido.\n":a.includes("inconstante")&&(s+="- O protocolo aponta para um contato visual inconstante.\n")}if(e.q4_repetitive_movements){let a=e.q4_repetitive_movements;a.includes("frequente")?s+="- Foram reportados movimentos corporais repetitivos de forma frequente ou intensa.\n":a.includes("leve")&&(s+="- Foram reportados movimentos corporais repetitivos de forma leve ou ocasional.\n")}e.q5_speech_patterns&&e.q5_speech_patterns.length>2&&(s+="- Observa\xe7\xf5es sobre a fala: ".concat(e.q5_speech_patterns,"\n")),t.push(s);let r="An\xe1lise Comportamental por V\xeddeo (Estimativas):\n";return a.eyeContactScore<40?r+="- O \xedndice de contato visual direto com a c\xe2mera foi baixo (".concat(a.eyeContactScore.toFixed(0),"%).\n"):a.eyeContactScore<70?r+="- O \xedndice de contato visual direto com a c\xe2mera foi moderado (".concat(a.eyeContactScore.toFixed(0),"%).\n"):r+="- O \xedndice de contato visual direto com a c\xe2mera foi consistente (".concat(a.eyeContactScore.toFixed(0),"%).\n"),a.headMovement>1500?r+="- Foi detetado um alto volume de movimento da cabe\xe7a durante a consulta (\xedndice: ".concat(a.headMovement.toFixed(0),").\n"):a.headMovement>800?r+="- O volume de movimento da cabe\xe7a foi moderado (\xedndice: ".concat(a.headMovement.toFixed(0),").\n"):r+="- O volume de movimento da cabe\xe7a foi baixo (\xedndice: ".concat(a.headMovement.toFixed(0),").\n"),t.push(r),t.push("------------------------------------"),t.push("NOTA: Este relat\xf3rio \xe9 uma ferramenta de apoio baseada em dados observacionais e estimativas de IA. N\xe3o substitui a avalia\xe7\xe3o e o julgamento cl\xednico do profissional de sa\xfade."),t.join("\n")};var R=t(82222);let O=e=>{let{appointment:a,patientVideoTrack:t}=e,{toast:o}=(0,x.pm)(),[i,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(a.aiAnalysisReport||""),[u,m]=(0,r.useState)(!1),p=async()=>{if(!c){o({title:"Aten\xe7\xe3o",description:"Nenhum relat\xf3rio foi gerado para salvar.",variant:"destructive"});return}m(!0);try{await (0,n.ps)(a.id,c),o({title:"Sucesso",description:"Relat\xf3rio de apoio da IA salvo no prontu\xe1rio."})}catch(e){o({title:"Erro",description:e.message,variant:"destructive"})}finally{m(!1)}};return(0,s.jsxs)("div",{className:"space-y-6 h-full",children:[(0,s.jsx)(C,{videoTrack:t,onMetricsFinalized:l}),(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(b,{protocolId:"ASD_screening_v1",appointmentId:a.id,initialAnswers:a.autismProtocolAnswers})}),(0,s.jsxs)("div",{className:"space-y-3 pt-4 border-t border-gray-700",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Relat\xf3rio Consolidado da IA"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,s.jsxs)(N.z,{onClick:()=>{if(!a.autismProtocolAnswers){o({title:"Aten\xe7\xe3o",description:"Por favor, preencha e salve as respostas do protocolo primeiro.",variant:"destructive"});return}if(!i){o({title:"Aten\xe7\xe3o",description:"Os dados de an\xe1lise de v\xeddeo ainda n\xe3o foram finalizados. A an\xe1lise para quando a chamada \xe9 encerrada ou a aba \xe9 trocada.",variant:"destructive"});return}d(P(a.autismProtocolAnswers,i)),o({title:"Relat\xf3rio Gerado",description:"O resumo da IA foi criado com base nos dados coletados."})},children:[(0,s.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Gerar Relat\xf3rio de Apoio"]}),(0,s.jsxs)(N.z,{onClick:p,disabled:u||!c,variant:"outline",children:[u?(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Salvar Relat\xf3rio no Prontu\xe1rio"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y._,{htmlFor:"ai-report-output",children:"Resumo da An\xe1lise"}),(0,s.jsx)(g.g,{id:"ai-report-output",value:c,readOnly:!0,className:"bg-gray-950 text-gray-300 font-mono h-56 resize-none",placeholder:"Clique em 'Gerar Relat\xf3rio' para ver o resumo da IA aqui..."})]})]})]})};var k=t(92369),M=t(48662),_=t(60730),z=t(29374),Z=t(88178),F=t(87133),I=t(76865),q=t(12339);let T=(0,r.memo)(e=>{let{id:a}=e,t=(0,i.aV)(a),o=(0,r.useRef)(null),l=null==t?void 0:t.tracks.video.persistentTrack;return(0,r.useEffect)(()=>{o.current&&l&&(o.current.srcObject=new MediaStream([l]))},[l]),(0,s.jsxs)("div",{className:"relative aspect-video bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[(0,s.jsx)("video",{autoPlay:!0,muted:null==t?void 0:t.local,playsInline:!0,ref:o,className:"w-full h-full object-cover"}),!l&&(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 text-gray-400",children:[(0,s.jsx)(k.Z,{className:"w-16 h-16"}),(0,s.jsx)("p",{className:"font-bold",children:(null==t?void 0:t.user_name)||"Participante"}),(0,s.jsx)("p",{className:"text-xs",children:"C\xe2mera desligada"})]})}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:(null==t?void 0:t.local)?"Voc\xea":(null==t?void 0:t.user_name)||"Participante"})]})});T.displayName="VideoTile";let V=(0,r.memo)(e=>{let{callObject:a}=e,t=(0,i.j1)(),r=(0,o.useRouter)();return a?((0,i.VU)("left-meeting",()=>{r.push("/dashboard/agenda")}),(0,s.jsxs)("div",{className:"flex justify-center items-center gap-3 p-4 bg-gray-800/80 backdrop-blur-sm border-t border-gray-700 rounded-t-xl",children:[(0,s.jsx)(N.z,{onClick:()=>a.setLocalAudio(!(null==t?void 0:t.audio)),variant:"outline",size:"icon",className:"bg-gray-700 hover:bg-gray-600 border-gray-600 rounded-full h-12 w-12",children:(null==t?void 0:t.audio)?(0,s.jsx)(M.Z,{size:20}):(0,s.jsx)(_.Z,{size:20,className:"text-red-500"})}),(0,s.jsx)(N.z,{onClick:()=>a.setLocalVideo(!(null==t?void 0:t.video)),variant:"outline",size:"icon",className:"bg-gray-700 hover:bg-gray-600 border-gray-600 rounded-full h-12 w-12",children:(null==t?void 0:t.video)?(0,s.jsx)(z.Z,{size:20}):(0,s.jsx)(Z.Z,{size:20,className:"text-red-500"})}),(0,s.jsx)(N.z,{onClick:()=>a.leave(),variant:"destructive",size:"icon",className:"rounded-full h-14 w-14",children:(0,s.jsx)(F.Z,{size:24})})]})):null});V.displayName="CallTray";let U=(0,r.memo)(e=>{let{appointment:a,userProfile:t,patientVideoTrack:o}=e,{toast:i}=(0,x.pm)(),[l,c]=(0,r.useState)((null==a?void 0:a.clinicalEvolution)||""),[d,u]=(0,r.useState)((null==a?void 0:a.diagnosticHypothesis)||""),[m,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a&&(c(a.clinicalEvolution||""),u(a.diagnosticHypothesis||""))},[a]);let y=async()=>{if(a){p(!0);try{await (0,n.q)(a.id,{clinicalEvolution:l,diagnosticHypothesis:d}),i({title:"Sucesso!",description:"Prontu\xe1rio salvo."})}catch(e){i({title:"Erro ao Salvar",description:e.message,variant:"destructive"})}finally{p(!1)}}};return a&&t?(0,s.jsxs)(v.Zb,{className:"h-full flex flex-col bg-gray-800 border-gray-700 text-white",children:[(0,s.jsx)(v.Ol,{children:(0,s.jsx)(v.ll,{className:"text-lg",children:"Prontu\xe1rio Eletr\xf4nico"})}),(0,s.jsxs)(v.aY,{className:"flex-grow flex flex-col gap-4 overflow-y-auto",children:[(0,s.jsxs)(q.mQ,{defaultValue:"ai-analysis",className:"flex-grow flex flex-col",children:[(0,s.jsxs)(q.dr,{className:"grid w-full grid-cols-4 bg-gray-900",children:[(0,s.jsx)(q.SP,{value:"ai-analysis",className:"text-purple-400",children:"An\xe1lise IA"}),(0,s.jsx)(q.SP,{value:"medical-record",children:"Atendimento"}),(0,s.jsx)(q.SP,{value:"patient-data",children:"Paciente"}),(0,s.jsx)(q.SP,{value:"documents",children:"Documentos"})]}),(0,s.jsx)(q.nU,{value:"patient-data",className:"text-sm space-y-3 mt-4 flex-grow"}),(0,s.jsx)(q.nU,{value:"medical-record",className:"flex-grow flex flex-col gap-4 mt-4"}),(0,s.jsx)(q.nU,{value:"documents",className:"mt-4 space-y-4"}),(0,s.jsx)(q.nU,{value:"ai-analysis",className:"mt-4 flex-grow",children:(0,s.jsx)(O,{appointment:a,patientVideoTrack:o})})]}),(0,s.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-700",children:(0,s.jsxs)(N.z,{onClick:y,disabled:m,className:"w-full",children:[m?(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," Salvar Anota\xe7\xf5es"]})})]})]}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center p-4 bg-gray-800 rounded-lg",children:(0,s.jsx)(h.Z,{className:"h-6 w-6 animate-spin"})})});U.displayName="ElectronicHealthRecord";let D=(0,r.memo)(()=>{let e=(0,i.OV)({filter:"remote"});return(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,s.jsx)(T,{id:e},e))})});D.displayName="ParticipantRenderer";let H=e=>{let{callObject:a}=e,{user:t}=(0,d.a)(),l=(0,o.useRouter)(),u=(0,o.useParams)().appointmentId,[m,p]=(0,r.useState)(null),[x,f]=(0,r.useState)(null),[v,y]=(0,r.useState)(!0),[j,g]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),A=(0,i.OV)({filter:"remote"}),S=(0,i.aV)(A[0]);return((0,r.useEffect)(()=>{(null==S?void 0:S.tracks.video.persistentTrack)&&w(S.tracks.video.persistentTrack)},[S]),(0,r.useEffect)(()=>{u&&a&&t&&(async()=>{y(!0),g(null);try{let[e,s]=await Promise.all([(0,n.sO)(u),(0,c.Ts)()]);if(!e)throw Error("Agendamento n\xe3o encontrado.");if(e.doctorId!==t.uid)throw Error("Acesso n\xe3o permitido a este agendamento.");if(!e.telemedicineRoomUrl)throw Error("Link de telemedicina inv\xe1lido.");p(e),f(s),await a.join({url:e.telemedicineRoomUrl,userName:(null==s?void 0:s.displayName)||"M\xe9dico(a)"})}catch(e){g(e.message||"Falha ao carregar a sala.")}finally{y(!1)}})()},[u,a,t,l]),v)?(0,s.jsxs)("div",{className:"h-screen flex items-center justify-center bg-gray-900",children:[(0,s.jsx)(h.Z,{className:"h-12 w-12 animate-spin text-blue-400"}),(0,s.jsx)("p",{className:"ml-4",children:"A carregar..."})]}):j?(0,s.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[(0,s.jsx)(I.Z,{className:"h-12 w-12 text-red-400"}),(0,s.jsx)("p",{className:"mt-4 text-center",children:j}),(0,s.jsx)(N.z,{onClick:()=>l.push("/dashboard/agenda"),className:"mt-4",children:"Voltar"})]}):(0,s.jsxs)("div",{className:"w-full h-screen bg-gray-900 text-white flex flex-col md:flex-row gap-4 p-4",children:[(0,s.jsx)("div",{className:"w-full md:w-2/5 xl:w-1/3 h-full overflow-y-auto",children:(0,s.jsx)(U,{appointment:m,userProfile:x,patientVideoTrack:b})}),(0,s.jsxs)("div",{className:"w-full md:w-3/5 xl:w-2/3 h-full flex flex-col gap-4",children:[(0,s.jsxs)("header",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Atendimento Telemedicina"}),m&&(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Paciente: ",m.patientName]})]}),(0,s.jsx)("main",{className:"flex-grow flex items-center justify-center overflow-hidden",children:0===A.length?(0,s.jsx)("div",{className:"text-center text-gray-400",children:"A aguardar o paciente entrar..."}):(0,s.jsx)(D,{})}),(0,s.jsx)("footer",{className:"flex-shrink-0",children:(0,s.jsx)(V,{callObject:a})})]})]})};function L(){let[e,a]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=l.ZP.createCallObject();return a(e),()=>{e.leave().finally(()=>{e.destroy()})}},[]),e)?(0,s.jsx)(i.Eu,{callObject:e,children:(0,s.jsx)(H,{callObject:e})}):(0,s.jsxs)("div",{className:"h-screen flex items-center justify-center bg-gray-900",children:[(0,s.jsx)(h.Z,{className:"h-12 w-12 animate-spin"}),(0,s.jsx)("p",{className:"ml-4",children:"A inicializar v\xeddeo..."})]})}},74991:function(e,a,t){"use strict";t.d(a,{E:function(){return n},m:function(){return c}});var s=t(57437),r=t(2265),o=t(42325),i=t(40519),l=t(94508);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.fC,{className:(0,l.cn)("grid gap-2",t),...r,ref:a})});n.displayName=o.fC.displayName;let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.ck,{ref:a,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,s.jsx)(o.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=o.ck.displayName},902:function(e,a,t){"use strict";t.d(a,{Pc:function(){return l},fW:function(){return d},ps:function(){return u},q:function(){return c},sO:function(){return n}});var s=t(17293),r=t(13491),o=t(5978);let i=(0,r.V1)(s.functions,"createAppointment"),l=async e=>{try{let a={...e,appointmentDate:e.appointmentDate.toISOString()},t=await i(a);if(!t.data.success||!t.data.appointmentId)throw Error("A Cloud Function n\xe3o retornou um resultado de sucesso.");return t.data.appointmentId}catch(e){throw Error(e.message||"N\xe3o foi poss\xedvel concluir o agendamento.")}},n=async e=>{try{let a=(0,o.JU)(s.db,"appointments",e),t=await (0,o.QT)(a);if(t.exists())return{id:t.id,...t.data()};return null}catch(e){throw Error("Falha ao carregar os dados do agendamento.")}},c=async(e,a)=>{try{let t=(0,o.JU)(s.db,"appointments",e);await (0,o.r7)(t,{clinicalEvolution:a.clinicalEvolution,diagnosticHypothesis:a.diagnosticHypothesis,updatedAt:(0,o.Bt)()})}catch(e){throw Error("N\xe3o foi poss\xedvel salvar as anota\xe7\xf5es do prontu\xe1rio.")}},d=async(e,a)=>{try{let t=(0,o.JU)(s.db,"appointments",e);await (0,o.r7)(t,{autismProtocolAnswers:a,updatedAt:(0,o.Bt)()})}catch(e){throw Error("N\xe3o foi poss\xedvel salvar as respostas do protocolo.")}},u=async(e,a)=>{try{let t=(0,o.JU)(s.db,"appointments",e);await (0,o.r7)(t,{aiAnalysisReport:a,updatedAt:(0,o.Bt)()})}catch(e){throw Error("N\xe3o foi poss\xedvel salvar o relat\xf3rio da IA.")}}}},function(e){e.O(0,[4358,9990,7425,6399,8663,8566,6636,8938,6498,1878,6137,9084,9733,4517,7545,8420,1106,2971,2117,1744],function(){return e(e.s=18278)}),_N_E=e.O()}]);