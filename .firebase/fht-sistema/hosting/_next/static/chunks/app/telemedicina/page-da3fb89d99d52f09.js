(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3557],{57526:function(e,a,s){Promise.resolve().then(s.bind(s,6789))},6789:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return C}});var t=s(57437),l=s(2265),o=s(27648),n=s(33145),r=s(62869),i=s(66070),c=s(95186),d=s(26815),m=s(32660),x=s(51817),u=s(31047),h=s(91723),p=s(76865),g=s(95337),f=s(17662),j=s(96625),b=s(35153),N=s(99376),v=s(1850),w=s(17293);let y=e=>{let{selectedSpecialty:a,onBack:s,onConfirm:o}=e,[n,i]=(0,l.useState)({name:"",cpf:"",dob:"",phone:"",email:""}),[h,p]=(0,l.useState)(!1),g=e=>{let{name:a,value:s}=e.target;i(e=>({...e,[a]:s}))};return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Dados do Paciente:",n),p(!0),setTimeout(()=>{o(n),p(!1)},1e3)},className:"space-y-4 max-w-lg mx-auto bg-white p-6 md:p-8 rounded-lg shadow-md border",children:[(0,t.jsxs)(r.z,{variant:"ghost",onClick:s,className:"mb-4 text-sm text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4"})," Voltar para Especialidades"]}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Informa\xe7\xf5es do Paciente"}),(0,t.jsxs)("p",{className:"text-center text-muted-foreground mb-6",children:["Consulta para: ",(0,t.jsx)("span",{className:"font-semibold capitalize",children:a.toLowerCase()})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(d._,{htmlFor:"name",children:"Nome Completo"}),(0,t.jsx)(c.I,{id:"name",name:"name",value:n.name,onChange:g,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(d._,{htmlFor:"cpf",children:"CPF"}),(0,t.jsx)(c.I,{id:"cpf",name:"cpf",value:n.cpf,onChange:g,required:!0,placeholder:"000.000.000-00"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(d._,{htmlFor:"dob",children:"Data de Nascimento"}),(0,t.jsx)(c.I,{id:"dob",name:"dob",type:"date",value:n.dob,onChange:g,required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(d._,{htmlFor:"phone",children:"Telefone (com DDD)"}),(0,t.jsx)(c.I,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:g,required:!0,placeholder:"(11) 99999-9999"})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)(d._,{htmlFor:"email",children:"Email (Opcional)"}),(0,t.jsx)(c.I,{id:"email",name:"email",type:"email",value:n.email,onChange:g,placeholder:"email@exemplo.com"})]}),(0,t.jsxs)(r.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:h,children:[h?(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),h?"A processar...":"Ver Hor\xe1rios Dispon\xedveis"]})]})},S=e=>{let{selectedSpecialty:a,patientData:s,onBack:o,onConfirm:n}=e,[i,c]=(0,l.useState)(!1),u=[new Date(Date.now()+72e5),new Date(Date.now()+144e5)],p=e=>{console.log("Hor\xe1rio Selecionado:",e),c(!0),setTimeout(()=>{n(e),c(!1)},1e3)};return(0,t.jsxs)("div",{className:"space-y-4 max-w-lg mx-auto bg-white p-6 md:p-8 rounded-lg shadow-md border",children:[(0,t.jsxs)(r.z,{variant:"ghost",onClick:o,className:"mb-4 text-sm text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4"})," Voltar para Dados do Paciente"]}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Escolha um Hor\xe1rio"}),(0,t.jsxs)("p",{className:"text-center text-muted-foreground mb-6",children:["Disponibilidade para ",(0,t.jsx)("span",{className:"font-semibold capitalize",children:a.toLowerCase()})]}),(0,t.jsxs)("p",{className:"text-center text-sm",children:["Paciente: ",s.name]}),i?(0,t.jsx)(x.Z,{className:"mx-auto h-6 w-6 animate-spin"}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(d._,{children:"Pr\xf3ximos hor\xe1rios dispon\xedveis:"}),u.length>0?u.map((e,a)=>(0,t.jsxs)(r.z,{variant:"outline",className:"w-full justify-start",onClick:()=>p(e),children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),e.toLocaleDateString("pt-BR")," \xe0s ",e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]},a)):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"Nenhum hor\xe1rio encontrado para esta especialidade no momento."})]})]})},D=e=>{let{selectedSpecialty:a,patientData:s,selectedTime:l,appointmentId:n,isLoading:c,error:d}=e;return(0,t.jsxs)("div",{className:"space-y-4 max-w-lg mx-auto bg-white p-6 md:p-8 rounded-lg shadow-md border text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Agendamento"}),c&&(0,t.jsx)(x.Z,{className:"mx-auto h-10 w-10 animate-spin text-blue-600 mb-4"}),d&&(0,t.jsx)("p",{className:"text-red-600 bg-red-50 p-3 rounded border border-red-200",children:d}),n&&!d&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-green-600 font-semibold text-lg",children:"Consulta agendada com sucesso!"}),(0,t.jsxs)(i.Zb,{className:"text-left",children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Detalhes"})}),(0,t.jsxs)(i.aY,{className:"text-sm space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Paciente:"})," ",s.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Especialidade:"})," ",(0,t.jsx)("span",{className:"capitalize",children:a.toLowerCase()})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Data/Hora:"})," ",l.toLocaleString("pt-BR",{dateStyle:"long",timeStyle:"short"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground pt-2",children:"Voc\xea receber\xe1 um lembrete por email/SMS."})]})]}),(0,t.jsxs)(o.default,{href:"/dashboard/agenda",children:[" ",(0,t.jsx)(r.z,{variant:"outline",children:"Ver meus agendamentos"})]})]})]})};function C(){let[e,a]=(0,l.useState)([]),[s,c]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null),[u,h]=(0,l.useState)("selectSpecialty"),[C,E]=(0,l.useState)(""),[T,P]=(0,l.useState)(null),[I,k]=(0,l.useState)(null),[Z,_]=(0,l.useState)(!1),[z,F]=(0,l.useState)(null),[L,H]=(0,l.useState)(null),{toast:R}=(0,b.pm)();(0,N.useRouter)();let A=(0,v.V1)(w.wk,"createAppointment");(0,l.useEffect)(()=>{(async()=>{c(!0),m(null);try{let e=await (0,j.e)();a(e)}catch(e){m(e.message||"N\xe3o foi poss\xedvel conectar ao servidor.")}finally{c(!1)}})()},[]);let B=e=>{var a;console.log("Especialidade Selecionada:",e),E(e),h("patientInfo"),window.scrollTo({top:(null===(a=document.getElementById("flow-section"))||void 0===a?void 0:a.offsetTop)||0,behavior:"smooth"})},O=async e=>{var a;if(k(e),h("confirm"),_(!0),F(null),H(null),window.scrollTo({top:(null===(a=document.getElementById("flow-section"))||void 0===a?void 0:a.offsetTop)||0,behavior:"smooth"}),T)try{let a={patientName:T.name,doctorId:"DOCTOR_ID_PLACEHOLDER",doctorName:"Dr. Exemplo",specialty:C,appointmentDate:e,type:"Telemedicina"},s=(await A(a)).data.appointmentId;if(!s)throw Error("ID do agendamento n\xe3o retornado pelo servidor.");H(s),R({title:"Agendamento Confirmado!"})}catch(e){console.error("Erro ao criar agendamento:",e),F(e.message||"N\xe3o foi poss\xedvel concluir o agendamento."),R({title:"Erro no Agendamento",description:e.message,variant:"destructive"})}finally{_(!1)}else F("Dados do paciente n\xe3o encontrados."),_(!1)};return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[(0,t.jsx)(o.default,{href:"/",children:(0,t.jsx)(n.default,{src:f.Z,alt:"FHT Solu\xe7\xf5es Hospitalares",width:160,height:60})}),(0,t.jsxs)("nav",{className:"flex gap-4",children:[(0,t.jsx)(o.default,{href:"/login",children:(0,t.jsx)(r.z,{variant:"ghost",className:"text-blue-600 hover:text-blue-700",children:"Entrar"})}),(0,t.jsx)(o.default,{href:"/dashboard",children:(0,t.jsx)(r.z,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6",children:"\xc1rea do M\xe9dico"})})]})]})}),(0,t.jsxs)("main",{className:"flex-1",children:[(0,t.jsx)("section",{className:"bg-gradient-to-r from-blue-100 via-white to-blue-50 py-20",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 text-center",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-4",children:"Portal de Telemedicina FHT"}),(0,t.jsx)("p",{className:"text-lg text-gray-700 max-w-3xl mx-auto",children:"Cuidado e tecnologia ao seu alcance. Selecione a especialidade desejada para ver os pr\xf3ximos passos."})]})}),(0,t.jsx)("section",{id:"flow-section",className:"py-20 bg-white",children:(0,t.jsxs)("div",{className:"container mx-auto px-6",children:["selectSpecialty"===u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Nossas Especialidades Dispon\xedveis"}),s&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)(x.Z,{className:"h-12 w-12 animate-spin text-blue-600"})}),d&&(0,t.jsxs)("div",{className:"text-center py-8 text-red-600 bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,t.jsx)(p.Z,{className:"mx-auto h-8 w-8 mb-2"}),(0,t.jsx)("p",{className:"font-semibold",children:"Erro ao carregar especialidades."}),(0,t.jsx)("p",{className:"text-sm",children:d})]}),!s&&!d&&(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.length>0?e.map(e=>(0,t.jsx)(i.Zb,{onClick:()=>B(e),className:"group hover:border-blue-600 hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:(0,t.jsxs)(i.aY,{className:"p-6 flex flex-col items-center text-center",children:[(0,t.jsx)("div",{className:"bg-blue-100 p-4 rounded-full mb-4 transition-colors duration-300 group-hover:bg-blue-600",children:(0,t.jsx)(g.Z,{className:"h-8 w-8 text-blue-600 transition-colors duration-300 group-hover:text-white"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 capitalize",children:e.toLowerCase()})]})},e)):(0,t.jsx)("p",{className:"col-span-full text-center text-muted-foreground",children:"Nenhuma especialidade dispon\xedvel."})})]}),"patientInfo"===u&&(0,t.jsx)(y,{selectedSpecialty:C,onBack:()=>{E(""),P(null),k(null),h("selectSpecialty")},onConfirm:e=>{var a;P(e),h("selectTime"),window.scrollTo({top:(null===(a=document.getElementById("flow-section"))||void 0===a?void 0:a.offsetTop)||0,behavior:"smooth"})}}),"selectTime"===u&&T&&(0,t.jsx)(S,{selectedSpecialty:C,patientData:T,onBack:()=>{k(null),h("patientInfo")},onConfirm:O}),"confirm"===u&&T&&I&&(0,t.jsx)(D,{selectedSpecialty:C,patientData:T,selectedTime:I,appointmentId:L,isLoading:Z,error:z})]})})]}),(0,t.jsx)("footer",{className:"bg-blue-700 text-white py-10 mt-auto",children:(0,t.jsx)("div",{className:"container mx-auto px-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," FHT Solu\xe7\xf5es Hospitalares. Todos os direitos reservados."]})})})]})}},76865:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},99376:function(e,a,s){"use strict";var t=s(35475);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},6394:function(e,a,s){"use strict";s.d(a,{f:function(){return r}});var t=s(2265),l=s(66840),o=s(57437),n=t.forwardRef((e,a)=>(0,o.jsx)(l.WV.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var r=n}},function(e){e.O(0,[3609,9015,6137,9388,7648,3145,6372,2971,2117,1744],function(){return e(e.s=57526)}),_N_E=e.O()}]);