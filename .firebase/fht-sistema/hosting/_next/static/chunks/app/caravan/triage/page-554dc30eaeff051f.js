(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1149],{5836:function(e,t,a){Promise.resolve().then(a.bind(a,6305))},6305:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(57437),s=a(2265),n=a(17293),i=a(5978),o=a(35153),d=a(62869),l=a(66070),c=a(26110),u=a(76818),f=a(26815),m=a(19060),p=a(51817),x=a(43044),g=a(49663),h=a(4466),v=a(66916);let N=e=>{var t,a,l,c;let{consultation:x,onSave:g}=e,{toast:h}=(0,o.pm)(),[v,N]=(0,s.useState)(!1),[b,y]=(0,s.useState)((null===(t=x.medicalHistory)||void 0===t?void 0:t.allergies)||""),[j,w]=(0,s.useState)((null===(a=x.medicalHistory)||void 0===a?void 0:a.chronicDiseases)||[]),[S,A]=(0,s.useState)((null===(l=x.medicalHistory)||void 0===l?void 0:l.currentMedications)||""),[C,T]=(0,s.useState)((null===(c=x.medicalHistory)||void 0===c?void 0:c.pastSurgeries)||""),_=async()=>{N(!0);try{let e=(0,i.JU)(n.db,"consultations",x.id);await (0,i.r7)(e,{medicalHistory:{allergies:b,chronicDiseases:j,currentMedications:S,pastSurgeries:C},status:"AGUARDANDO_ATENDIMENTO",updatedAt:(0,i.Bt)()}),h({title:"Triagem Salva!",description:"Os dados de ".concat(x.patientName," foram enviados para a fila m\xe9dica."),className:"bg-green-600 text-white"}),g()}catch(e){console.error("Erro ao salvar triagem:",e),h({title:"Erro",description:"N\xe3o foi poss\xedvel salvar os dados da triagem.",variant:"destructive"})}finally{N(!1)}};return(0,r.jsxs)("div",{className:"space-y-6 p-1 max-h-[70vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f._,{className:"text-lg font-semibold",children:"Hist\xf3rico M\xe9dico do Paciente"}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-md",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"allergies",children:"Alergias Conhecidas"}),(0,r.jsx)(u.g,{id:"allergies",value:b,onChange:e=>y(e.target.value),placeholder:"Dipirona, frutos do mar, poeira, etc."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{children:"Doen\xe7as Cr\xf4nicas"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["Hipertens\xe3o","Diabetes","Asma","Doen\xe7a Card\xedaca"].map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.X,{id:e,checked:j.includes(e),onCheckedChange:t=>{w(a=>t?[...a,e]:a.filter(t=>t!==e))}}),(0,r.jsx)(f._,{htmlFor:e,className:"font-normal",children:e})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"medications",children:"Medicamentos em Uso Cont\xednuo"}),(0,r.jsx)(u.g,{id:"medications",value:S,onChange:e=>A(e.target.value),placeholder:"Losartana 50mg (1x ao dia), AAS 100mg (1x ao dia), etc."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f._,{htmlFor:"surgeries",children:"Cirurgias Anteriores Relevantes"}),(0,r.jsx)(u.g,{id:"surgeries",value:C,onChange:e=>T(e.target.value),placeholder:"Apendicectomia em 2010, etc."})]})]})]}),(0,r.jsxs)(d.z,{onClick:_,disabled:v,className:"w-full",children:[v&&(0,r.jsx)(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Triagem e Enviar para Fila M\xe9dica"]})]})};function b(){let[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=(0,i.IO)((0,i.hJ)(n.db,"consultations"),(0,i.ar)("status","==","AGUARDANDO_TRIAGEM"),(0,i.Xo)("createdAt","asc")),a=(0,i.cf)(e,e=>{t(e.docs.map(e=>({id:e.id,...e.data()}))),o(!1)},e=>{console.error("Erro ao carregar fila de triagem:",e),o(!1)});return()=>a()},[]);let f=e=>{u(e)},m=()=>{u(null)};return a?(0,r.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,r.jsx)(p.Z,{className:"h-12 w-12 animate-spin text-blue-600"})}):(0,r.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Fila de Triagem"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Pacientes aguardando para coleta de informa\xe7\xf5es pr\xe9-consulta."})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center p-10 mt-10 bg-gray-50 rounded-lg",children:[(0,r.jsx)(x.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("p",{className:"mt-4 font-semibold text-gray-800",children:"Fila de Triagem Vazia"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Nenhum paciente da recep\xe7\xe3o aguardando no momento."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,r.jsxs)(l.Zb,{className:"cursor-pointer hover:border-blue-500 transition-all",onClick:()=>f(e),children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsx)(l.ll,{children:e.patientName}),(0,r.jsxs)(l.SZ,{children:["Aguardando triagem h\xe1 ",e.createdAt?(0,h.Q)(e.createdAt.toDate(),{addSuffix:!0,locale:v.F}):"..."]})]}),(0,r.jsxs)(l.aY,{children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:"Queixa Principal:"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground italic",children:['"',e.chiefComplaint,'"']})]})]},e.id))}),(0,r.jsx)(c.Vq,{open:!!d,onOpenChange:e=>!e&&m(),children:(0,r.jsxs)(c.cZ,{className:"sm:max-w-2xl",children:[(0,r.jsxs)(c.fK,{children:[(0,r.jsxs)(c.$N,{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{})," Triagem de ",null==d?void 0:d.patientName]}),(0,r.jsx)(c.Be,{children:"Colete o hist\xf3rico m\xe9dico do paciente antes do atendimento."})]}),d&&(0,r.jsx)(N,{consultation:d,onSave:m})]})})]})}},62869:function(e,t,a){"use strict";a.d(t,{d:function(){return d},z:function(){return l}});var r=a(57437),s=a(2265),n=a(37053),i=a(90535),o=a(94508);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:l=!1,...c}=e,u=l?n.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:s,size:i,className:a})),ref:t,...c})});l.displayName="Button"},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var r=a(57437),s=a(2265),n=a(94508);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},19060:function(e,t,a){"use strict";a.d(t,{X:function(){return d}});var r=a(57437),s=a(2265),n=a(9270),i=a(30401),o=a(94508);let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,r.jsx)(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})})});d.displayName=n.fC.displayName},26110:function(e,t,a){"use strict";a.d(t,{$N:function(){return g},Be:function(){return h},GG:function(){return u},Vq:function(){return d},cN:function(){return x},cZ:function(){return m},fK:function(){return p},hg:function(){return l}});var r=a(57437),s=a(2265),n=a(49027),i=a(32489),o=a(94508);let d=n.fC,l=n.xz,c=n.h_,u=n.x8,f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});f.displayName=n.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[s,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});g.displayName=n.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=n.dk.displayName},26815:function(e,t,a){"use strict";a.d(t,{_:function(){return l}});var r=a(57437),s=a(2265),n=a(6394),i=a(90535),o=a(94508);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,o.cn)(d(),a),...s})});l.displayName=n.f.displayName},76818:function(e,t,a){"use strict";a.d(t,{g:function(){return i}});var r=a(57437),s=a(2265),n=a(94508);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});i.displayName="Textarea"},35153:function(e,t,a){"use strict";a.d(t,{pm:function(){return f}});var r=a(2265);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=r.useState(l);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},17293:function(e,t,a){"use strict";a.d(t,{I8:function(){return l},db:function(){return c},tO:function(){return u},wk:function(){return f}});var r=a(738),s=a(82148),n=a(5978),i=a(96485),o=a(1850);let d=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyAyoX1YqAdqHuIvSoj0Yw_FYnhCBv-KfEA",authDomain:"fht-sistema.firebaseapp.com",projectId:"fht-sistema",storageBucket:"fht-sistema.appspot.com",messagingSenderId:"583837273524",appId:"1:583837273524:web:1583addfce581e61ac76e1",measurementId:"G-6FJ2H3G32N"}),l=(0,s.v0)(d),c=(0,n.ad)(d),u=(0,i.cF)(d),f=(0,o.$C)(d,"us-central1")},94508:function(e,t,a){"use strict";a.d(t,{bx:function(){return d},cn:function(){return n},rl:function(){return o},xG:function(){return i}});var r=a(61994),s=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}let i=e=>null==e||isNaN(e)?"R$ -":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),o=e=>null==e||isNaN(e)?"- %":"".concat(e.toFixed(1),"%"),d=e=>null==e||isNaN(e)?"- h":"".concat(e.toFixed(1)," h")}},function(e){e.O(0,[3609,9015,6137,9388,9733,793,4084,5338,5997,2971,2117,1744],function(){return e(e.s=5836)}),_N_E=e.O()}]);