"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{44667:function(e,t,n){let r,i;function a(e,t){let n=null,r=new Map,i=new Set,a=i=>{let u;if(void 0===t)u=r.get(i);else for(let[e,n]of r)if(t(e,i)){u=n;break}if(void 0!==u){if(null==n||!n(u[1],i))return u[0];a.remove(i)}let l=e(i);return r.set(i,[l,Date.now()]),o("CREATE",i,l),l},o=(e,t,n)=>{for(let r of i)r({type:e,param:t,atom:n})};return a.unstable_listen=e=>(i.add(e),()=>{i.delete(e)}),a.getParams=()=>r.keys(),a.remove=e=>{if(void 0===t){if(!r.has(e))return;let[t]=r.get(e);r.delete(e),o("REMOVE",e,t)}else for(let[n,[i]]of r)if(t(n,e)){r.delete(n),o("REMOVE",n,i);break}},a.setShouldRemove=e=>{if(n=e)for(let[e,[t,i]]of r)n(i,e)&&(r.delete(e),o("REMOVE",e,t))},a}n.d(t,{Eu:function(){return tf},VU:function(){return en},j1:function(){return tp},aV:function(){return tv},OV:function(){return eD}}),Symbol("RESET");!function(e=()=>{try{return window.localStorage}catch(e){"undefined"!=typeof window&&console.warn(e);return}},t){var n;let r;try{r=null==(n=e())?void 0:n.subscribe}catch(e){}if(!r&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(r=(t,n)=>{if(!(e() instanceof window.Storage))return()=>{};let r=r=>{r.storageArea===e()&&r.key===t&&n(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),r){let e;e=r,(t,n,r)=>e(t,e=>{let t;try{t=JSON.parse(e||"")}catch(e){t=r}n(t)})}}();var o=n(2265);let u=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,l=e=>"init"in e,c=e=>!!e.write,s=e=>"v"in e||"e"in e,d=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},f=new WeakMap,v=e=>{var t;return b(e)&&!!(null==(t=f.get(e))?void 0:t[0])},p=e=>{let t=f.get(e);(null==t?void 0:t[0])&&(t[0]=!1,t[1].forEach(e=>e()))},y=(e,t)=>{let n=f.get(e);if(!n){n=[!0,new Set],f.set(e,n);let t=()=>{n[0]=!1};e.then(t,t)}n[1].add(t)},b=e=>"function"==typeof(null==e?void 0:e.then),g=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},m=(e,t,n)=>{let r=n(e),i="v"in r,a=r.v;if(b(t))for(let i of r.d.keys())g(e,t,n(i));r.v=t,delete r.e,i&&Object.is(a,r.v)||(++r.n,b(a)&&p(a))},h=(e,t,n)=>{var r;let i=new Set;for(let t of(null==(r=n.get(e))?void 0:r.t)||[])n.has(t)&&i.add(t);for(let e of t.p)i.add(e);return i},k=()=>{let e=new Set,t=()=>{e.forEach(e=>e())};return t.add=t=>(e.add(t),()=>{e.delete(t)}),t},w=()=>{let e={},t=new WeakMap,n=n=>{var r,i;null==(r=t.get(e))||r.forEach(e=>e(n)),null==(i=t.get(n))||i.forEach(e=>e())};return n.add=(n,r)=>{let i=n||e,a=(t.has(i)?t:t.set(i,new Set)).get(i);return a.add(r),()=>{null==a||a.delete(r),a.size||t.delete(i)}},n},S=Symbol(),E=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,i=new Set,a=new Set,o={},f=(e,...t)=>e.read(...t),p=(e,...t)=>e.write(...t),k=(e,t)=>{var n;return null==(n=e.unstable_onInit)?void 0:n.call(e,t)},w=(e,t)=>{var n;return null==(n=e.onMount)?void 0:n.call(e,t)},...E)=>{let M=E[0]||(t=>{if(!t)throw Error("Atom is undefined or null");let n=e.get(t);return n||(n={d:new Map,p:new Set,n:0},e.set(t,n),null==k||k(t,R)),n}),A=E[1]||(()=>{let e=[],n=t=>{try{t()}catch(t){e.push(t)}};do{o.f&&n(o.f);let e=new Set,u=e.add.bind(e);r.forEach(e=>{var n;return null==(n=t.get(e))?void 0:n.l.forEach(u)}),r.clear(),a.forEach(u),a.clear(),i.forEach(u),i.clear(),e.forEach(n),r.size&&C()}while(r.size||a.size||i.size);if(e.length)throw AggregateError(e)}),C=E[2]||(()=>{let e=[],i=new WeakSet,a=new WeakSet,o=Array.from(r);for(;o.length;){let r=o[o.length-1],u=M(r);if(a.has(r)){o.pop();continue}if(i.has(r)){if(n.get(r)===u.n)e.push([r,u]);else if(n.has(r))throw Error("[Bug] invalidated atom exists");a.add(r),o.pop();continue}for(let e of(i.add(r),h(r,u,t)))i.has(e)||o.push(e)}for(let t=e.length-1;t>=0;--t){let[i,a]=e[t],o=!1;for(let e of a.d.keys())if(e!==i&&r.has(e)){o=!0;break}o&&(x(i),I(i)),n.delete(i)}}),x=E[3]||(e=>{var i;let a,p;let h=M(e);if(s(h)&&(t.has(e)&&n.get(e)!==h.n||Array.from(h.d).every(([e,t])=>x(e).n===t)))return h;h.d.clear();let k=!0,w=()=>{t.has(e)&&(I(e),C(),A())},S=h.n;try{let n=f(e,n=>{var r;if(u(e,n)){let e=M(n);if(!s(e)){if(l(n))m(n,n.init,M);else throw Error("no atom init")}return d(e)}let i=x(n);try{return d(i)}finally{h.d.set(n,i.n),v(h.v)&&g(e,h.v,i),null==(r=t.get(n))||r.t.add(e),k||w()}},{get signal(){return a||(a=new AbortController),a.signal},get setSelf(){return c(e)||console.warn("setSelf function cannot be used with read-only atom"),!p&&c(e)&&(p=(...t)=>{if(k&&console.warn("setSelf function cannot be called in sync"),!k)try{return _(e,...t)}finally{C(),A()}}),p}});return m(e,n,M),b(n)&&(y(n,()=>null==a?void 0:a.abort()),n.then(w,w)),h}catch(e){return delete h.v,h.e=e,++h.n,h}finally{k=!1,S!==h.n&&n.get(e)===S&&(n.set(e,h.n),r.add(e),null==(i=o.c)||i.call(o,e))}}),j=E[4]||(e=>{let r=[e];for(;r.length;){let e=r.pop(),i=M(e);for(let a of h(e,i,t)){let e=M(a);n.set(a,e.n),r.push(a)}}}),_=E[5]||((e,...t)=>{let n=!0;try{return p(e,e=>d(x(e)),(t,...i)=>{var a;let c=M(t);try{if(!u(e,t))return _(t,...i);{if(!l(t))throw Error("atom not writable");let e=c.n,n=i[0];m(t,n,M),I(t),e!==c.n&&(r.add(t),null==(a=o.c)||a.call(o,t),j(t));return}}finally{n||(C(),A())}},...t)}finally{n=!1}}),I=E[6]||(e=>{var n;let i=M(e),a=t.get(e);if(a&&!v(i.v)){for(let[t,u]of i.d)if(!a.d.has(t)){let i=M(t);L(t).t.add(e),a.d.add(t),u!==i.n&&(r.add(t),null==(n=o.c)||n.call(o,t),j(t))}for(let t of a.d||[])if(!i.d.has(t)){a.d.delete(t);let n=T(t);null==n||n.t.delete(e)}}}),L=E[7]||(e=>{var n;let r=M(e),a=t.get(e);if(!a){for(let t of(x(e),r.d.keys()))L(t).t.add(e);a={l:new Set,d:new Set(r.d.keys()),t:new Set},t.set(e,a),null==(n=o.m)||n.call(o,e),c(e)&&i.add(()=>{let t=!0;try{let n=w(e,(...n)=>{try{return _(e,...n)}finally{t||(C(),A())}});n&&(a.u=()=>{t=!0;try{n()}finally{t=!1}})}finally{t=!1}})}return a}),T=E[8]||(e=>{var n;let r=M(e),i=t.get(e);if(i&&!i.l.size&&!Array.from(i.t).some(n=>{var r;return null==(r=t.get(n))?void 0:r.d.has(e)})){for(let u of(i.u&&a.add(i.u),i=void 0,t.delete(e),null==(n=o.u)||n.call(o,e),r.d.keys())){let t=T(u);null==t||t.t.delete(e)}return}return i}),R={get:e=>d(x(e)),set:(e,...t)=>{try{return _(e,...t)}finally{C(),A()}},sub:(e,t)=>{let n=L(e).l;return n.add(t),A(),()=>{n.delete(t),T(e),A()}}};return Object.defineProperty(R,S,{value:[e,t,n,r,i,a,o,f,p,k,w,M,A,C,x,j,_,I,L,T]}),R},M=e=>(e.c||(e.c=w()),e.m||(e.m=w()),e.u||(e.u=w()),e.f||(e.f=k()),e),A=0;function C(e,t){let n=`atom${++A}`,r={toString(){return this.debugLabel?n+":"+this.debugLabel:n}};return"function"==typeof e?r.read=e:(r.init=e,r.read=x,r.write=j),t&&(r.write=t),r}function x(e){return e(this)}function j(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}let _=()=>{let e=0,t=M({}),n=new WeakMap,r=new WeakMap,i=E(n,r,void 0,void 0,void 0,void 0,t,void 0,(t,n,r,...i)=>e?r(t,...i):t.write(n,r,...i)),a=new Set;return t.m.add(void 0,e=>{a.add(e),n.get(e).m=r.get(e)}),t.u.add(void 0,e=>{a.delete(e);let t=n.get(e);delete t.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>a,dev4_restore_atoms:t=>{i.set({read:()=>null,write:(n,r)=>{++e;try{for(let[e,n]of t)"init"in e&&r(e,n)}finally{--e}}})}})},I=(0,o.createContext)(void 0);function L(e){let t=(0,o.useContext)(I);return(null==e?void 0:e.store)||t||(i||(i=r?r():_(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=i),globalThis.__JOTAI_DEFAULT_STORE__!==i&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),i)}function T(e){let{children:t,store:n}=e,i=(0,o.useRef)(void 0);return n||i.current||(i.current=r?r():_()),(0,o.createElement)(I.Provider,{value:n||i.current},t)}let R=e=>"function"==typeof(null==e?void 0:e.then),O=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},P=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw O(e),e}),D=new WeakMap,F=(e,t)=>{let n=D.get(e);return n||(n=new Promise((r,i)=>{let a=e,o=e=>t=>{a===e&&r(t)},u=e=>t=>{a===e&&i(t)},l=()=>{try{let e=t();R(e)?(D.set(e,n),a=e,e.then(o(e),u(e)),y(e,l)):r(e)}catch(e){i(e)}};e.then(o(e),u(e)),y(e,l)}),D.set(e,n)),n};function V(e,t){let{delay:n,unstable_promiseStatus:r=!o.use}=t||{},i=L(t),[[a,u,l],c]=(0,o.useReducer)(t=>{let n=i.get(e);return Object.is(t[0],n)&&t[1]===i&&t[2]===e?t:[n,i,e]},void 0,()=>[i.get(e),i,e]),s=a;if((u!==i||l!==e)&&(c(),s=i.get(e)),(0,o.useEffect)(()=>{let t=i.sub(e,()=>{if(r)try{let t=i.get(e);R(t)&&O(F(t,()=>i.get(e)))}catch(e){}if("number"==typeof n){setTimeout(c,n);return}c()});return c(),t},[i,e,n,r]),(0,o.useDebugValue)(s),R(s)){let t=F(s,()=>i.get(e));return r&&O(t),P(t)}return s}function z(e,t){return function(e,t){let n=L(t);return(0,o.useCallback)(function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];if(!("write"in e))throw Error("not writable atom");return n.set(e,...r)},[n,e])}((0,o.useMemo)(()=>C(null,function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return e(t,n,...i)}),[e]),t)}var Z=n(31209);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q=function(){return(q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function B(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function N(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,u)}l((r=r.apply(e,t||[])).next())})}function U(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(l){return function(u){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}function K(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function G(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var J=(0,o.createContext)(null),$=function(){var e=(0,o.useContext)(J);return(0,o.useDebugValue)(e),e},X=(0,o.createContext)({on:function(){},off:function(){}}),Y=-1,Q=function(){return Y--},ee=1,et=function(){return ee++},en=function(e,t,n){void 0===n&&(n=!1);var r=(0,o.useContext)(X),i=r.off,a=r.on,u=H((0,o.useState)(!1),2),l=u[0],c=u[1],s=(0,o.useRef)(0),d=(0,o.useMemo)(function(){return n?Q():et()},[n]);(0,o.useEffect)(function(){if(e&&!l){if(s.current>1e5)return console.error("useDailyEvent called with potentially non-memoized event callback or due to too many re-renders.\n        Memoize using useCallback to avoid re-render loop or reduce the amount of state transitions the callback depends on.\n        Passed callback for '".concat(e,"' event is NOT registered."),t),void c(!0);s.current++;var n=setTimeout(function(){s.current=0},50);return a(e,t,d),function(){clearTimeout(n),i(e,d)}}},[t,e,d,l,i,a]),(0,o.useDebugValue)({event:e,eventId:d,isBlocked:l,callback:t})};function er(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n,r,i=0;i<e.length;i++)if(!er(e[i],t[i]))return!1;return!0}if(MediaStream&&e instanceof MediaStream&&t instanceof MediaStream)return e.id===t.id&&e.active===t.active&&e.getTracks().length===t.getTracks().length&&e.getTracks().every(function(e,n){return er(e,t.getTracks()[n])});if(MediaStreamTrack&&e instanceof MediaStreamTrack&&t instanceof MediaStreamTrack)return e.id===t.id&&e.kind===t.kind&&e.readyState===t.readyState;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var a=Array.from(e).sort(),o=Array.from(t).sort();return a.every(function(e,t){return er(e,o[t])})}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;try{for(var u=K(e.entries()),l=u.next();!l.done;l=u.next()){var c=H(l.value,2),s=c[0],d=c[1];if(!t.has(s)||!er(d,t.get(s)))return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!0}if("object"!==W(e)||null===e||"object"!==W(t)||null===t)return!1;var f=Object.keys(e),v=Object.keys(t);if(f.length!==v.length)return!1;for(i=0;i<f.length;i++)if(s=f[i],!Object.prototype.hasOwnProperty.call(t,s)||!er(e[s],t[s]))return!1;return!0}function ei(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],a=null!==r&&"object"===W(r),o=null!==i&&"object"===W(i);if(a||o){if(!er(r,i))return!1}else if(r!==i)return!1}return!0}function ea(e){return"daily-react-"+e}function eo(e){var t=new Map,n=new Map;return function(r){if(!t.has(r)){var i=C(function(t){var i=e.get(r)(t),a=n.get(r);return null!=a&&e.equals(i,a)?a:(n.set(r,i),i)});t.set(r,i)}return t.get(r)}}var eu,el,ec=function(e,t){return e+"::"+t},es=function(e,t){return ef(ec(e,t))},ed=a(function(e){var t=C([]);return t.debugLabel=ea("participant-property-paths-".concat(e)),t}),ef=a(function(e){var t=C(null);return t.debugLabel=ea("participant-property-".concat(e)),t}),ev=eo({equals:ei,get:function(e){return function(t){var n=H(e.split("::"),2),r=n[0];return n[1].split(";").map(function(e){return t(es(r,e))})}}}),ep=function(e,t){var n,r=V(Array.isArray(t)?ev(e+"::"+t.join(";")):ef(ec(e,t)));return(0,o.useDebugValue)(Array.isArray(t)?t.reduce(function(e,t,n){return e[t]=r[n],e},{}):((n={})[t]=r,n)),r},ey="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function eb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eg=eb(function(){if(el)return eu;el=1;var e="Expected a function",t=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,o="object"==W(ey)&&ey&&ey.Object===Object&&ey,u="object"==("undefined"==typeof self?"undefined":W(self))&&self&&self.Object===Object&&self,l=o||u||Function("return this")(),c=Object.prototype.toString,s=Math.max,d=Math.min,f=function(){return l.Date.now()};function v(e){var t=W(e);return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if("symbol"==W(o=e)||o&&"object"==W(o)&&"[object Symbol]"==c.call(o))return NaN;if(v(e)){var o,u="function"==typeof e.valueOf?e.valueOf():e;e=v(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var l=r.test(e);return l||i.test(e)?a(e.slice(2),l?2:8):n.test(e)?NaN:+e}return eu=function(t,n,r){var i=!0,a=!0;if("function"!=typeof t)throw TypeError(e);return v(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),function(t,n,r){var i,a,o,u,l,c,y=0,b=!1,g=!1,m=!0;if("function"!=typeof t)throw TypeError(e);function h(e){var n=i,r=a;return i=a=void 0,y=e,u=t.apply(r,n)}function k(e){var t=e-c;return void 0===c||t>=n||t<0||g&&e-y>=o}function w(){var e,t=f();if(k(t))return S(t);l=setTimeout(w,(e=n-(t-c),g?d(e,o-(t-y)):e))}function S(e){return l=void 0,m&&i?h(e):(i=a=void 0,u)}function E(){var e,t=f(),r=k(t);if(i=arguments,a=this,c=t,r){if(void 0===l)return y=e=c,l=setTimeout(w,n),b?h(e):u;if(g)return l=setTimeout(w,n),h(c)}return void 0===l&&(l=setTimeout(w,n)),u}return n=p(n)||0,v(r)&&(b=!!r.leading,o=(g="maxWait"in r)?s(p(r.maxWait)||0,n):o,m="trailing"in r?!!r.trailing:m),E.cancel=function(){void 0!==l&&clearTimeout(l),y=0,i=c=a=l=void 0},E.flush=function(){return void 0===l?u:S(f())},E}(t,n,{leading:i,maxWait:n,trailing:a})}}()),em=function(e,t,n,r){void 0===n&&(n=500),void 0===r&&(r=!1);var i=(0,o.useContext)(X),a=i.off,u=i.on,l=(0,o.useMemo)(function(){var t;return Array.isArray(e)?e.reduce(function(e,t){return e[t]=r?Q():et(),e},{}):((t={})[e]=r?Q():et(),t)},[e,r]),c=(0,o.useRef)([]);en("call-instance-destroyed",(0,o.useCallback)(function(){c.current.length=0},[]));var s=(0,o.useMemo)(function(){return eg(function(){0!==c.current.length&&(t(c.current),c.current.length=0)},n,{trailing:!0})},[t,n]);(0,o.useEffect)(function(){if(e){var t=function(e){c.current.push(e),s()};return Array.isArray(e)?e.forEach(function(e){return u(e,t,l[e])}):u(e,t,l[e]),function(){Array.isArray(e)?e.forEach(function(e){return a(e,l[e])}):a(e,l[e])}}},[s,e,l,a,u]),(0,o.useDebugValue)({event:e,eventId:l})},eh=function e(t,n,r){if(void 0===n&&(n=""),void 0===r&&(r=new Set),"object"!==W(t)||null===t||r.has(t))return[n];r.add(t);var i=[];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=n?"".concat(n,".").concat(a):a;i.push.apply(i,G([o],H(e(t[a],o,r)),!1))}return r.delete(t),i},ek=function(e){return eh(e)},ew=function(e,t){return t.map(function(t){return String(t).split(".").filter(function(e){return e.length}).reduce(function(e,t){return e&&e[t]},e)})},eS=C(null);eS.debugLabel=ea("active-id");var eE=C("");eE.debugLabel=ea("local-id");var eM=C(null);eM.debugLabel=ea("local-join-date");var eA=C([]);eA.debugLabel=ea("participant-ids");var eC=a(function(e){var t=C(null);return t.debugLabel=ea("participant-".concat(e)),t}),ex=C([]);ex.debugLabel=ea("waiting-participants");var ej=a(function(e){var t=C({awaitingAccess:{level:"full"},id:e,name:""});return t.debugLabel=ea("waiting-participant-".concat(e)),t}),e_=(eo({equals:ei,get:function(){return function(e){return e(ex).map(function(t){return e(ej(t))})}}}),function(e){var t=e.children,n=$(),r=H((0,o.useState)(!1),2),i=r[0],a=r[1],u=z((0,o.useCallback)(function(e,t,n){t(eE,n.local.session_id);var r=Object.values(n);t(eA,r.map(function(e){return e.session_id})),r.forEach(function(e){t(eC(e.session_id),e);var n=ek(e);t(ed(e.session_id),n),n.forEach(function(n){var r=H(ew(e,[n]),1)[0];t(es(e.session_id,n),r)})}),a(!0)},[]));(0,o.useEffect)(function(){if(n&&!i){var e=setInterval(function(){var t=n.participants();"local"in t&&(u(t),clearInterval(e))},100);return function(){clearInterval(e)}}},[n,i,u]);var l=(0,o.useCallback)(function(){if(n){var e=null==n?void 0:n.participants();e.local&&u(e)}},[n,u]);en("started-camera",l,!0),en("access-state-updated",l,!0),en("joining-meeting",z((0,o.useCallback)(function(e,t){t(eM,new Date),l()},[l])),!0),en("joined-meeting",(0,o.useCallback)(function(e){u(e.participants)},[u]),!0);var c=z((0,o.useCallback)(function(e,t){t(eE,""),t(eS,null),e(eA).forEach(function(e){return eC.remove(e)}),t(eA,[])},[]));return en("call-instance-destroyed",c,!0),en("left-meeting",c,!0),em(["active-speaker-change","participant-joined","participant-updated","participant-left"],z((0,o.useCallback)(function(e,t,n){n.length&&n.forEach(function(n){switch(n.action){case"active-speaker-change":t(eS,n.activeSpeaker.peerId),t(eC(n.activeSpeaker.peerId),function(e){return e?q(q({},e),{last_active:new Date}):null});break;case"participant-joined":t(eA,function(e){return e.includes(n.participant.session_id)?e:G(G([],H(e),!1),[n.participant.session_id],!1)}),t(eC(n.participant.session_id),n.participant);var r=ek(n.participant);t(ed(n.participant.session_id),r),r.forEach(function(e){var r=H(ew(n.participant,[e]),1)[0];t(es(n.participant.session_id,e),r)});break;case"participant-updated":t(eC(n.participant.session_id),n.participant),n.participant.local&&t(eE,n.participant.session_id),r=ek(n.participant);var i=e(ed(n.participant.session_id));(r.length!==i.length||r.some(function(e){return!i.includes(e)}))&&t(ed(n.participant.session_id),r);var a=new Set(i),o=ew(n.participant,r);r.forEach(function(e,r){var i=o[r];a.delete(e),t(es(n.participant.session_id,e),function(e){return er(e,i)?e:i})}),a.forEach(function(e){t(es(n.participant.session_id,e),null)});break;case"participant-left":t(eA,function(e){return e.includes(n.participant.session_id)?e.filter(function(e){return e!==n.participant.session_id}):e}),eC.remove(n.participant.session_id),e(ed(n.participant.session_id)).forEach(function(e){ef.remove(ec(n.participant.session_id,e))}),ed.remove(n.participant.session_id)}})},[])),100,!0),em(["waiting-participant-added","waiting-participant-updated","waiting-participant-removed"],z((0,o.useCallback)(function(e,t,n){n.forEach(function(e){switch(e.action){case"waiting-participant-added":t(ex,function(t){return t.includes(e.participant.id)?t:G(G([],H(t),!1),[e.participant.id],!1)}),t(ej(e.participant.id),e.participant);break;case"waiting-participant-updated":t(ej(e.participant.id),e.participant);break;case"waiting-participant-removed":t(ex,function(t){return t.filter(function(t){return t!==e.participant.id})}),ej.remove(e.participant.id)}})},[])),100,!0),o.createElement(o.Fragment,null,t)}),eI=function(){var e=V(eE);return(0,o.useDebugValue)(e),e},eL=function(){return!0},eT=function(e){var t=void 0===e?{}:e,n=t.filter,r=void 0===n?eL:n,i=t.ignoreLocal,a=eI(),u=V(eS),l=void 0!==i&&i&&u===a,c=!(null==r?void 0:r(u)),s=H((0,o.useState)(l||c?null:u),2),d=s[0],f=s[1];return(0,o.useEffect)(function(){l||c||f(u)},[c,l,u]),(0,o.useDebugValue)(d),d},eR=function(e){return["blocked","off"].includes(e)},eO=function(e,t){return"".concat(e).concat(";").concat(t)},eP=eo({equals:er,get:function(e){return function(t){var n=H(e.split(";"),2),r=n[0],i=n[1];return t(eA).filter(function(e){switch(r){case"local":case"owner":case"record":return t(es(e,r));case"remote":return!t(es(e,"local"));case"screen":var n=t(es(e,"tracks.screenAudio.state")),i=t(es(e,"tracks.screenVideo.state"));return!eR(n)||!eR(i);default:return!0}}).sort(function(e,n){switch(i){case"joined_at":case"session_id":case"user_id":case"user_name":var r=t(es(e,i)),a=t(es(n,i));if(void 0!==r||void 0!==a){if(void 0===r)return -1;if(void 0===a||r>a)return 1;if(r<a)return -1}return 0;default:return 0}})}}}),eD=function(e){var t=void 0===e?{}:e,n=t.filter,r=t.onActiveSpeakerChange,i=t.onParticipantJoined,a=t.onParticipantLeft,u=t.onParticipantUpdated,l=t.sort,c=V(eP(eO("string"==typeof n?n:null,"string"==typeof l?l:null))),s="function"==typeof n||"function"==typeof l,d=(0,o.useCallback)(function(e){return"function"!=typeof n&&"function"!=typeof l?[]:c.map(function(t){return e(eC(t))}).filter(function(e){return!!e}).filter("function"==typeof n?n:function(){return!0}).sort("function"==typeof l?l:function(){return 0}).map(function(e){return e.session_id}).filter(Boolean)},[n,c,l]),f=H((0,o.useState)([]),2),v=f[0],p=f[1],y=z((0,o.useCallback)(function(e){if(s){var t=d(e);er(t,v)||p(t)}},[v,d,s]));(0,o.useEffect)(function(){y()},[y]),em(["participant-joined","participant-updated","active-speaker-change","participant-left"],(0,o.useCallback)(function(e){e.length&&(e.forEach(function(e){switch(e.action){case"participant-joined":null==i||i(e);break;case"participant-updated":null==u||u(e);break;case"active-speaker-change":null==r||r(e);break;case"participant-left":null==a||a(e)}}),y())},[y,r,i,a,u]));var b="function"==typeof n||"function"==typeof l?v:c;return(0,o.useDebugValue)(b),b},eF=eo({equals:ei,get:function(){return function(e){return e(eP(eO("screen",null))).map(function(t){return{local:e(es(t,"local")),screenAudio:e(es(t,"tracks.screenAudio")),screenVideo:e(es(t,"tracks.screenVideo")),screenId:"".concat(t,"-screen"),session_id:t}})}}}),eV=function(e){var t=void 0===e?{}:e,n=t.onError,r=t.onLocalScreenShareStarted,i=t.onLocalScreenShareStopped,a=$(),u=(0,o.useCallback)(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==a||a.startScreenShare.apply(a,G([],H(e),!1))},[a]),l=(0,o.useCallback)(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==a||a.stopScreenShare.apply(a,G([],H(e),!1))},[a]);en("local-screen-share-started",(0,o.useCallback)(function(){return null==r?void 0:r()},[r])),en("local-screen-share-stopped",(0,o.useCallback)(function(){return null==i?void 0:i()},[i])),en("nonfatal-error",(0,o.useCallback)(function(e){"screen-share-error"===e.type&&(null==n||n(e))},[n]));var c=V(eF(void 0)),s={isSharingScreen:c.some(function(e){return e.local}),screens:c,startScreenShare:u,stopScreenShare:l};return(0,o.useDebugValue)(s),s},ez=function(e,t){void 0===t&&(t="video");var n=ep(e,"tracks.".concat(t)),r=n?q(q({},n),{isOff:eR(n.state)}):{isOff:!0,persistentTrack:void 0,state:"off",subscribed:!1};return(0,o.useDebugValue)(r),r};function eZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,o.useCallback)(function(t){for(var n=0;n<e.length;n++){var r=e[n];"function"==typeof r?r(t):r&&"object"===W(r)&&(r.current=t)}},e)}var eW=(0,o.memo)((0,o.forwardRef)(function(e,t){var n=e.onPlayFailed,r=e.sessionId,i=e.type,a=void 0===i?"audio":i,u=B(e,["onPlayFailed","sessionId","type"]),l=(0,o.useRef)(null),c=ez(r,a),s=eZ(l,t),d=null==c?void 0:c.subscribed;return(0,o.useEffect)(function(){var e=l.current;if(e&&(null==c?void 0:c.persistentTrack)){var t=function(){e.play().catch(function(t){null==n||n({sessionId:r,target:e,type:a,message:t.message,name:t.name})})};return MediaStream?(e.addEventListener("canplay",t),e.srcObject=new MediaStream([null==c?void 0:c.persistentTrack]),function(){null==e||e.removeEventListener("canplay",t)}):(console.warn("MediaStream API not available. Can't setup ".concat(a," for ").concat(r)),void(null==n||n({sessionId:r,target:e,type:a,message:"MediaStream API not available",name:"MediaStream API not available"})))}},[null==c?void 0:c.persistentTrack,n,r,a]),en("participant-left",(0,o.useCallback)(function(e){var t=l.current;e.participant.session_id===r&&t&&(t.srcObject=null)},[r])),o.createElement("audio",q({autoPlay:!0,ref:s},u,{"data-session-id":r,"data-audio-type":a,"data-subscribed":d}))}));eW.displayName="DailyAudioTrack",(0,o.memo)((0,o.forwardRef)(function(e,t){var n=e.autoSubscribeActiveSpeaker,r=void 0!==n&&n,i=e.maxSpeakers,a=e.onPlayFailed,u=e.playLocalScreenAudio,l=void 0!==u&&u,c=$(),s=H((0,o.useState)(Array(void 0===i?5:i).fill("")),2),d=s[0],f=s[1],v=eV().screens,p=eI(),y=eT({ignoreLocal:!0}),b=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,function(){return{getActiveSpeakerAudio:function(){var e,t;return null!==(t=null===(e=b.current)||void 0===e?void 0:e.querySelector('audio[data-session-id="'.concat(y,'"][data-audio-type="audio"]')))&&void 0!==t?t:null},getAllAudio:function(){var e,t;return Array.from(null!==(t=null===(e=b.current)||void 0===e?void 0:e.querySelectorAll("audio"))&&void 0!==t?t:[])},getAudioBySessionId:function(e){var t,n;return null!==(n=null===(t=b.current)||void 0===t?void 0:t.querySelector('audio[data-session-id="'.concat(e,'"][data-audio-type="audio"]')))&&void 0!==n?n:null},getRmpAudio:function(){var e,t;return Array.from(null!==(t=null===(e=b.current)||void 0===e?void 0:e.querySelectorAll('audio[data-audio-type="rmpAudio"]'))&&void 0!==t?t:[])},getScreenAudio:function(){var e,t;return Array.from(null!==(t=null===(e=b.current)||void 0===e?void 0:e.querySelectorAll('audio[data-audio-type="screenAudio"]'))&&void 0!==t?t:[])},getRmpAudioBySessionId:function(e){var t,n;return null!==(n=null===(t=b.current)||void 0===t?void 0:t.querySelector('audio[data-session-id="'.concat(e,'"][data-audio-type="rmpAudio"]')))&&void 0!==n?n:null},getScreenAudioBySessionId:function(e){var t,n;return null!==(n=null===(t=b.current)||void 0===t?void 0:t.querySelector('audio[data-session-id="'.concat(e,'"][data-audio-type="screenAudio"]')))&&void 0!==n?n:null}}},[y]);var g=z((0,o.useCallback)(function(e,t,n){return N(void 0,void 0,void 0,function(){var t,i,a;return U(this,function(o){if(t=Object.values(null!==(a=null==c?void 0:c.participants())&&void 0!==a?a:{}).filter(function(e){return!e.local&&!!e.tracks.audio.subscribed}),!(i=function(e){return t.some(function(t){return t.session_id===e})})(n)){if(!c||c.isDestroyed()||!r||c.subscribeToTracksAutomatically())return[2];c.updateParticipant(n,{setSubscribedTracks:{audio:!0}})}return f(function(r){if(r.includes(n))return r;var a,o=function(e){return!e||!i(e)};if(r.some(o)){var u=r.findIndex(o);return r[u]=n,G([],H(r),!1)}var l=r.findIndex(function(e){return t.some(function(t){return t.session_id===e&&eR(t.tracks.audio.state)})});if(l>=0)return r[l]=n,G([],H(r),!1);var c=t.filter(function(e){return r.includes(e.session_id)&&e.session_id!==y}).sort(function(t,n){var r,i,a=null!==(r=e(es(t.session_id,"last_active")))&&void 0!==r?r:new Date("1970-01-01"),o=null!==(i=e(es(n.session_id,"last_active")))&&void 0!==i?i:new Date("1970-01-01");return a>o?1:a<o?-1:0});if(!c.length){var s=r.findIndex(function(e){return e!==y});return r[s]=n,G([],H(r),!1)}var d=r.indexOf(null===(a=c[0])||void 0===a?void 0:a.session_id);return r[d]=n,G([],H(r),!1)}),[2]})})},[y,r,c])),m=(0,o.useCallback)(function(e){f(function(t){if(!t.includes(e))return t;var n=G([],H(t),!1),r=n.indexOf(e);return n[r]="",n})},[]);em(["active-speaker-change","track-started","participant-left"],(0,o.useCallback)(function(e){e.forEach(function(e){switch(e.action){case"active-speaker-change":if(e.activeSpeaker.peerId===p)return;g(e.activeSpeaker.peerId);break;case"track-started":"audio"===e.track.kind&&e.participant&&!e.participant.local&&g(e.participant.session_id);break;case"participant-left":m(e.participant.session_id)}})},[g,p,m]),200);var h=eD({filter:(0,o.useCallback)(function(e){var t;return!!(null===(t=null==e?void 0:e.tracks)||void 0===t?void 0:t.rmpAudio)},[])});return o.createElement("div",{ref:b},d.map(function(e,t){return o.createElement(eW,{key:"speaker-slot-".concat(t),onPlayFailed:a,sessionId:e,type:"audio"})}),v.filter(function(e){return!!l||!e.local}).map(function(e){return o.createElement(eW,{key:e.screenId,onPlayFailed:a,sessionId:e.session_id,type:"screenAudio"})}),h.map(function(e){return o.createElement(eW,{key:"".concat(e,"-rmp"),onPlayFailed:a,sessionId:e,type:"rmpAudio"})}))})).displayName="DailyAudio",(0,o.forwardRef)(function(e,t){var n=e.automirror,r=e.fit,i=e.mirror,a=e.onResize,u=e.playableStyle,l=e.sessionId,c=e.style,s=e.type,d=void 0===s?"video":s,f=B(e,["automirror","fit","mirror","onResize","playableStyle","sessionId","style","type"]),v=eI()===l,p="screenVideo"===d,y=v&&!p,b=(0,o.useRef)(null),g=eZ(b,t),m=ez(l,d),h=m.persistentTrack,k=y||p||!m.isOff,w=ep(l,"tracks.".concat(d)),S=null==w?void 0:w.subscribed,E=(0,o.useMemo)(function(){if("boolean"==typeof i)return i;if(!n)return!1;if(!h)return y;var e=h.getSettings();return"facingMode"in e?y&&"user"===e.facingMode:y},[n,y,i,h]);return(0,o.useEffect)(function(){var e=b.current;if(e){var t=function(){var t=e.play();void 0!==t&&t.then(function(){e.controls=!1}).catch(function(t){e.controls=!0,console.warn("Failed to play video",t)})},n=function(){e.paused&&t()},r=function(){e.style.transform="scale(1)"},i=function(){e.style.transform="",setTimeout(function(){e.paused&&t()},100)},a=function(){"hidden"!==document.visibilityState&&e.paused&&t()};return e.addEventListener("canplay",n),e.addEventListener("enterpictureinpicture",r),e.addEventListener("leavepictureinpicture",i),document.addEventListener("visibilitychange",a),function(){e.removeEventListener("canplay",n),e.removeEventListener("enterpictureinpicture",r),e.removeEventListener("leavepictureinpicture",i),document.removeEventListener("visibilitychange",a)}}},[]),(0,o.useEffect)(function(){var e=b.current;if(e&&h){if(MediaStream)return e.srcObject=new MediaStream([h]),e.load(),function(){e.srcObject=null,e.load()};console.warn("MediaStream API not available. Can't setup ".concat(d," for ").concat(l))}},[l,d,h,null==h?void 0:h.id]),(0,o.useEffect)(function(){var e,t=b.current;if(a&&t)return n(),t.addEventListener("loadedmetadata",n),t.addEventListener("resize",n),function(){e&&cancelAnimationFrame(e),t.removeEventListener("loadedmetadata",n),t.removeEventListener("resize",n)};function n(){e&&cancelAnimationFrame(e),e=requestAnimationFrame(function(){var e=b.current;if(e&&!document.hidden){var t=e.videoWidth,n=e.videoHeight;t&&n&&(null==a||a({aspectRatio:t/n,height:n,width:t}))}})}},[a]),o.createElement("video",q({autoPlay:!0,muted:!0,playsInline:!0,ref:g,"data-local":v,"data-mirrored":E||void 0,"data-playable":k||void 0,"data-session-id":l,"data-subscribed":S,"data-video-type":d,style:q(q({objectFit:void 0===r?"contain":r,transform:E?"scale(-1, 1)":""},void 0===c?{}:c),k?void 0===u?{}:u:{})},f))}).displayName="DailyVideo";var eq=(0,o.createContext)({refreshDevices:function(){return Promise.resolve()}}),eB=C("idle");eB.debugLabel=ea("camera-state");var eN=C("idle");eN.debugLabel=ea("microphone-state");var eU=C([]);eU.debugLabel=ea("camera-devices");var eK=C([]);eK.debugLabel=ea("microphone-devices");var eH=C([]);eH.debugLabel=ea("speaker-devices");var eG=C(null);eG.debugLabel=ea("last-camera-error");var eJ=function(e){var t=e.children,n=$(),r=z((0,o.useCallback)(function(e,t){return N(void 0,void 0,void 0,function(){var e,r,i,a,o,u,l,c,s,d,f,v;return U(this,function(p){switch(p.label){case 0:if(void 0===(null===(f=null==navigator?void 0:navigator.mediaDevices)||void 0===f?void 0:f.getUserMedia)||void 0===(null===(v=null==navigator?void 0:navigator.mediaDevices)||void 0===v?void 0:v.enumerateDevices))return t(eB,"not-supported"),t(eN,"not-supported"),[2];if(!n)return[2];p.label=1;case 1:return p.trys.push([1,4,,5]),[4,n.enumerateDevices()];case 2:return r=(e=p.sent().devices).filter(function(e){return"videoinput"===e.kind&&""!==e.deviceId}),i=e.filter(function(e){return"audioinput"===e.kind&&""!==e.deviceId}),a=e.filter(function(e){return"audiooutput"===e.kind&&""!==e.deviceId}),[4,n.getInputDevices()];case 3:return u=(o=p.sent()).camera,l=o.mic,c=o.speaker,s=function(e,t,n){var r,i;return{device:t,selected:"deviceId"in e&&t.deviceId===e.deviceId,state:null!==(i=null===(r=n.find(function(e){return e.device.deviceId===t.deviceId}))||void 0===r?void 0:r.state)&&void 0!==i?i:"granted"}},d=function(e,t){return"default"===e.device.deviceId?-1:"default"===t.device.deviceId?1:e.device.label<t.device.label?-1:e.device.label>t.device.label?1:0},t(eU,function(e){return r.filter(Boolean).map(function(t){return s(u,t,e)}).sort(d)}),t(eK,function(e){return i.filter(Boolean).map(function(t){return s(l,t,e)}).sort(d)}),t(eH,function(e){return a.filter(Boolean).map(function(t){return s(c,t,e)}).sort(d)}),[3,5];case 4:return p.sent(),t(eB,"not-supported"),t(eN,"not-supported"),[3,5];case 5:return[2]}})})},[n])),i=z((0,o.useCallback)(function(e,t){return N(void 0,void 0,void 0,function(){var i,a,o,u,l,c,s,d,f,v,p,y,b,g,m,h,k,w,S,E,M,A,C,x;return U(this,function(j){switch(j.label){case 0:if(!n||(i=e(eB),a=e(eN),!(o=n.participants()).local))return[2];if(u=o.local.tracks,l="prompt",c="prompt",!navigator.permissions)return[3,5];j.label=1;case 1:return j.trys.push([1,4,,5]),[4,navigator.permissions.query({name:"camera"})];case 2:return l=j.sent().state,[4,navigator.permissions.query({name:"microphone"})];case 3:return c=j.sent().state,[3,5];case 4:return j.sent(),[3,5];case 5:return s="prompt"===l&&["idle","pending"].includes(i)&&"interrupted"===u.video.state&&!u.video.persistentTrack,d=["idle","pending"].includes(i)&&!u.video.persistentTrack&&!!(null===(p=u.video.off)||void 0===p?void 0:p.byUser),f="prompt"===c&&["idle","pending"].includes(a)&&"interrupted"===u.audio.state&&!u.audio.persistentTrack,v=["idle","pending"].includes(a)&&!u.audio.persistentTrack&&!!(null===(y=u.audio.off)||void 0===y?void 0:y.byUser),(null===(g=null===(b=u.audio)||void 0===b?void 0:b.blocked)||void 0===g?void 0:g.byDeviceInUse)?(t(eN,"in-use"),t(eK,function(e){return e.map(function(e){return e.selected?q(q({},e),{state:"in-use"}):e})})):(null===(h=null===(m=u.audio)||void 0===m?void 0:m.blocked)||void 0===h?void 0:h.byDeviceMissing)?t(eN,"not-found"):(null===(w=null===(k=u.audio)||void 0===k?void 0:k.blocked)||void 0===w?void 0:w.byPermissions)||"denied"===c?t(eN,"blocked"):f?t(eN,"pending"):v?t(eN,"idle"):(t(eN,"granted"),t(eK,function(e){return e.map(function(e){return e.selected?q(q({},e),{state:"granted"}):e})})),(null===(E=null===(S=u.video)||void 0===S?void 0:S.blocked)||void 0===E?void 0:E.byDeviceInUse)?(t(eB,"in-use"),t(eU,function(e){return e.map(function(e){return e.selected?q(q({},e),{state:"in-use"}):e})})):(null===(A=null===(M=u.video)||void 0===M?void 0:M.blocked)||void 0===A?void 0:A.byDeviceMissing)?t(eB,"not-found"):(null===(x=null===(C=u.video)||void 0===C?void 0:C.blocked)||void 0===x?void 0:x.byPermissions)||"denied"===l?t(eB,"blocked"):s?t(eB,"pending"):d?t(eB,"idle"):(t(eB,"granted"),t(eU,function(e){return e.map(function(e){return e.selected?q(q({},e),{state:"granted"}):e})})),r(),[2]}})})},[n,r]));return en("participant-updated",(0,o.useCallback)(function(e){e.participant.local&&i()},[i])),en("available-devices-updated",r),en("selected-devices-updated",r),en("camera-error",z((0,o.useCallback)(function(e,t,n){var r,i,a,o,u,l,c;switch(t(eG,n.error),null===(r=n.error)||void 0===r?void 0:r.type){case"cam-in-use":t(eB,"in-use");break;case"mic-in-use":t(eN,"in-use");break;case"cam-mic-in-use":t(eB,"in-use"),t(eN,"in-use");break;case"not-found":(null===(i=n.error)||void 0===i?void 0:i.missingMedia.includes("video"))&&t(eB,"not-found"),(null===(a=n.error)||void 0===a?void 0:a.missingMedia.includes("audio"))&&t(eN,"not-found");break;case"permissions":(null===(o=n.error)||void 0===o?void 0:o.blockedMedia.includes("video"))&&t(eB,"blocked"),(null===(u=n.error)||void 0===u?void 0:u.blockedMedia.includes("audio"))&&t(eN,"blocked");break;case"constraints":"invalid"===(null===(l=n.error)||void 0===l?void 0:l.reason)?(t(eB,"constraints-invalid"),t(eN,"constraints-invalid")):"none-specified"===(null===(c=n.error)||void 0===c?void 0:c.reason)&&(t(eB,"constraints-none-specified"),t(eN,"constraints-none-specified"));break;case"undefined-mediadevices":t(eB,"undefined-mediadevices"),t(eN,"undefined-mediadevices");break;default:t(eB,"unknown"),t(eN,"unknown")}},[]))),en("started-camera",z((0,o.useCallback)(function(e,t){t(eB,"granted"),t(eN,"granted"),i()},[i]))),o.createElement(eq.Provider,{value:{refreshDevices:r}},t)},e$=C({errorMsg:void 0,isLiveStreaming:!1,layout:void 0});e$.debugLabel=ea("live-streaming");var eX=function(e){var t=e.children;return en("live-streaming-started",z((0,o.useCallback)(function(e,t,n){t(e$,{isLiveStreaming:!0,layout:null==n?void 0:n.layout})},[]))),en("live-streaming-stopped",z((0,o.useCallback)(function(e,t){t(e$,function(e){return q(q({},e),{isLiveStreaming:!1,layout:void 0})})},[]))),en("live-streaming-error",z((0,o.useCallback)(function(e,t,n){t(e$,function(e){return q(q({},e),{errorMsg:n.errorMsg})})},[]))),en("left-meeting",z((0,o.useCallback)(function(e,t){t(e$,{errorMsg:void 0,isLiveStreaming:!1,layout:void 0})},[]))),o.createElement(o.Fragment,null,t)},eY=C("new");eY.debugLabel=ea("meeting-state");var eQ=C(null);eQ.debugLabel=ea("meeting-error");var e0=C(null);e0.debugLabel=ea("non-fatal-error");var e1=C({data:void 0,topology:"none"});e1.debugLabel=ea("meeting-session-data");var e2=function(e){var t=e.children,n=$(),r=z((0,o.useCallback)(function(e,t){if(n){var r=n.meetingState();return t(eY,r),r}},[n]));return en("loading",r),en("loaded",r),en("joining-meeting",r),en("joined-meeting",r),en("left-meeting",r),en("error",z((0,o.useCallback)(function(e,t,n){t(eQ,n),r()},[r]))),en("nonfatal-error",z((0,o.useCallback)(function(e,t,n){t(e0,n)},[]))),en("joined-meeting",z((0,o.useCallback)(function(e,t){n&&t(e1,n.meetingSessionState())},[n]))),en("meeting-session-state-updated",z((0,o.useCallback)(function(e,t,n){t(e1,n.meetingSessionState)},[]))),en("left-meeting",z((0,o.useCallback)(function(e,t){t(e1,{data:void 0,topology:"none"})},[]))),en("call-instance-destroyed",z((0,o.useCallback)(function(e,t){t(eY,"new"),t(eQ,null),t(e0,null),t(e1,{data:void 0,topology:"none"})},[]))),o.createElement(o.Fragment,null,t)},e7=C("none");e7.debugLabel=ea("topology");var e3=C("unknown"),e4=C([]),e5=C(100);e5.debugLabel=ea("network-quality");var e6=C("good");e6.debugLabel=ea("network-threshold");var e8=function(e){var t=e.children,n=$(),r=V(e7),i=z((0,o.useCallback)(function(e,t){return N(void 0,void 0,void 0,function(){var e;return U(this,function(r){switch(r.label){case 0:return n?[4,n.getNetworkTopology()]:[2];case 1:return(e=r.sent())&&"none"!==(null==e?void 0:e.topology)&&t(e7,e.topology),[2]}})})},[n]));return en("joined-meeting",i),en("network-connection",z((0,o.useCallback)(function(e,t,n){"connected"===n.event&&("peer-to-peer"===n.type&&t(e7,"peer"),"sfu"===n.type&&t(e7,"sfu"))},[]))),en("network-quality-change",z((0,o.useCallback)(function(e,t,n){t(e3,function(e){return e!==n.networkState?n.networkState:e}),t(e4,function(e){var t,r=null!==(t=n.networkStateReasons)&&void 0!==t?t:[];return ei(e,r)?e:r}),t(e5,function(e){return e!==n.quality?n.quality:e}),t(e6,function(e){return e!==n.threshold?n.threshold:e})},[]))),en("left-meeting",z((0,o.useCallback)(function(e,t){t(e7,"none"),t(e3,"unknown"),t(e4,[]),t(e5,100),t(e6,"good")},[]))),(0,o.useEffect)(function(){n&&"none"===r&&i()},[n,i,r]),o.createElement(o.Fragment,null,t)},e9=C({isLocalParticipantRecorded:!1,isRecording:!1});e9.debugLabel=ea("recording-state");var te=function(e){var t=e.children,n=eI(),r=eD({filter:"record"}),i=z((0,o.useCallback)(function(e,t,n,r){var i=e(e9),a={isLocalParticipantRecorded:i.isLocalParticipantRecorded,isRecording:i.isRecording,local:i.local,type:i.type},o={isLocalParticipantRecorded:"local"!==(null==a?void 0:a.type)&&(null==a?void 0:a.type)?a.isLocalParticipantRecorded:n,isRecording:"local"!==(null==a?void 0:a.type)&&(null==a?void 0:a.type)?a.isRecording:n,local:"local"!==(null==a?void 0:a.type)&&(null==a?void 0:a.type)||!n?null==a?void 0:a.local:r,type:n?"local":null==i?void 0:i.type};er(a,o)||t(e9,q(q({},a),o))},[]));return(0,o.useEffect)(function(){i(r.length>0,r.includes(n||"local"))},[n,i,r]),en("recording-started",z((0,o.useCallback)(function(e,t,r){var i,a=!0;switch(r.type){case"cloud-beta":case"cloud":n&&"single-participant"===(null===(i=r.layout)||void 0===i?void 0:i.preset)&&r.layout.session_id!==n&&(a=!1)}t(e9,{error:!1,isLocalParticipantRecorded:a,isRecording:!0,layout:null==r?void 0:r.layout,local:null==r?void 0:r.local,recordingId:null==r?void 0:r.recordingId,recordingStartedDate:new Date,startedBy:null==r?void 0:r.startedBy,type:null==r?void 0:r.type})},[n]))),en("recording-stopped",z((0,o.useCallback)(function(e,t){t(e9,function(e){return q(q({},e),{isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),en("recording-error",z((0,o.useCallback)(function(e,t){t(e9,function(e){return q(q({},e),{error:!0,isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),en("left-meeting",z((0,o.useCallback)(function(e,t){t(e9,{isLocalParticipantRecorded:!1,isRecording:!1})},[]))),o.createElement(o.Fragment,null,t)},tt=function(){var e=V(eY);return(0,o.useDebugValue)(e),e},tn=C(null);tn.debugLabel=ea("room-state");var tr=function(e){var t=e.children,n=$(),r=tt();return en("access-state-updated",z((0,o.useCallback)(function(e,t){return N(void 0,void 0,void 0,function(){var e;return U(this,function(i){switch(i.label){case 0:return n&&"left-meeting"!==r?[4,n.room()]:[2];case 1:return(e=i.sent())&&"id"in e&&t(tn,e),[2,e]}})})},[n,r]))),en("left-meeting",z((0,o.useCallback)(function(e,t){return function(){t(tn,null)}},[]))),o.createElement(o.Fragment,null,t)},ti=C({isTranscribing:!1,model:"general",language:"en",transcriptions:[]});ti.debugLabel=ea("transcription-state");var ta,to,tu=function(e){var t=e.children;return en("transcription-started",z((0,o.useCallback)(function(e,t,n){t(ti,{error:!1,transcriptionStartDate:new Date,isTranscribing:!0,transcriptions:[],endpointing:n.endpointing,extra:n.extra,includeRawResponse:n.includeRawResponse,instanceId:n.instanceId,language:n.language,model:n.model,profanity_filter:n.profanity_filter,punctuate:n.punctuate,redact:n.redact,startedBy:n.startedBy,tier:n.tier})},[]))),en("transcription-stopped",z((0,o.useCallback)(function(e,t,n){t(ti,function(e){return q(q({},e),{updatedBy:n.updatedBy,isTranscribing:!1})})},[]))),en("transcription-error",z((0,o.useCallback)(function(e,t){t(ti,function(e){return q(q({},e),{error:!0,isTranscribing:!1})})},[]))),en("left-meeting",z((0,o.useCallback)(function(e,t){t(ti,function(e){return q(q({},e),{isTranscribing:!1})})},[]))),en("app-message",z((0,o.useCallback)(function(e,t,n){"transcription"===(null==n?void 0:n.fromId)&&t(ti,function(e){return q(q({},e),{isTranscribing:!0,transcriptions:G(G([],H(e.transcriptions),!1),[n.data],!1)})})},[]))),o.createElement(o.Fragment,null,t)},tl={},tc=function(){return!0},ts={options:tl,shouldCreateInstance:tc},td=function(e,t){var n=void 0===t?ts:t,r=n.parentElRef,i=n.options,a=void 0===i?tl:i,u=n.shouldCreateInstance,l=void 0===u?tc:u,c=H((0,o.useState)(null),2),s=c[0],d=c[1],f=(0,o.useRef)();return(0,o.useEffect)(function(){if(("callFrame"!==e||null!==(null==r?void 0:r.current))&&l()){var t=function(){setTimeout(function(){return d(null)},0)},n=Z.ZP.getCallInstance();if(!s&&n&&!n.isDestroyed())return n.once("call-instance-destroyed",t),void d(n);if(s)er(f.current,a)||function(e){N(this,void 0,void 0,function(){return U(this,function(t){switch(t.label){case 0:return[4,e.destroy()];case 1:return t.sent(),[2]}})})}(s);else{if(!n||n.isDestroyed()){switch(e){case"callFrame":n=(null==r?void 0:r.current)?Z.ZP.createFrame(r.current,q({},a)):Z.ZP.createFrame(q({},a));break;case"callObject":n=Z.ZP.createCallObject(q({},a))}f.current=a}d(n),n.once("call-instance-destroyed",t)}}},[s,a,r,l,e]),s},tf=function(e){var t=e.children,n=e.jotaiStore,r=B(e,["children","jotaiStore"]),i=(0,o.useRef)({}),a=(0,o.useCallback)(function(e){var t,n,r,a;if("action"in e){var o=e.action,u=Array.from(null!==(a=null===(r=i.current)||void 0===r?void 0:r[o])&&void 0!==a?a:[]),l=u.filter(function(e){return H(e,1)[0]<0}),c=u.filter(function(e){return H(e,1)[0]>0}),s=G(G([],H(l),!1),H(c),!1);try{for(var d=K(s),f=d.next();!f.done;f=d.next())(0,H(f.value,2)[1])(e)}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}},[]),u=(0,o.useCallback)(function(e){e&&Object.keys(i.current).forEach(function(t){e.off(t,a),e.isDestroyed()||e.on(t,a)})},[a]),l="callObject"in r?r.callObject:null,c=td("callObject",{options:(0,o.useMemo)(function(){return"callObject"in r?{}:r},[r]),shouldCreateInstance:(0,o.useCallback)(function(){return!("callObject"in r)},[r])}),s=null!=l?l:c;(0,o.useEffect)(function(){s&&u(s)},[s,u]);var d=(0,o.useCallback)(function(e,t,n){var r,o;i.current[e]||(i.current[e]=new Map,s&&(s.off(e,a),s.isDestroyed()||s.on(e,a))),(null===(r=i.current[e])||void 0===r?void 0:r.has(n))||null===(o=i.current[e])||void 0===o||o.set(n,t)},[s,a]),f=(0,o.useCallback)(function(e,t){var n,r;null===(n=i.current[e])||void 0===n||n.delete(t),0===(null===(r=i.current[e])||void 0===r?void 0:r.size)&&(null==s||s.off(e,a),delete i.current[e])},[s,a]);return o.createElement(T,{store:n},o.createElement(J.Provider,{value:s},o.createElement(X.Provider,{value:{on:d,off:f}},o.createElement(tr,null,o.createElement(e2,null,o.createElement(e8,null,o.createElement(e_,null,o.createElement(te,null,o.createElement(eX,null,o.createElement(tu,null,o.createElement(eJ,null,t)))))))))))},tv=function(e,t){var n=void 0===t?{}:t,r=n.onParticipantLeft,i=n.onParticipantUpdated,a=V(eC(e));return em(["participant-updated","participant-left"],(0,o.useCallback)(function(t){var n=t.filter(function(t){return t.participant.session_id===e});n.length&&n.forEach(function(e){switch(e.action){case"participant-updated":null==i||i(e);break;case"participant-left":null==r||r(e)}})},[r,i,e])),(0,o.useDebugValue)(a),a};encodeURIComponent("\n    class AudioLevelProcessor extends AudioWorkletProcessor {\n    volume;\n    interval;\n    nextFrame;\n    \n    constructor() {\n      super();\n      this.volume = 0;\n      this.interval = 25;\n      this.nextFrame = this.interval;\n    }\n    \n    get intervalInFrames() {\n      // sampleRate is globally defined in AudioWorklets.\n      // See https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope\n      // eslint-disable-next-line no-undef\n      return (this.interval / 1000) * sampleRate;\n    }\n    \n    process(inputList) {\n      const firstInput = inputList[0];\n    \n      if (firstInput.length > 0) {\n        const inputData = firstInput[0];\n        let total = 0;\n    \n        for (let i = 0; i < inputData.length; ++i) {\n          total += Math.abs(inputData[i]);\n        }\n    \n        const rms = Math.sqrt(total / inputData.length);\n        this.volume = Math.max(0, Math.min(1, rms));\n    \n        this.nextFrame -= inputData.length;\n        if (this.nextFrame < 0) {\n          this.nextFrame += this.intervalInFrames;\n          this.port.postMessage({ volume: this.volume });\n        }\n      }\n    \n      return true;\n    }\n    }\n    \n    registerProcessor('audiolevel', AudioLevelProcessor);              \n"),eb(to?ta:(to=1,ta=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==W(t)&&"object"==W(n)){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var r,i,a,o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n})),C({state:"low",reason:"none"}).debugLabel=ea("cpu-load"),C(null).debugLabel=ea("input-settings");var tp=function(){var e=tv(V(eE));return(0,o.useDebugValue)(e),e};C({hidden:0,present:0}).debugLabel=ea("participant-counts");var ty=a(function(e){var t=C({},function(t,n,r){n(ty(e),r)});return t.debugLabel=ea("participant-receive-settings-".concat(e)),t});C(null).debugLabel=ea("send-settings")},26937:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},60730:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},48662:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},87133:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]])},83229:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},18930:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76865:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},92369:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},88178:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},29374:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},32489:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,n){var r=n(35475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},29114:function(e,t,n){n.d(t,{gm:function(){return a}});var r=n(2265);n(57437);var i=r.createContext(void 0);function a(e){let t=r.useContext(i);return e||t||"ltr"}},6394:function(e,t,n){n.d(t,{f:function(){return u}});var r=n(2265),i=n(66840),a=n(57437),o=r.forwardRef((e,t)=>(0,a.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var u=o},1353:function(e,t,n){n.d(t,{Pc:function(){return w},ck:function(){return L},fC:function(){return I}});var r=n(2265),i=n(6741),a=n(68398),o=n(98575),u=n(73966),l=n(99255),c=n(66840),s=n(26606),d=n(80886),f=n(29114),v=n(57437),p="rovingFocusGroup.onEntryFocus",y={bubbles:!1,cancelable:!0},b="RovingFocusGroup",[g,m,h]=(0,a.B)(b),[k,w]=(0,u.b)(b,[h]),[S,E]=k(b),M=r.forwardRef((e,t)=>(0,v.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,v.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,v.jsx)(A,{...e,ref:t})})}));M.displayName=b;var A=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:a,loop:u=!1,dir:l,currentTabStopId:g,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:k,onEntryFocus:w,preventScrollOnEntryFocus:E=!1,...M}=e,A=r.useRef(null),C=(0,o.e)(t,A),x=(0,f.gm)(l),[j,I]=(0,d.T)({prop:g,defaultProp:null!=h?h:null,onChange:k,caller:b}),[L,T]=r.useState(!1),R=(0,s.W)(w),O=m(n),P=r.useRef(!1),[D,F]=r.useState(0);return r.useEffect(()=>{let e=A.current;if(e)return e.addEventListener(p,R),()=>e.removeEventListener(p,R)},[R]),(0,v.jsx)(S,{scope:n,orientation:a,dir:x,loop:u,currentTabStopId:j,onItemFocus:r.useCallback(e=>I(e),[I]),onItemShiftTab:r.useCallback(()=>T(!0),[]),onFocusableItemAdd:r.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>F(e=>e-1),[]),children:(0,v.jsx)(c.WV.div,{tabIndex:L||0===D?-1:0,"data-orientation":a,...M,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,i.M)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,i.M)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!L){let t=new CustomEvent(p,y);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=O().filter(e=>e.focusable);_([e.find(e=>e.active),e.find(e=>e.id===j),...e].filter(Boolean).map(e=>e.ref.current),E)}}P.current=!1}),onBlur:(0,i.M)(e.onBlur,()=>T(!1))})})}),C="RovingFocusGroupItem",x=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:a=!0,active:o=!1,tabStopId:u,children:s,...d}=e,f=(0,l.M)(),p=u||f,y=E(C,n),b=y.currentTabStopId===p,h=m(n),{onFocusableItemAdd:k,onFocusableItemRemove:w,currentTabStopId:S}=y;return r.useEffect(()=>{if(a)return k(),()=>w()},[a,k,w]),(0,v.jsx)(g.ItemSlot,{scope:n,id:p,focusable:a,active:o,children:(0,v.jsx)(c.WV.span,{tabIndex:b?0:-1,"data-orientation":y.orientation,...d,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{a?y.onItemFocus(p):e.preventDefault()}),onFocus:(0,i.M)(e.onFocus,()=>y.onItemFocus(p)),onKeyDown:(0,i.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){y.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let i=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return j[i]}(e,y.orientation,y.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&i.reverse();let a=i.indexOf(e.currentTarget);i=y.loop?(n=i,r=a+1,n.map((e,t)=>n[(r+t)%n.length])):i.slice(a+1)}setTimeout(()=>_(i))}}),children:"function"==typeof s?s({isCurrentTabStop:b,hasTabStop:null!=S}):s})})});x.displayName=C;var j={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.activeElement;for(let r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}var I=M,L=x},20271:function(e,t,n){n.d(t,{VY:function(){return L},aV:function(){return _},fC:function(){return j},xz:function(){return I}});var r=n(2265),i=n(6741),a=n(73966),o=n(1353),u=n(71599),l=n(66840),c=n(29114),s=n(80886),d=n(99255),f=n(57437),v="Tabs",[p,y]=(0,a.b)(v,[o.Pc]),b=(0,o.Pc)(),[g,m]=p(v),h=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:u,activationMode:p="automatic",...y}=e,b=(0,c.gm)(u),[m,h]=(0,s.T)({prop:r,onChange:i,defaultProp:null!=a?a:"",caller:v});return(0,f.jsx)(g,{scope:n,baseId:(0,d.M)(),value:m,onValueChange:h,orientation:o,dir:b,activationMode:p,children:(0,f.jsx)(l.WV.div,{dir:b,"data-orientation":o,...y,ref:t})})});h.displayName=v;var k="TabsList",w=r.forwardRef((e,t)=>{let{__scopeTabs:n,loop:r=!0,...i}=e,a=m(k,n),u=b(n);return(0,f.jsx)(o.fC,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:r,children:(0,f.jsx)(l.WV.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});w.displayName=k;var S="TabsTrigger",E=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,disabled:a=!1,...u}=e,c=m(S,n),s=b(n),d=C(c.baseId,r),v=x(c.baseId,r),p=r===c.value;return(0,f.jsx)(o.ck,{asChild:!0,...s,focusable:!a,active:p,children:(0,f.jsx)(l.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":v,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...u,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;p||a||!e||c.onValueChange(r)})})})});E.displayName=S;var M="TabsContent",A=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:i,forceMount:a,children:o,...c}=e,s=m(M,n),d=C(s.baseId,i),v=x(s.baseId,i),p=i===s.value,y=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.jsx)(u.z,{present:a||p,children:n=>{let{present:r}=n;return(0,f.jsx)(l.WV.div,{"data-state":p?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:v,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:r&&o})}})});function C(e,t){return"".concat(e,"-trigger-").concat(t)}function x(e,t){return"".concat(e,"-content-").concat(t)}A.displayName=M;var j=h,_=w,I=E,L=A}}]);