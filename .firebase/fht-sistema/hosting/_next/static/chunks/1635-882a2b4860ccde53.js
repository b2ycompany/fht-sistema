"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1635],{44667:function(e,t,n){let r,i;function a(e,t){let n=null,r=new Map,i=new Set,a=i=>{let u;if(void 0===t)u=r.get(i);else for(let[e,n]of r)if(t(e,i)){u=n;break}if(void 0!==u){if(null==n||!n(u[1],i))return u[0];a.remove(i)}let l=e(i);return r.set(i,[l,Date.now()]),o("CREATE",i,l),l},o=(e,t,n)=>{for(let r of i)r({type:e,param:t,atom:n})};return a.unstable_listen=e=>(i.add(e),()=>{i.delete(e)}),a.getParams=()=>r.keys(),a.remove=e=>{if(void 0===t){if(!r.has(e))return;let[t]=r.get(e);r.delete(e),o("REMOVE",e,t)}else for(let[n,[i]]of r)if(t(n,e)){r.delete(n),o("REMOVE",n,i);break}},a.setShouldRemove=e=>{if(n=e)for(let[e,[t,i]]of r)n(i,e)&&(r.delete(e),o("REMOVE",e,t))},a}n.d(t,{Eu:function(){return tl},VU:function(){return Q},j1:function(){return ts},aV:function(){return tc},OV:function(){return eI}}),Symbol("RESET");!function(e=()=>{try{return window.localStorage}catch(e){"undefined"!=typeof window&&console.warn(e);return}},t){var n;let r;try{r=null==(n=e())?void 0:n.subscribe}catch(e){}if(!r&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(r=(t,n)=>{if(!(e() instanceof window.Storage))return()=>{};let r=r=>{r.storageArea===e()&&r.key===t&&n(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),r){let e;e=r,(t,n,r)=>e(t,e=>{let t;try{t=JSON.parse(e||"")}catch(e){t=r}n(t)})}}();var o=n(2265);let u=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,l=e=>"init"in e,c=e=>!!e.write,s=e=>"v"in e||"e"in e,d=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},f=new WeakMap,v=e=>{var t;return g(e)&&!!(null==(t=f.get(e))?void 0:t[0])},p=e=>{let t=f.get(e);(null==t?void 0:t[0])&&(t[0]=!1,t[1].forEach(e=>e()))},y=(e,t)=>{let n=f.get(e);if(!n){n=[!0,new Set],f.set(e,n);let t=()=>{n[0]=!1};e.then(t,t)}n[1].add(t)},g=e=>"function"==typeof(null==e?void 0:e.then),b=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},h=(e,t,n)=>{let r=n(e),i="v"in r,a=r.v;if(g(t))for(let i of r.d.keys())b(e,t,n(i));r.v=t,delete r.e,i&&Object.is(a,r.v)||(++r.n,g(a)&&p(a))},m=(e,t,n)=>{var r;let i=new Set;for(let t of(null==(r=n.get(e))?void 0:r.t)||[])n.has(t)&&i.add(t);for(let e of t.p)i.add(e);return i},k=Symbol(),w=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,i=new Set,a=new Set,o={},f=(e,...t)=>e.read(...t),p=(e,...t)=>e.write(...t),w=(e,t)=>{var n;return null==(n=e.unstable_onInit)?void 0:n.call(e,t)},S=(e,t)=>{var n;return null==(n=e.onMount)?void 0:n.call(e,t)},...E)=>{let M=E[0]||(t=>{if(!t)throw Error("Atom is undefined or null");let n=e.get(t);return n||(n={d:new Map,p:new Set,n:0},e.set(t,n),null==w||w(t,T)),n}),A=E[1]||(()=>{let e=[],n=t=>{try{t()}catch(t){e.push(t)}};do{o.f&&n(o.f);let e=new Set,u=e.add.bind(e);r.forEach(e=>{var n;return null==(n=t.get(e))?void 0:n.l.forEach(u)}),r.clear(),a.forEach(u),a.clear(),i.forEach(u),i.clear(),e.forEach(n),r.size&&C()}while(r.size||a.size||i.size);if(e.length)throw AggregateError(e)}),C=E[2]||(()=>{let e=[],i=new WeakSet,a=new WeakSet,o=Array.from(r);for(;o.length;){let r=o[o.length-1],u=M(r);if(a.has(r)){o.pop();continue}if(i.has(r)){if(n.get(r)===u.n)e.push([r,u]);else if(n.has(r))throw Error("[Bug] invalidated atom exists");a.add(r),o.pop();continue}for(let e of(i.add(r),m(r,u,t)))i.has(e)||o.push(e)}for(let t=e.length-1;t>=0;--t){let[i,a]=e[t],o=!1;for(let e of a.d.keys())if(e!==i&&r.has(e)){o=!0;break}o&&(j(i),O(i)),n.delete(i)}}),j=E[3]||(e=>{var i;let a,p;let m=M(e);if(s(m)&&(t.has(e)&&n.get(e)!==m.n||Array.from(m.d).every(([e,t])=>j(e).n===t)))return m;m.d.clear();let k=!0,w=()=>{t.has(e)&&(O(e),C(),A())},S=m.n;try{let n=f(e,n=>{var r;if(u(e,n)){let e=M(n);if(!s(e)){if(l(n))h(n,n.init,M);else throw Error("no atom init")}return d(e)}let i=j(n);try{return d(i)}finally{m.d.set(n,i.n),v(m.v)&&b(e,m.v,i),null==(r=t.get(n))||r.t.add(e),k||w()}},{get signal(){return a||(a=new AbortController),a.signal},get setSelf(){return c(e)||console.warn("setSelf function cannot be used with read-only atom"),!p&&c(e)&&(p=(...t)=>{if(k&&console.warn("setSelf function cannot be called in sync"),!k)try{return x(e,...t)}finally{C(),A()}}),p}});return h(e,n,M),g(n)&&(y(n,()=>null==a?void 0:a.abort()),n.then(w,w)),m}catch(e){return delete m.v,m.e=e,++m.n,m}finally{k=!1,S!==m.n&&n.get(e)===S&&(n.set(e,m.n),r.add(e),null==(i=o.c)||i.call(o,e))}}),L=E[4]||(e=>{let r=[e];for(;r.length;){let e=r.pop(),i=M(e);for(let a of m(e,i,t)){let e=M(a);n.set(a,e.n),r.push(a)}}}),x=E[5]||((e,...t)=>{let n=!0;try{return p(e,e=>d(j(e)),(t,...i)=>{var a;let c=M(t);try{if(!u(e,t))return x(t,...i);{if(!l(t))throw Error("atom not writable");let e=c.n,n=i[0];h(t,n,M),O(t),e!==c.n&&(r.add(t),null==(a=o.c)||a.call(o,t),L(t));return}}finally{n||(C(),A())}},...t)}finally{n=!1}}),O=E[6]||(e=>{var n;let i=M(e),a=t.get(e);if(a&&!v(i.v)){for(let[t,u]of i.d)if(!a.d.has(t)){let i=M(t);_(t).t.add(e),a.d.add(t),u!==i.n&&(r.add(t),null==(n=o.c)||n.call(o,t),L(t))}for(let t of a.d||[])if(!i.d.has(t)){a.d.delete(t);let n=I(t);null==n||n.t.delete(e)}}}),_=E[7]||(e=>{var n;let r=M(e),a=t.get(e);if(!a){for(let t of(j(e),r.d.keys()))_(t).t.add(e);a={l:new Set,d:new Set(r.d.keys()),t:new Set},t.set(e,a),null==(n=o.m)||n.call(o,e),c(e)&&i.add(()=>{let t=!0;try{let n=S(e,(...n)=>{try{return x(e,...n)}finally{t||(C(),A())}});n&&(a.u=()=>{t=!0;try{n()}finally{t=!1}})}finally{t=!1}})}return a}),I=E[8]||(e=>{var n;let r=M(e),i=t.get(e);if(i&&!i.l.size&&!Array.from(i.t).some(n=>{var r;return null==(r=t.get(n))?void 0:r.d.has(e)})){for(let u of(i.u&&a.add(i.u),i=void 0,t.delete(e),null==(n=o.u)||n.call(o,e),r.d.keys())){let t=I(u);null==t||t.t.delete(e)}return}return i}),T={get:e=>d(j(e)),set:(e,...t)=>{try{return x(e,...t)}finally{C(),A()}},sub:(e,t)=>{let n=_(e).l;return n.add(t),A(),()=>{n.delete(t),I(e),A()}}};return Object.defineProperty(T,k,{value:[e,t,n,r,i,a,o,f,p,w,S,M,A,C,j,L,x,O,_,I]}),T},S=0;function E(e,t){let n=`atom${++S}`,r={toString(){return this.debugLabel?n+":"+this.debugLabel:n}};return"function"==typeof e?r.read=e:(r.init=e,r.read=M,r.write=A),t&&(r.write=t),r}function M(e){return e(this)}function A(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}let C=(0,o.createContext)(void 0);function j(e){let t=(0,o.useContext)(C);return(null==e?void 0:e.store)||t||(i||(i=r?r():w(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=i),globalThis.__JOTAI_DEFAULT_STORE__!==i&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),i)}function L(e){let{children:t,store:n}=e,i=(0,o.useRef)(void 0);return n||i.current||(i.current=r?r():w()),(0,o.createElement)(C.Provider,{value:n||i.current},t)}let x=e=>"function"==typeof(null==e?void 0:e.then),O=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},_=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw O(e),e}),I=new WeakMap,T=(e,t)=>{let n=I.get(e);return n||(n=new Promise((r,i)=>{let a=e,o=e=>t=>{a===e&&r(t)},u=e=>t=>{a===e&&i(t)},l=()=>{try{let e=t();x(e)?(I.set(e,n),a=e,e.then(o(e),u(e)),y(e,l)):r(e)}catch(e){i(e)}};e.then(o(e),u(e)),y(e,l)}),I.set(e,n)),n};function P(e,t){let{delay:n,unstable_promiseStatus:r=!o.use}=t||{},i=j(t),[[a,u,l],c]=(0,o.useReducer)(t=>{let n=i.get(e);return Object.is(t[0],n)&&t[1]===i&&t[2]===e?t:[n,i,e]},void 0,()=>[i.get(e),i,e]),s=a;if((u!==i||l!==e)&&(c(),s=i.get(e)),(0,o.useEffect)(()=>{let t=i.sub(e,()=>{if(r)try{let t=i.get(e);x(t)&&O(T(t,()=>i.get(e)))}catch(e){}if("number"==typeof n){setTimeout(c,n);return}c()});return c(),t},[i,e,n,r]),(0,o.useDebugValue)(s),x(s)){let t=T(s,()=>i.get(e));return r&&O(t),_(t)}return s}function D(e,t){return function(e,t){let n=j(t);return(0,o.useCallback)(function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];if(!("write"in e))throw Error("not writable atom");return n.set(e,...r)},[n,e])}((0,o.useMemo)(()=>E(null,function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return e(t,n,...i)}),[e]),t)}var R=n(31209);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function F(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function q(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,u)}l((r=r.apply(e,t||[])).next())})}function z(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(l){return function(u){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}function B(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function U(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var H=(0,o.createContext)(null),N=function(){var e=(0,o.useContext)(H);return(0,o.useDebugValue)(e),e},J=(0,o.createContext)({on:function(){},off:function(){}}),$=-1,G=function(){return $--},X=1,K=function(){return X++},Q=function(e,t,n){void 0===n&&(n=!1);var r=(0,o.useContext)(J),i=r.off,a=r.on,u=W((0,o.useState)(!1),2),l=u[0],c=u[1],s=(0,o.useRef)(0),d=(0,o.useMemo)(function(){return n?G():K()},[n]);(0,o.useEffect)(function(){if(e&&!l){if(s.current>1e5)return console.error("useDailyEvent called with potentially non-memoized event callback or due to too many re-renders.\n        Memoize using useCallback to avoid re-render loop or reduce the amount of state transitions the callback depends on.\n        Passed callback for '".concat(e,"' event is NOT registered."),t),void c(!0);s.current++;var n=setTimeout(function(){s.current=0},50);return a(e,t,d),function(){clearTimeout(n),i(e,d)}}},[t,e,d,l,i,a]),(0,o.useDebugValue)({event:e,eventId:d,isBlocked:l,callback:t})};function Y(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n,r,i=0;i<e.length;i++)if(!Y(e[i],t[i]))return!1;return!0}if(MediaStream&&e instanceof MediaStream&&t instanceof MediaStream)return e.id===t.id&&e.active===t.active&&e.getTracks().length===t.getTracks().length&&e.getTracks().every(function(e,n){return Y(e,t.getTracks()[n])});if(MediaStreamTrack&&e instanceof MediaStreamTrack&&t instanceof MediaStreamTrack)return e.id===t.id&&e.kind===t.kind&&e.readyState===t.readyState;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var a=Array.from(e).sort(),o=Array.from(t).sort();return a.every(function(e,t){return Y(e,o[t])})}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;try{for(var u=B(e.entries()),l=u.next();!l.done;l=u.next()){var c=W(l.value,2),s=c[0],d=c[1];if(!t.has(s)||!Y(d,t.get(s)))return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!0}if("object"!==V(e)||null===e||"object"!==V(t)||null===t)return!1;var f=Object.keys(e),v=Object.keys(t);if(f.length!==v.length)return!1;for(i=0;i<f.length;i++)if(s=f[i],!Object.prototype.hasOwnProperty.call(t,s)||!Y(e[s],t[s]))return!1;return!0}function ee(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],a=null!==r&&"object"===V(r),o=null!==i&&"object"===V(i);if(a||o){if(!Y(r,i))return!1}else if(r!==i)return!1}return!0}function et(e){return"daily-react-"+e}function en(e){var t=new Map,n=new Map;return function(r){if(!t.has(r)){var i=E(function(t){var i=e.get(r)(t),a=n.get(r);return null!=a&&e.equals(i,a)?a:(n.set(r,i),i)});t.set(r,i)}return t.get(r)}}var er,ei,ea=function(e,t){return e+"::"+t},eo=function(e,t){return el(ea(e,t))},eu=a(function(e){var t=E([]);return t.debugLabel=et("participant-property-paths-".concat(e)),t}),el=a(function(e){var t=E(null);return t.debugLabel=et("participant-property-".concat(e)),t}),ec=en({equals:ee,get:function(e){return function(t){var n=W(e.split("::"),2),r=n[0];return n[1].split(";").map(function(e){return t(eo(r,e))})}}}),es=function(e,t){var n,r=P(Array.isArray(t)?ec(e+"::"+t.join(";")):el(ea(e,t)));return(0,o.useDebugValue)(Array.isArray(t)?t.reduce(function(e,t,n){return e[t]=r[n],e},{}):((n={})[t]=r,n)),r},ed="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ev=ef(function(){if(ei)return er;ei=1;var e="Expected a function",t=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,o="object"==V(ed)&&ed&&ed.Object===Object&&ed,u="object"==("undefined"==typeof self?"undefined":V(self))&&self&&self.Object===Object&&self,l=o||u||Function("return this")(),c=Object.prototype.toString,s=Math.max,d=Math.min,f=function(){return l.Date.now()};function v(e){var t=V(e);return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if("symbol"==V(o=e)||o&&"object"==V(o)&&"[object Symbol]"==c.call(o))return NaN;if(v(e)){var o,u="function"==typeof e.valueOf?e.valueOf():e;e=v(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var l=r.test(e);return l||i.test(e)?a(e.slice(2),l?2:8):n.test(e)?NaN:+e}return er=function(t,n,r){var i=!0,a=!0;if("function"!=typeof t)throw TypeError(e);return v(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),function(t,n,r){var i,a,o,u,l,c,y=0,g=!1,b=!1,h=!0;if("function"!=typeof t)throw TypeError(e);function m(e){var n=i,r=a;return i=a=void 0,y=e,u=t.apply(r,n)}function k(e){var t=e-c;return void 0===c||t>=n||t<0||b&&e-y>=o}function w(){var e,t=f();if(k(t))return S(t);l=setTimeout(w,(e=n-(t-c),b?d(e,o-(t-y)):e))}function S(e){return l=void 0,h&&i?m(e):(i=a=void 0,u)}function E(){var e,t=f(),r=k(t);if(i=arguments,a=this,c=t,r){if(void 0===l)return y=e=c,l=setTimeout(w,n),g?m(e):u;if(b)return l=setTimeout(w,n),m(c)}return void 0===l&&(l=setTimeout(w,n)),u}return n=p(n)||0,v(r)&&(g=!!r.leading,o=(b="maxWait"in r)?s(p(r.maxWait)||0,n):o,h="trailing"in r?!!r.trailing:h),E.cancel=function(){void 0!==l&&clearTimeout(l),y=0,i=c=a=l=void 0},E.flush=function(){return void 0===l?u:S(f())},E}(t,n,{leading:i,maxWait:n,trailing:a})}}()),ep=function(e,t,n,r){void 0===n&&(n=500),void 0===r&&(r=!1);var i=(0,o.useContext)(J),a=i.off,u=i.on,l=(0,o.useMemo)(function(){var t;return Array.isArray(e)?e.reduce(function(e,t){return e[t]=r?G():K(),e},{}):((t={})[e]=r?G():K(),t)},[e,r]),c=(0,o.useRef)([]);Q("call-instance-destroyed",(0,o.useCallback)(function(){c.current.length=0},[]));var s=(0,o.useMemo)(function(){return ev(function(){0!==c.current.length&&(t(c.current),c.current.length=0)},n,{trailing:!0})},[t,n]);(0,o.useEffect)(function(){if(e){var t=function(e){c.current.push(e),s()};return Array.isArray(e)?e.forEach(function(e){return u(e,t,l[e])}):u(e,t,l[e]),function(){Array.isArray(e)?e.forEach(function(e){return a(e,l[e])}):a(e,l[e])}}},[s,e,l,a,u]),(0,o.useDebugValue)({event:e,eventId:l})},ey=function e(t,n,r){if(void 0===n&&(n=""),void 0===r&&(r=new Set),"object"!==V(t)||null===t||r.has(t))return[n];r.add(t);var i=[];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=n?"".concat(n,".").concat(a):a;i.push.apply(i,U([o],W(e(t[a],o,r)),!1))}return r.delete(t),i},eg=function(e){return ey(e)},eb=function(e,t){return t.map(function(t){return String(t).split(".").filter(function(e){return e.length}).reduce(function(e,t){return e&&e[t]},e)})},eh=E(null);eh.debugLabel=et("active-id");var em=E("");em.debugLabel=et("local-id");var ek=E(null);ek.debugLabel=et("local-join-date");var ew=E([]);ew.debugLabel=et("participant-ids");var eS=a(function(e){var t=E(null);return t.debugLabel=et("participant-".concat(e)),t}),eE=E([]);eE.debugLabel=et("waiting-participants");var eM=a(function(e){var t=E({awaitingAccess:{level:"full"},id:e,name:""});return t.debugLabel=et("waiting-participant-".concat(e)),t}),eA=(en({equals:ee,get:function(){return function(e){return e(eE).map(function(t){return e(eM(t))})}}}),function(e){var t=e.children,n=N(),r=W((0,o.useState)(!1),2),i=r[0],a=r[1],u=D((0,o.useCallback)(function(e,t,n){t(em,n.local.session_id);var r=Object.values(n);t(ew,r.map(function(e){return e.session_id})),r.forEach(function(e){t(eS(e.session_id),e);var n=eg(e);t(eu(e.session_id),n),n.forEach(function(n){var r=W(eb(e,[n]),1)[0];t(eo(e.session_id,n),r)})}),a(!0)},[]));(0,o.useEffect)(function(){if(n&&!i){var e=setInterval(function(){var t=n.participants();"local"in t&&(u(t),clearInterval(e))},100);return function(){clearInterval(e)}}},[n,i,u]);var l=(0,o.useCallback)(function(){if(n){var e=null==n?void 0:n.participants();e.local&&u(e)}},[n,u]);Q("started-camera",l,!0),Q("access-state-updated",l,!0),Q("joining-meeting",D((0,o.useCallback)(function(e,t){t(ek,new Date),l()},[l])),!0),Q("joined-meeting",(0,o.useCallback)(function(e){u(e.participants)},[u]),!0);var c=D((0,o.useCallback)(function(e,t){t(em,""),t(eh,null),e(ew).forEach(function(e){return eS.remove(e)}),t(ew,[])},[]));return Q("call-instance-destroyed",c,!0),Q("left-meeting",c,!0),ep(["active-speaker-change","participant-joined","participant-updated","participant-left"],D((0,o.useCallback)(function(e,t,n){n.length&&n.forEach(function(n){switch(n.action){case"active-speaker-change":t(eh,n.activeSpeaker.peerId),t(eS(n.activeSpeaker.peerId),function(e){return e?Z(Z({},e),{last_active:new Date}):null});break;case"participant-joined":t(ew,function(e){return e.includes(n.participant.session_id)?e:U(U([],W(e),!1),[n.participant.session_id],!1)}),t(eS(n.participant.session_id),n.participant);var r=eg(n.participant);t(eu(n.participant.session_id),r),r.forEach(function(e){var r=W(eb(n.participant,[e]),1)[0];t(eo(n.participant.session_id,e),r)});break;case"participant-updated":t(eS(n.participant.session_id),n.participant),n.participant.local&&t(em,n.participant.session_id),r=eg(n.participant);var i=e(eu(n.participant.session_id));(r.length!==i.length||r.some(function(e){return!i.includes(e)}))&&t(eu(n.participant.session_id),r);var a=new Set(i),o=eb(n.participant,r);r.forEach(function(e,r){var i=o[r];a.delete(e),t(eo(n.participant.session_id,e),function(e){return Y(e,i)?e:i})}),a.forEach(function(e){t(eo(n.participant.session_id,e),null)});break;case"participant-left":t(ew,function(e){return e.includes(n.participant.session_id)?e.filter(function(e){return e!==n.participant.session_id}):e}),eS.remove(n.participant.session_id),e(eu(n.participant.session_id)).forEach(function(e){el.remove(ea(n.participant.session_id,e))}),eu.remove(n.participant.session_id)}})},[])),100,!0),ep(["waiting-participant-added","waiting-participant-updated","waiting-participant-removed"],D((0,o.useCallback)(function(e,t,n){n.forEach(function(e){switch(e.action){case"waiting-participant-added":t(eE,function(t){return t.includes(e.participant.id)?t:U(U([],W(t),!1),[e.participant.id],!1)}),t(eM(e.participant.id),e.participant);break;case"waiting-participant-updated":t(eM(e.participant.id),e.participant);break;case"waiting-participant-removed":t(eE,function(t){return t.filter(function(t){return t!==e.participant.id})}),eM.remove(e.participant.id)}})},[])),100,!0),o.createElement(o.Fragment,null,t)}),eC=function(){var e=P(em);return(0,o.useDebugValue)(e),e},ej=function(){return!0},eL=function(e){var t=void 0===e?{}:e,n=t.filter,r=void 0===n?ej:n,i=t.ignoreLocal,a=eC(),u=P(eh),l=void 0!==i&&i&&u===a,c=!(null==r?void 0:r(u)),s=W((0,o.useState)(l||c?null:u),2),d=s[0],f=s[1];return(0,o.useEffect)(function(){l||c||f(u)},[c,l,u]),(0,o.useDebugValue)(d),d},ex=function(e){return["blocked","off"].includes(e)},eO=function(e,t){return"".concat(e).concat(";").concat(t)},e_=en({equals:Y,get:function(e){return function(t){var n=W(e.split(";"),2),r=n[0],i=n[1];return t(ew).filter(function(e){switch(r){case"local":case"owner":case"record":return t(eo(e,r));case"remote":return!t(eo(e,"local"));case"screen":var n=t(eo(e,"tracks.screenAudio.state")),i=t(eo(e,"tracks.screenVideo.state"));return!ex(n)||!ex(i);default:return!0}}).sort(function(e,n){switch(i){case"joined_at":case"session_id":case"user_id":case"user_name":var r=t(eo(e,i)),a=t(eo(n,i));if(void 0!==r||void 0!==a){if(void 0===r)return -1;if(void 0===a||r>a)return 1;if(r<a)return -1}return 0;default:return 0}})}}}),eI=function(e){var t=void 0===e?{}:e,n=t.filter,r=t.onActiveSpeakerChange,i=t.onParticipantJoined,a=t.onParticipantLeft,u=t.onParticipantUpdated,l=t.sort,c=P(e_(eO("string"==typeof n?n:null,"string"==typeof l?l:null))),s="function"==typeof n||"function"==typeof l,d=(0,o.useCallback)(function(e){return"function"!=typeof n&&"function"!=typeof l?[]:c.map(function(t){return e(eS(t))}).filter(function(e){return!!e}).filter("function"==typeof n?n:function(){return!0}).sort("function"==typeof l?l:function(){return 0}).map(function(e){return e.session_id}).filter(Boolean)},[n,c,l]),f=W((0,o.useState)([]),2),v=f[0],p=f[1],y=D((0,o.useCallback)(function(e){if(s){var t=d(e);Y(t,v)||p(t)}},[v,d,s]));(0,o.useEffect)(function(){y()},[y]),ep(["participant-joined","participant-updated","active-speaker-change","participant-left"],(0,o.useCallback)(function(e){e.length&&(e.forEach(function(e){switch(e.action){case"participant-joined":null==i||i(e);break;case"participant-updated":null==u||u(e);break;case"active-speaker-change":null==r||r(e);break;case"participant-left":null==a||a(e)}}),y())},[y,r,i,a,u]));var g="function"==typeof n||"function"==typeof l?v:c;return(0,o.useDebugValue)(g),g},eT=en({equals:ee,get:function(){return function(e){return e(e_(eO("screen",null))).map(function(t){return{local:e(eo(t,"local")),screenAudio:e(eo(t,"tracks.screenAudio")),screenVideo:e(eo(t,"tracks.screenVideo")),screenId:"".concat(t,"-screen"),session_id:t}})}}}),eP=function(e){var t=void 0===e?{}:e,n=t.onError,r=t.onLocalScreenShareStarted,i=t.onLocalScreenShareStopped,a=N(),u=(0,o.useCallback)(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==a||a.startScreenShare.apply(a,U([],W(e),!1))},[a]),l=(0,o.useCallback)(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null==a||a.stopScreenShare.apply(a,U([],W(e),!1))},[a]);Q("local-screen-share-started",(0,o.useCallback)(function(){return null==r?void 0:r()},[r])),Q("local-screen-share-stopped",(0,o.useCallback)(function(){return null==i?void 0:i()},[i])),Q("nonfatal-error",(0,o.useCallback)(function(e){"screen-share-error"===e.type&&(null==n||n(e))},[n]));var c=P(eT(void 0)),s={isSharingScreen:c.some(function(e){return e.local}),screens:c,startScreenShare:u,stopScreenShare:l};return(0,o.useDebugValue)(s),s},eD=function(e,t){void 0===t&&(t="video");var n=es(e,"tracks.".concat(t)),r=n?Z(Z({},n),{isOff:ex(n.state)}):{isOff:!0,persistentTrack:void 0,state:"off",subscribed:!1};return(0,o.useDebugValue)(r),r};function eR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,o.useCallback)(function(t){for(var n=0;n<e.length;n++){var r=e[n];"function"==typeof r?r(t):r&&"object"===V(r)&&(r.current=t)}},e)}var eV=(0,o.memo)((0,o.forwardRef)(function(e,t){var n=e.onPlayFailed,r=e.sessionId,i=e.type,a=void 0===i?"audio":i,u=F(e,["onPlayFailed","sessionId","type"]),l=(0,o.useRef)(null),c=eD(r,a),s=eR(l,t),d=null==c?void 0:c.subscribed;return(0,o.useEffect)(function(){var e=l.current;if(e&&(null==c?void 0:c.persistentTrack)){var t=function(){e.play().catch(function(t){null==n||n({sessionId:r,target:e,type:a,message:t.message,name:t.name})})};return MediaStream?(e.addEventListener("canplay",t),e.srcObject=new MediaStream([null==c?void 0:c.persistentTrack]),function(){null==e||e.removeEventListener("canplay",t)}):(console.warn("MediaStream API not available. Can't setup ".concat(a," for ").concat(r)),void(null==n||n({sessionId:r,target:e,type:a,message:"MediaStream API not available",name:"MediaStream API not available"})))}},[null==c?void 0:c.persistentTrack,n,r,a]),Q("participant-left",(0,o.useCallback)(function(e){var t=l.current;e.participant.session_id===r&&t&&(t.srcObject=null)},[r])),o.createElement("audio",Z({autoPlay:!0,ref:s},u,{"data-session-id":r,"data-audio-type":a,"data-subscribed":d}))}));eV.displayName="DailyAudioTrack",(0,o.memo)((0,o.forwardRef)(function(e,t){var n=e.autoSubscribeActiveSpeaker,r=void 0!==n&&n,i=e.maxSpeakers,a=e.onPlayFailed,u=e.playLocalScreenAudio,l=void 0!==u&&u,c=N(),s=W((0,o.useState)(Array(void 0===i?5:i).fill("")),2),d=s[0],f=s[1],v=eP().screens,p=eC(),y=eL({ignoreLocal:!0}),g=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,function(){return{getActiveSpeakerAudio:function(){var e,t;return null!==(t=null===(e=g.current)||void 0===e?void 0:e.querySelector('audio[data-session-id="'.concat(y,'"][data-audio-type="audio"]')))&&void 0!==t?t:null},getAllAudio:function(){var e,t;return Array.from(null!==(t=null===(e=g.current)||void 0===e?void 0:e.querySelectorAll("audio"))&&void 0!==t?t:[])},getAudioBySessionId:function(e){var t,n;return null!==(n=null===(t=g.current)||void 0===t?void 0:t.querySelector('audio[data-session-id="'.concat(e,'"][data-audio-type="audio"]')))&&void 0!==n?n:null},getRmpAudio:function(){var e,t;return Array.from(null!==(t=null===(e=g.current)||void 0===e?void 0:e.querySelectorAll('audio[data-audio-type="rmpAudio"]'))&&void 0!==t?t:[])},getScreenAudio:function(){var e,t;return Array.from(null!==(t=null===(e=g.current)||void 0===e?void 0:e.querySelectorAll('audio[data-audio-type="screenAudio"]'))&&void 0!==t?t:[])},getRmpAudioBySessionId:function(e){var t,n;return null!==(n=null===(t=g.current)||void 0===t?void 0:t.querySelector('audio[data-session-id="'.concat(e,'"][data-audio-type="rmpAudio"]')))&&void 0!==n?n:null},getScreenAudioBySessionId:function(e){var t,n;return null!==(n=null===(t=g.current)||void 0===t?void 0:t.querySelector('audio[data-session-id="'.concat(e,'"][data-audio-type="screenAudio"]')))&&void 0!==n?n:null}}},[y]);var b=D((0,o.useCallback)(function(e,t,n){return q(void 0,void 0,void 0,function(){var t,i,a;return z(this,function(o){if(t=Object.values(null!==(a=null==c?void 0:c.participants())&&void 0!==a?a:{}).filter(function(e){return!e.local&&!!e.tracks.audio.subscribed}),!(i=function(e){return t.some(function(t){return t.session_id===e})})(n)){if(!c||c.isDestroyed()||!r||c.subscribeToTracksAutomatically())return[2];c.updateParticipant(n,{setSubscribedTracks:{audio:!0}})}return f(function(r){if(r.includes(n))return r;var a,o=function(e){return!e||!i(e)};if(r.some(o)){var u=r.findIndex(o);return r[u]=n,U([],W(r),!1)}var l=r.findIndex(function(e){return t.some(function(t){return t.session_id===e&&ex(t.tracks.audio.state)})});if(l>=0)return r[l]=n,U([],W(r),!1);var c=t.filter(function(e){return r.includes(e.session_id)&&e.session_id!==y}).sort(function(t,n){var r,i,a=null!==(r=e(eo(t.session_id,"last_active")))&&void 0!==r?r:new Date("1970-01-01"),o=null!==(i=e(eo(n.session_id,"last_active")))&&void 0!==i?i:new Date("1970-01-01");return a>o?1:a<o?-1:0});if(!c.length){var s=r.findIndex(function(e){return e!==y});return r[s]=n,U([],W(r),!1)}var d=r.indexOf(null===(a=c[0])||void 0===a?void 0:a.session_id);return r[d]=n,U([],W(r),!1)}),[2]})})},[y,r,c])),h=(0,o.useCallback)(function(e){f(function(t){if(!t.includes(e))return t;var n=U([],W(t),!1),r=n.indexOf(e);return n[r]="",n})},[]);ep(["active-speaker-change","track-started","participant-left"],(0,o.useCallback)(function(e){e.forEach(function(e){switch(e.action){case"active-speaker-change":if(e.activeSpeaker.peerId===p)return;b(e.activeSpeaker.peerId);break;case"track-started":"audio"===e.track.kind&&e.participant&&!e.participant.local&&b(e.participant.session_id);break;case"participant-left":h(e.participant.session_id)}})},[b,p,h]),200);var m=eI({filter:(0,o.useCallback)(function(e){var t;return!!(null===(t=null==e?void 0:e.tracks)||void 0===t?void 0:t.rmpAudio)},[])});return o.createElement("div",{ref:g},d.map(function(e,t){return o.createElement(eV,{key:"speaker-slot-".concat(t),onPlayFailed:a,sessionId:e,type:"audio"})}),v.filter(function(e){return!!l||!e.local}).map(function(e){return o.createElement(eV,{key:e.screenId,onPlayFailed:a,sessionId:e.session_id,type:"screenAudio"})}),m.map(function(e){return o.createElement(eV,{key:"".concat(e,"-rmp"),onPlayFailed:a,sessionId:e,type:"rmpAudio"})}))})).displayName="DailyAudio",(0,o.forwardRef)(function(e,t){var n=e.automirror,r=e.fit,i=e.mirror,a=e.onResize,u=e.playableStyle,l=e.sessionId,c=e.style,s=e.type,d=void 0===s?"video":s,f=F(e,["automirror","fit","mirror","onResize","playableStyle","sessionId","style","type"]),v=eC()===l,p="screenVideo"===d,y=v&&!p,g=(0,o.useRef)(null),b=eR(g,t),h=eD(l,d),m=h.persistentTrack,k=y||p||!h.isOff,w=es(l,"tracks.".concat(d)),S=null==w?void 0:w.subscribed,E=(0,o.useMemo)(function(){if("boolean"==typeof i)return i;if(!n)return!1;if(!m)return y;var e=m.getSettings();return"facingMode"in e?y&&"user"===e.facingMode:y},[n,y,i,m]);return(0,o.useEffect)(function(){var e=g.current;if(e){var t=function(){var t=e.play();void 0!==t&&t.then(function(){e.controls=!1}).catch(function(t){e.controls=!0,console.warn("Failed to play video",t)})},n=function(){e.paused&&t()},r=function(){e.style.transform="scale(1)"},i=function(){e.style.transform="",setTimeout(function(){e.paused&&t()},100)},a=function(){"hidden"!==document.visibilityState&&e.paused&&t()};return e.addEventListener("canplay",n),e.addEventListener("enterpictureinpicture",r),e.addEventListener("leavepictureinpicture",i),document.addEventListener("visibilitychange",a),function(){e.removeEventListener("canplay",n),e.removeEventListener("enterpictureinpicture",r),e.removeEventListener("leavepictureinpicture",i),document.removeEventListener("visibilitychange",a)}}},[]),(0,o.useEffect)(function(){var e=g.current;if(e&&m){if(MediaStream)return e.srcObject=new MediaStream([m]),e.load(),function(){e.srcObject=null,e.load()};console.warn("MediaStream API not available. Can't setup ".concat(d," for ").concat(l))}},[l,d,m,null==m?void 0:m.id]),(0,o.useEffect)(function(){var e,t=g.current;if(a&&t)return n(),t.addEventListener("loadedmetadata",n),t.addEventListener("resize",n),function(){e&&cancelAnimationFrame(e),t.removeEventListener("loadedmetadata",n),t.removeEventListener("resize",n)};function n(){e&&cancelAnimationFrame(e),e=requestAnimationFrame(function(){var e=g.current;if(e&&!document.hidden){var t=e.videoWidth,n=e.videoHeight;t&&n&&(null==a||a({aspectRatio:t/n,height:n,width:t}))}})}},[a]),o.createElement("video",Z({autoPlay:!0,muted:!0,playsInline:!0,ref:b,"data-local":v,"data-mirrored":E||void 0,"data-playable":k||void 0,"data-session-id":l,"data-subscribed":S,"data-video-type":d,style:Z(Z({objectFit:void 0===r?"contain":r,transform:E?"scale(-1, 1)":""},void 0===c?{}:c),k?void 0===u?{}:u:{})},f))}).displayName="DailyVideo";var eZ=(0,o.createContext)({refreshDevices:function(){return Promise.resolve()}}),eF=E("idle");eF.debugLabel=et("camera-state");var eq=E("idle");eq.debugLabel=et("microphone-state");var ez=E([]);ez.debugLabel=et("camera-devices");var eB=E([]);eB.debugLabel=et("microphone-devices");var eW=E([]);eW.debugLabel=et("speaker-devices");var eU=E(null);eU.debugLabel=et("last-camera-error");var eH=function(e){var t=e.children,n=N(),r=D((0,o.useCallback)(function(e,t){return q(void 0,void 0,void 0,function(){var e,r,i,a,o,u,l,c,s,d,f,v;return z(this,function(p){switch(p.label){case 0:if(void 0===(null===(f=null==navigator?void 0:navigator.mediaDevices)||void 0===f?void 0:f.getUserMedia)||void 0===(null===(v=null==navigator?void 0:navigator.mediaDevices)||void 0===v?void 0:v.enumerateDevices))return t(eF,"not-supported"),t(eq,"not-supported"),[2];if(!n)return[2];p.label=1;case 1:return p.trys.push([1,4,,5]),[4,n.enumerateDevices()];case 2:return r=(e=p.sent().devices).filter(function(e){return"videoinput"===e.kind&&""!==e.deviceId}),i=e.filter(function(e){return"audioinput"===e.kind&&""!==e.deviceId}),a=e.filter(function(e){return"audiooutput"===e.kind&&""!==e.deviceId}),[4,n.getInputDevices()];case 3:return u=(o=p.sent()).camera,l=o.mic,c=o.speaker,s=function(e,t,n){var r,i;return{device:t,selected:"deviceId"in e&&t.deviceId===e.deviceId,state:null!==(i=null===(r=n.find(function(e){return e.device.deviceId===t.deviceId}))||void 0===r?void 0:r.state)&&void 0!==i?i:"granted"}},d=function(e,t){return"default"===e.device.deviceId?-1:"default"===t.device.deviceId?1:e.device.label<t.device.label?-1:e.device.label>t.device.label?1:0},t(ez,function(e){return r.filter(Boolean).map(function(t){return s(u,t,e)}).sort(d)}),t(eB,function(e){return i.filter(Boolean).map(function(t){return s(l,t,e)}).sort(d)}),t(eW,function(e){return a.filter(Boolean).map(function(t){return s(c,t,e)}).sort(d)}),[3,5];case 4:return p.sent(),t(eF,"not-supported"),t(eq,"not-supported"),[3,5];case 5:return[2]}})})},[n])),i=D((0,o.useCallback)(function(e,t){return q(void 0,void 0,void 0,function(){var i,a,o,u,l,c,s,d,f,v,p,y,g,b,h,m,k,w,S,E,M,A,C,j;return z(this,function(L){switch(L.label){case 0:if(!n||(i=e(eF),a=e(eq),!(o=n.participants()).local))return[2];if(u=o.local.tracks,l="prompt",c="prompt",!navigator.permissions)return[3,5];L.label=1;case 1:return L.trys.push([1,4,,5]),[4,navigator.permissions.query({name:"camera"})];case 2:return l=L.sent().state,[4,navigator.permissions.query({name:"microphone"})];case 3:return c=L.sent().state,[3,5];case 4:return L.sent(),[3,5];case 5:return s="prompt"===l&&["idle","pending"].includes(i)&&"interrupted"===u.video.state&&!u.video.persistentTrack,d=["idle","pending"].includes(i)&&!u.video.persistentTrack&&!!(null===(p=u.video.off)||void 0===p?void 0:p.byUser),f="prompt"===c&&["idle","pending"].includes(a)&&"interrupted"===u.audio.state&&!u.audio.persistentTrack,v=["idle","pending"].includes(a)&&!u.audio.persistentTrack&&!!(null===(y=u.audio.off)||void 0===y?void 0:y.byUser),(null===(b=null===(g=u.audio)||void 0===g?void 0:g.blocked)||void 0===b?void 0:b.byDeviceInUse)?(t(eq,"in-use"),t(eB,function(e){return e.map(function(e){return e.selected?Z(Z({},e),{state:"in-use"}):e})})):(null===(m=null===(h=u.audio)||void 0===h?void 0:h.blocked)||void 0===m?void 0:m.byDeviceMissing)?t(eq,"not-found"):(null===(w=null===(k=u.audio)||void 0===k?void 0:k.blocked)||void 0===w?void 0:w.byPermissions)||"denied"===c?t(eq,"blocked"):f?t(eq,"pending"):v?t(eq,"idle"):(t(eq,"granted"),t(eB,function(e){return e.map(function(e){return e.selected?Z(Z({},e),{state:"granted"}):e})})),(null===(E=null===(S=u.video)||void 0===S?void 0:S.blocked)||void 0===E?void 0:E.byDeviceInUse)?(t(eF,"in-use"),t(ez,function(e){return e.map(function(e){return e.selected?Z(Z({},e),{state:"in-use"}):e})})):(null===(A=null===(M=u.video)||void 0===M?void 0:M.blocked)||void 0===A?void 0:A.byDeviceMissing)?t(eF,"not-found"):(null===(j=null===(C=u.video)||void 0===C?void 0:C.blocked)||void 0===j?void 0:j.byPermissions)||"denied"===l?t(eF,"blocked"):s?t(eF,"pending"):d?t(eF,"idle"):(t(eF,"granted"),t(ez,function(e){return e.map(function(e){return e.selected?Z(Z({},e),{state:"granted"}):e})})),r(),[2]}})})},[n,r]));return Q("participant-updated",(0,o.useCallback)(function(e){e.participant.local&&i()},[i])),Q("available-devices-updated",r),Q("selected-devices-updated",r),Q("camera-error",D((0,o.useCallback)(function(e,t,n){var r,i,a,o,u,l,c;switch(t(eU,n.error),null===(r=n.error)||void 0===r?void 0:r.type){case"cam-in-use":t(eF,"in-use");break;case"mic-in-use":t(eq,"in-use");break;case"cam-mic-in-use":t(eF,"in-use"),t(eq,"in-use");break;case"not-found":(null===(i=n.error)||void 0===i?void 0:i.missingMedia.includes("video"))&&t(eF,"not-found"),(null===(a=n.error)||void 0===a?void 0:a.missingMedia.includes("audio"))&&t(eq,"not-found");break;case"permissions":(null===(o=n.error)||void 0===o?void 0:o.blockedMedia.includes("video"))&&t(eF,"blocked"),(null===(u=n.error)||void 0===u?void 0:u.blockedMedia.includes("audio"))&&t(eq,"blocked");break;case"constraints":"invalid"===(null===(l=n.error)||void 0===l?void 0:l.reason)?(t(eF,"constraints-invalid"),t(eq,"constraints-invalid")):"none-specified"===(null===(c=n.error)||void 0===c?void 0:c.reason)&&(t(eF,"constraints-none-specified"),t(eq,"constraints-none-specified"));break;case"undefined-mediadevices":t(eF,"undefined-mediadevices"),t(eq,"undefined-mediadevices");break;default:t(eF,"unknown"),t(eq,"unknown")}},[]))),Q("started-camera",D((0,o.useCallback)(function(e,t){t(eF,"granted"),t(eq,"granted"),i()},[i]))),o.createElement(eZ.Provider,{value:{refreshDevices:r}},t)},eN=E({errorMsg:void 0,isLiveStreaming:!1,layout:void 0});eN.debugLabel=et("live-streaming");var eJ=function(e){var t=e.children;return Q("live-streaming-started",D((0,o.useCallback)(function(e,t,n){t(eN,{isLiveStreaming:!0,layout:null==n?void 0:n.layout})},[]))),Q("live-streaming-stopped",D((0,o.useCallback)(function(e,t){t(eN,function(e){return Z(Z({},e),{isLiveStreaming:!1,layout:void 0})})},[]))),Q("live-streaming-error",D((0,o.useCallback)(function(e,t,n){t(eN,function(e){return Z(Z({},e),{errorMsg:n.errorMsg})})},[]))),Q("left-meeting",D((0,o.useCallback)(function(e,t){t(eN,{errorMsg:void 0,isLiveStreaming:!1,layout:void 0})},[]))),o.createElement(o.Fragment,null,t)},e$=E("new");e$.debugLabel=et("meeting-state");var eG=E(null);eG.debugLabel=et("meeting-error");var eX=E(null);eX.debugLabel=et("non-fatal-error");var eK=E({data:void 0,topology:"none"});eK.debugLabel=et("meeting-session-data");var eQ=function(e){var t=e.children,n=N(),r=D((0,o.useCallback)(function(e,t){if(n){var r=n.meetingState();return t(e$,r),r}},[n]));return Q("loading",r),Q("loaded",r),Q("joining-meeting",r),Q("joined-meeting",r),Q("left-meeting",r),Q("error",D((0,o.useCallback)(function(e,t,n){t(eG,n),r()},[r]))),Q("nonfatal-error",D((0,o.useCallback)(function(e,t,n){t(eX,n)},[]))),Q("joined-meeting",D((0,o.useCallback)(function(e,t){n&&t(eK,n.meetingSessionState())},[n]))),Q("meeting-session-state-updated",D((0,o.useCallback)(function(e,t,n){t(eK,n.meetingSessionState)},[]))),Q("left-meeting",D((0,o.useCallback)(function(e,t){t(eK,{data:void 0,topology:"none"})},[]))),Q("call-instance-destroyed",D((0,o.useCallback)(function(e,t){t(e$,"new"),t(eG,null),t(eX,null),t(eK,{data:void 0,topology:"none"})},[]))),o.createElement(o.Fragment,null,t)},eY=E("none");eY.debugLabel=et("topology");var e0=E("unknown"),e1=E([]),e2=E(100);e2.debugLabel=et("network-quality");var e5=E("good");e5.debugLabel=et("network-threshold");var e3=function(e){var t=e.children,n=N(),r=P(eY),i=D((0,o.useCallback)(function(e,t){return q(void 0,void 0,void 0,function(){var e;return z(this,function(r){switch(r.label){case 0:return n?[4,n.getNetworkTopology()]:[2];case 1:return(e=r.sent())&&"none"!==(null==e?void 0:e.topology)&&t(eY,e.topology),[2]}})})},[n]));return Q("joined-meeting",i),Q("network-connection",D((0,o.useCallback)(function(e,t,n){"connected"===n.event&&("peer-to-peer"===n.type&&t(eY,"peer"),"sfu"===n.type&&t(eY,"sfu"))},[]))),Q("network-quality-change",D((0,o.useCallback)(function(e,t,n){t(e0,function(e){return e!==n.networkState?n.networkState:e}),t(e1,function(e){var t,r=null!==(t=n.networkStateReasons)&&void 0!==t?t:[];return ee(e,r)?e:r}),t(e2,function(e){return e!==n.quality?n.quality:e}),t(e5,function(e){return e!==n.threshold?n.threshold:e})},[]))),Q("left-meeting",D((0,o.useCallback)(function(e,t){t(eY,"none"),t(e0,"unknown"),t(e1,[]),t(e2,100),t(e5,"good")},[]))),(0,o.useEffect)(function(){n&&"none"===r&&i()},[n,i,r]),o.createElement(o.Fragment,null,t)},e7=E({isLocalParticipantRecorded:!1,isRecording:!1});e7.debugLabel=et("recording-state");var e4=function(e){var t=e.children,n=eC(),r=eI({filter:"record"}),i=D((0,o.useCallback)(function(e,t,n,r){var i=e(e7),a={isLocalParticipantRecorded:i.isLocalParticipantRecorded,isRecording:i.isRecording,local:i.local,type:i.type},o={isLocalParticipantRecorded:"local"!==(null==a?void 0:a.type)&&(null==a?void 0:a.type)?a.isLocalParticipantRecorded:n,isRecording:"local"!==(null==a?void 0:a.type)&&(null==a?void 0:a.type)?a.isRecording:n,local:"local"!==(null==a?void 0:a.type)&&(null==a?void 0:a.type)||!n?null==a?void 0:a.local:r,type:n?"local":null==i?void 0:i.type};Y(a,o)||t(e7,Z(Z({},a),o))},[]));return(0,o.useEffect)(function(){i(r.length>0,r.includes(n||"local"))},[n,i,r]),Q("recording-started",D((0,o.useCallback)(function(e,t,r){var i,a=!0;switch(r.type){case"cloud-beta":case"cloud":n&&"single-participant"===(null===(i=r.layout)||void 0===i?void 0:i.preset)&&r.layout.session_id!==n&&(a=!1)}t(e7,{error:!1,isLocalParticipantRecorded:a,isRecording:!0,layout:null==r?void 0:r.layout,local:null==r?void 0:r.local,recordingId:null==r?void 0:r.recordingId,recordingStartedDate:new Date,startedBy:null==r?void 0:r.startedBy,type:null==r?void 0:r.type})},[n]))),Q("recording-stopped",D((0,o.useCallback)(function(e,t){t(e7,function(e){return Z(Z({},e),{isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),Q("recording-error",D((0,o.useCallback)(function(e,t){t(e7,function(e){return Z(Z({},e),{error:!0,isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),Q("left-meeting",D((0,o.useCallback)(function(e,t){t(e7,{isLocalParticipantRecorded:!1,isRecording:!1})},[]))),o.createElement(o.Fragment,null,t)},e6=function(){var e=P(e$);return(0,o.useDebugValue)(e),e},e8=E(null);e8.debugLabel=et("room-state");var e9=function(e){var t=e.children,n=N(),r=e6();return Q("access-state-updated",D((0,o.useCallback)(function(e,t){return q(void 0,void 0,void 0,function(){var e;return z(this,function(i){switch(i.label){case 0:return n&&"left-meeting"!==r?[4,n.room()]:[2];case 1:return(e=i.sent())&&"id"in e&&t(e8,e),[2,e]}})})},[n,r]))),Q("left-meeting",D((0,o.useCallback)(function(e,t){return function(){t(e8,null)}},[]))),o.createElement(o.Fragment,null,t)},te=E({isTranscribing:!1,model:"general",language:"en",transcriptions:[]});te.debugLabel=et("transcription-state");var tt,tn,tr=function(e){var t=e.children;return Q("transcription-started",D((0,o.useCallback)(function(e,t,n){t(te,{error:!1,transcriptionStartDate:new Date,isTranscribing:!0,transcriptions:[],endpointing:n.endpointing,extra:n.extra,includeRawResponse:n.includeRawResponse,instanceId:n.instanceId,language:n.language,model:n.model,profanity_filter:n.profanity_filter,punctuate:n.punctuate,redact:n.redact,startedBy:n.startedBy,tier:n.tier})},[]))),Q("transcription-stopped",D((0,o.useCallback)(function(e,t,n){t(te,function(e){return Z(Z({},e),{updatedBy:n.updatedBy,isTranscribing:!1})})},[]))),Q("transcription-error",D((0,o.useCallback)(function(e,t){t(te,function(e){return Z(Z({},e),{error:!0,isTranscribing:!1})})},[]))),Q("left-meeting",D((0,o.useCallback)(function(e,t){t(te,function(e){return Z(Z({},e),{isTranscribing:!1})})},[]))),Q("app-message",D((0,o.useCallback)(function(e,t,n){"transcription"===(null==n?void 0:n.fromId)&&t(te,function(e){return Z(Z({},e),{isTranscribing:!0,transcriptions:U(U([],W(e.transcriptions),!1),[n.data],!1)})})},[]))),o.createElement(o.Fragment,null,t)},ti={},ta=function(){return!0},to={options:ti,shouldCreateInstance:ta},tu=function(e,t){var n=void 0===t?to:t,r=n.parentElRef,i=n.options,a=void 0===i?ti:i,u=n.shouldCreateInstance,l=void 0===u?ta:u,c=W((0,o.useState)(null),2),s=c[0],d=c[1],f=(0,o.useRef)();return(0,o.useEffect)(function(){if(("callFrame"!==e||null!==(null==r?void 0:r.current))&&l()){var t=function(){setTimeout(function(){return d(null)},0)},n=R.ZP.getCallInstance();if(!s&&n&&!n.isDestroyed())return n.once("call-instance-destroyed",t),void d(n);if(s)Y(f.current,a)||function(e){q(this,void 0,void 0,function(){return z(this,function(t){switch(t.label){case 0:return[4,e.destroy()];case 1:return t.sent(),[2]}})})}(s);else{if(!n||n.isDestroyed()){switch(e){case"callFrame":n=(null==r?void 0:r.current)?R.ZP.createFrame(r.current,Z({},a)):R.ZP.createFrame(Z({},a));break;case"callObject":n=R.ZP.createCallObject(Z({},a))}f.current=a}d(n),n.once("call-instance-destroyed",t)}}},[s,a,r,l,e]),s},tl=function(e){var t=e.children,n=e.jotaiStore,r=F(e,["children","jotaiStore"]),i=(0,o.useRef)({}),a=(0,o.useCallback)(function(e){var t,n,r,a;if("action"in e){var o=e.action,u=Array.from(null!==(a=null===(r=i.current)||void 0===r?void 0:r[o])&&void 0!==a?a:[]),l=u.filter(function(e){return W(e,1)[0]<0}),c=u.filter(function(e){return W(e,1)[0]>0}),s=U(U([],W(l),!1),W(c),!1);try{for(var d=B(s),f=d.next();!f.done;f=d.next())(0,W(f.value,2)[1])(e)}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}},[]),u=(0,o.useCallback)(function(e){e&&Object.keys(i.current).forEach(function(t){e.off(t,a),e.isDestroyed()||e.on(t,a)})},[a]),l="callObject"in r?r.callObject:null,c=tu("callObject",{options:(0,o.useMemo)(function(){return"callObject"in r?{}:r},[r]),shouldCreateInstance:(0,o.useCallback)(function(){return!("callObject"in r)},[r])}),s=null!=l?l:c;(0,o.useEffect)(function(){s&&u(s)},[s,u]);var d=(0,o.useCallback)(function(e,t,n){var r,o;i.current[e]||(i.current[e]=new Map,s&&(s.off(e,a),s.isDestroyed()||s.on(e,a))),(null===(r=i.current[e])||void 0===r?void 0:r.has(n))||null===(o=i.current[e])||void 0===o||o.set(n,t)},[s,a]),f=(0,o.useCallback)(function(e,t){var n,r;null===(n=i.current[e])||void 0===n||n.delete(t),0===(null===(r=i.current[e])||void 0===r?void 0:r.size)&&(null==s||s.off(e,a),delete i.current[e])},[s,a]);return o.createElement(L,{store:n},o.createElement(H.Provider,{value:s},o.createElement(J.Provider,{value:{on:d,off:f}},o.createElement(e9,null,o.createElement(eQ,null,o.createElement(e3,null,o.createElement(eA,null,o.createElement(e4,null,o.createElement(eJ,null,o.createElement(tr,null,o.createElement(eH,null,t)))))))))))},tc=function(e,t){var n=void 0===t?{}:t,r=n.onParticipantLeft,i=n.onParticipantUpdated,a=P(eS(e));return ep(["participant-updated","participant-left"],(0,o.useCallback)(function(t){var n=t.filter(function(t){return t.participant.session_id===e});n.length&&n.forEach(function(e){switch(e.action){case"participant-updated":null==i||i(e);break;case"participant-left":null==r||r(e)}})},[r,i,e])),(0,o.useDebugValue)(a),a};encodeURIComponent("\n    class AudioLevelProcessor extends AudioWorkletProcessor {\n    volume;\n    interval;\n    nextFrame;\n    \n    constructor() {\n      super();\n      this.volume = 0;\n      this.interval = 25;\n      this.nextFrame = this.interval;\n    }\n    \n    get intervalInFrames() {\n      // sampleRate is globally defined in AudioWorklets.\n      // See https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope\n      // eslint-disable-next-line no-undef\n      return (this.interval / 1000) * sampleRate;\n    }\n    \n    process(inputList) {\n      const firstInput = inputList[0];\n    \n      if (firstInput.length > 0) {\n        const inputData = firstInput[0];\n        let total = 0;\n    \n        for (let i = 0; i < inputData.length; ++i) {\n          total += Math.abs(inputData[i]);\n        }\n    \n        const rms = Math.sqrt(total / inputData.length);\n        this.volume = Math.max(0, Math.min(1, rms));\n    \n        this.nextFrame -= inputData.length;\n        if (this.nextFrame < 0) {\n          this.nextFrame += this.intervalInFrames;\n          this.port.postMessage({ volume: this.volume });\n        }\n      }\n    \n      return true;\n    }\n    }\n    \n    registerProcessor('audiolevel', AudioLevelProcessor);              \n"),ef(tn?tt:(tn=1,tt=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==V(t)&&"object"==V(n)){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var r,i,a,o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n})),E({state:"low",reason:"none"}).debugLabel=et("cpu-load"),E(null).debugLabel=et("input-settings");var ts=function(){var e=tc(P(em));return(0,o.useDebugValue)(e),e};E({hidden:0,present:0}).debugLabel=et("participant-counts");var td=a(function(e){var t=E({},function(t,n,r){n(td(e),r)});return t.debugLabel=et("participant-receive-settings-".concat(e)),t});E(null).debugLabel=et("send-settings")},14760:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]])},31047:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},92735:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},48736:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},65621:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},60730:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},48662:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},87133:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]])},54159:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},83229:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},92369:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},88178:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},29374:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},32489:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6394:function(e,t,n){n.d(t,{f:function(){return u}});var r=n(2265),i=n(66840),a=n(57437),o=r.forwardRef((e,t)=>(0,a.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var u=o}}]);