"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{46413:function(e,r,t){t.d(r,{AuthProvider:function(){return s},a:function(){return d}});var n=t(57437),o=t(2265),a=t(43301),i=t(17293),u=t(92651);let l=(0,o.createContext)(void 0),s=e=>{let{children:r}=e,[t,s]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),[f,p]=(0,o.useState)(!0),[h,v]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{console.log("[AuthProvider] Subscribing to onAuthStateChanged (montagem do provider)");let e=(0,a.Aj)(i.I8,async e=>{if(console.log("[AuthProvider] onAuthStateChanged: User state changed. New Firebase user:",e?e.uid:null),s(e),e){v(!0);try{let e=await (0,u.Ts)();c(e),console.log("[AuthProvider] onAuthStateChanged: Profile fetched after user state change:",e)}catch(e){console.error("[AuthProvider] onAuthStateChanged: Error fetching profile:",e),c(null)}finally{v(!1)}}else c(null),v(!1);p(!1),console.log("[AuthProvider] onAuthStateChanged: Loading set to false.")});return()=>{console.log("[AuthProvider] Unsubscribing from onAuthStateChanged (desmontagem do provider)"),e()}},[]),console.log("[AuthProvider] Context values updated - User:",t?t.uid:null,"Loading:",f,"ProfileLoading:",h),(0,n.jsx)(l.Provider,{value:{user:t,userProfile:d,loading:f,profileLoading:h},children:r})},d=()=>{let e=(0,o.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},62869:function(e,r,t){t.d(r,{d:function(){return l},z:function(){return s}});var n=t(57437),o=t(2265),a=t(37053),i=t(90535),u=t(94508);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=o.forwardRef((e,r)=>{let{className:t,variant:o,size:i,asChild:s=!1,...d}=e,c=s?a.g7:"button";return(0,n.jsx)(c,{className:(0,u.cn)(l({variant:o,size:i,className:t})),ref:r,...d})});s.displayName="Button"},66070:function(e,r,t){t.d(r,{Ol:function(){return u},SZ:function(){return s},Zb:function(){return i},aY:function(){return d},eW:function(){return c},ll:function(){return l}});var n=t(57437),o=t(2265),a=t(94508);let i=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...o})});i.displayName="Card";let u=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...o})});u.displayName="CardHeader";let l=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...o})});l.displayName="CardTitle";let s=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...o})});s.displayName="CardDescription";let d=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...o})});d.displayName="CardContent";let c=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...o})});c.displayName="CardFooter"},92651:function(e,r,t){t.d(r,{CQ:function(){return u},TX:function(){return s},Ts:function(){return c},bI:function(){return f},c0:function(){return d},hc:function(){return p},pH:function(){return l},q9:function(){return i}});var n=t(43301),o=t(5978),a=t(17293);let i=async(e,r,t)=>{try{let o=await (0,n.Xb)(a.I8,e,r);return await (0,n.ck)(o.user,{displayName:t}),o.user}catch(e){throw console.error("[AuthService] Erro ao criar usu\xe1rio no Auth:",e),e}},u=async(e,r,t,n,i)=>{let u={};if("doctor"===n){let{documents:e,specialistDocuments:r,...t}=i;u={...t,documents:e,specialistDocuments:r,documentVerificationStatus:"PENDING_REVIEW",adminVerificationNotes:""}}else if("hospital"===n){let{hospitalDocs:e,legalRepDocuments:r,...t}=i;u={companyInfo:{cnpj:t.cnpj,stateRegistration:t.stateRegistration,phone:t.phone,address:t.address},legalRepresentativeInfo:t.legalRepresentativeInfo,hospitalDocs:e,legalRepDocuments:r,documentVerificationStatus:"PENDING_REVIEW",adminVerificationNotes:""}}else throw Error("Tipo de perfil de registro inv\xe1lido.");let l={uid:e,email:r,displayName:t,role:n,createdAt:(0,o.Bt)(),updatedAt:(0,o.Bt)(),...u};await (0,o.pl)((0,o.JU)(a.db,"users",e),l),console.log("[AuthService] Perfil ".concat(n," salvo para UID: ").concat(e))},l=async(e,r)=>{try{return(await (0,n.e5)(a.I8,e,r)).user}catch(e){throw console.error("[AuthService] Login error:",e),e}},s=async()=>{try{await (0,n.w7)(a.I8)}catch(e){throw console.error("[AuthService] Logout error:",e),e}},d=async e=>{try{await (0,n.LS)(a.I8,e)}catch(e){throw console.error("[AuthService] Reset error:",e),e}},c=async()=>{let e=a.I8.currentUser;if(!e)return null;try{let r=(0,o.JU)(a.db,"users",e.uid),t=await (0,o.QT)(r);if(t.exists())return{uid:t.id,...t.data()};return null}catch(e){throw console.error("[AuthService] Get current user data error:",e),e}},f=async(e,r)=>{if(!e)throw Error("ID do Doutor n\xe3o fornecido para atualiza\xe7\xe3o.");if(!r||0===Object.keys(r).length){console.warn("[AuthService] Nenhum dado fornecido para atualiza\xe7\xe3o do perfil do doutor.");return}let t=(0,o.JU)(a.db,"users",e),n={};if(Object.keys(r).forEach(e=>{void 0!==r[e]&&("address"===e&&"object"==typeof r.address&&null!==r.address?Object.keys(r.address).forEach(e=>{void 0!==r.address[e]&&(n["address.".concat(e)]=r.address[e])}):n[e]=r[e])}),0===Object.keys(n).length){console.warn("[AuthService] Nenhum dado v\xe1lido para atualizar ap\xf3s filtrar undefined.");return}n.updatedAt=(0,o.Bt)();try{var i;let r=await (0,o.QT)(t);if(!r.exists()||(null===(i=r.data())||void 0===i?void 0:i.role)!=="doctor")throw Error("Perfil de doutor n\xe3o encontrado ou tipo de usu\xe1rio incorreto para atualiza\xe7\xe3o.");await (0,o.r7)(t,n),console.log("[AuthService] Perfil do doutor ".concat(e," atualizado com sucesso."))}catch(r){throw console.error("[AuthService] Erro ao atualizar perfil do doutor ".concat(e,":"),r),r}},p=async function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)throw Error("ID do usu\xe1rio n\xe3o fornecido.");let i=(0,o.JU)(a.db,"users",e),u={documentVerificationStatus:r,adminVerificationNotes:t,documentRejectionReasons:n,updatedAt:(0,o.Bt)()};"APPROVED"===r&&(u.documentRejectionReasons={},u.adminVerificationNotes="");try{await (0,o.r7)(i,u)}catch(r){throw console.error("Erro ao atualizar status do usu\xe1rio ".concat(e,":"),r),Error("Falha ao atualizar o status do cadastro.")}}},88685:function(e,r,t){t.d(r,{n:function(){return n}});let n={personalRg:"RG Pessoal*",personalCpf:"CPF Pessoal*",professionalCrm:"Carteira Profissional (CRM)*",photo3x4:"Foto 3x4 Recente*",addressProof:"Comprovante de Resid\xeancia Pessoal*",graduationCertificate:"Certificado de Gradua\xe7\xe3o*",criminalRecordCert:"Certid\xe3o Negativa Criminal*",ethicalCert:"Certid\xe3o Negativa \xc9tico-Profissional*",debtCert:"Certid\xe3o Negativa de D\xe9bitos CRM*",cv:"Curr\xedculo Vitae (CV)*",rqe:"Registro de Qualifica\xe7\xe3o de Especialista (RQE)*",postGradCert:"Certificado de P\xf3s-Gradua\xe7\xe3o/Resid\xeancia*",specialistTitle:"T\xedtulo de Especialista*",recommendationLetter:"Carta de Recomenda\xe7\xe3o (Opcional)",socialContract:"Contrato Social*",cnpjCard:"Cart\xe3o CNPJ*",companyAddressProof:"Comprovante de Endere\xe7o da Empresa*",repRg:"RG do Respons\xe1vel*",repCpf:"CPF do Respons\xe1vel*",repAddressProof:"Comprovante de Resid\xeancia do Respons\xe1vel*"}},17293:function(e,r,t){t.d(r,{I8:function(){return s},db:function(){return d},tO:function(){return c}});var n=t(738),o=t(43301),a=t(5978),i=t(60062),u=t(13491);let l=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyAyoX1YqAdqHuIvSoj0Yw_FYnhCBv-KfEA",authDomain:"fht-sistema.firebaseapp.com",projectId:"fht-sistema",storageBucket:"fht-sistema.firebasestorage.app",messagingSenderId:"583837273524",appId:"1:583837273524:web:1583addfce581e61ac76e1",measurementId:"G-6FJ2H3G32N"}),s=(0,o.v0)(l),d=(0,a.ad)(l),c=(0,i.cF)(l);(0,u.$C)(l,"southamerica-east1")},94508:function(e,r,t){t.d(r,{Hq:function(){return s},bx:function(){return l},cn:function(){return a},rl:function(){return u},xG:function(){return i}});var n=t(61994),o=t(53335);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.m6)((0,n.W)(r))}let i=e=>null==e||isNaN(e)?"R$ -":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),u=e=>null==e||isNaN(e)?"- %":"".concat(e.toFixed(1),"%"),l=e=>null==e||isNaN(e)?"- h":"".concat(e.toFixed(1)," h"),s=(e,r)=>{if(!e)return e;let t=e.replace(/[^\dX]/gi,"");if("cpf"===r&&11===t.length)return t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");if("cnpj"===r&&14===t.length)return t.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5");if("phone"===r)return t.length>10?t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3");if("cep"===r&&8===t.length)return t.replace(/(\d{5})(\d{3})/,"$1-$2");if("rg"===r){if(9===t.length)return t.replace(/(\d{2})(\d{3})(\d{3})([\dX])$/,"$1.$2.$3-$4");if(8===t.length)return t.replace(/(\d{1})(\d{3})(\d{3})([\dX])$/,"$1.$2.$3-$4")}return e}},51817:function(e,r,t){t.d(r,{Z:function(){return n}});let n=(0,t(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},76865:function(e,r,t){t.d(r,{Z:function(){return n}});let n=(0,t(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},99376:function(e,r,t){var n=t(35475);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},98575:function(e,r,t){t.d(r,{F:function(){return a},e:function(){return i}});var n=t(2265);function o(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function a(...e){return r=>{let t=!1,n=e.map(e=>{let n=o(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():o(e[r],null)}}}}function i(...e){return n.useCallback(a(...e),e)}},37053:function(e,r,t){t.d(r,{Z8:function(){return i},g7:function(){return u},sA:function(){return s}});var n=t(2265),o=t(98575),a=t(57437);function i(e){let r=function(e){let r=n.forwardRef((e,r)=>{let{children:t,...a}=e;if(n.isValidElement(t)){let e,i;let u=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,l=function(e,r){let t={...r};for(let n in r){let o=e[n],a=r[n];/^on[A-Z]/.test(n)?o&&a?t[n]=(...e)=>{let r=a(...e);return o(...e),r}:o&&(t[n]=o):"style"===n?t[n]={...o,...a}:"className"===n&&(t[n]=[o,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==n.Fragment&&(l.ref=r?(0,o.F)(r,u):u),n.cloneElement(t,l)}return n.Children.count(t)>1?n.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=n.forwardRef((e,t)=>{let{children:o,...i}=e,u=n.Children.toArray(o),l=u.find(d);if(l){let e=l.props.children,o=u.map(r=>r!==l?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,o):null})}return(0,a.jsx)(r,{...i,ref:t,children:o})});return t.displayName=`${e}.Slot`,t}var u=i("Slot"),l=Symbol("radix.slottable");function s(e){let r=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});return r.displayName=`${e}.Slottable`,r.__radixId=l,r}function d(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},90535:function(e,r,t){t.d(r,{j:function(){return i}});var n=t(61994);let o=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.W,i=(e,r)=>t=>{var n;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:u}=r,l=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],n=null==u?void 0:u[e];if(null===r)return null;let a=o(r)||o(n);return i[e][a]}),s=t&&Object.entries(t).reduce((e,r)=>{let[t,n]=r;return void 0===n||(e[t]=n),e},{});return a(e,l,null==r?void 0:null===(n=r.compoundVariants)||void 0===n?void 0:n.reduce((e,r)=>{let{class:t,className:n,...o}=r;return Object.entries(o).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...u,...s}[r]):({...u,...s})[r]===t})?[...e,t,n]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}}]);