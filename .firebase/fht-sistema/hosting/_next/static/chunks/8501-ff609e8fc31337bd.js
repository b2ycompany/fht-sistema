"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8501],{62869:function(e,t,r){r.d(t,{d:function(){return d},z:function(){return l}});var a=r(57437),n=r(2265),o=r(37053),s=r(90535),i=r(94508);let d=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:l=!1,...c}=e,u=l?o.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:n,size:s,className:r})),ref:t,...c})});l.displayName="Button"},66070:function(e,t,r){r.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return s},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var a=r(57437),n=r(2265),o=r(94508);let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});s.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...n})});l.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},26110:function(e,t,r){r.d(t,{$N:function(){return x},Be:function(){return h},GG:function(){return u},Vq:function(){return d},cN:function(){return g},cZ:function(){return m},fK:function(){return p},hg:function(){return l}});var a=r(57437),n=r(2265),o=r(49027),s=r(32489),i=r(94508);let d=o.fC,l=o.xz,c=o.h_,u=o.x8,f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});f.displayName=o.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:r,children:n,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(o.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...d,children:[n,(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(s.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=o.VY.displayName;let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};p.displayName="DialogHeader";let g=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};g.displayName="DialogFooter";let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...n})});x.displayName=o.Dx.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});h.displayName=o.dk.displayName},95186:function(e,t,r){r.d(t,{I:function(){return s}});var a=r(57437),n=r(2265),o=r(94508);let s=n.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,a.jsx)("input",{type:n,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});s.displayName="Input"},26815:function(e,t,r){r.d(t,{_:function(){return l}});var a=r(57437),n=r(2265),o=r(6394),s=r(90535),i=r(94508);let d=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.f,{ref:t,className:(0,i.cn)(d(),r),...n})});l.displayName=o.f.displayName},35153:function(e,t,r){r.d(t,{pm:function(){return f}});var a=r(2265);let n=0,o=new Map,s=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=i(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=a.useState(l);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},31623:function(e,t,r){r.d(t,{E8:function(){return l},YR:function(){return u},Yn:function(){return d},Zw:function(){return c},bS:function(){return s},hK:function(){return o},xG:function(){return i}});var a=r(5978),n=r(17293);let o=async e=>{try{return(await (0,a.ET)((0,a.hJ)(n.db,"patients"),{...e,name_lowercase:e.name.toLowerCase(),createdAt:(0,a.Bt)()})).id}catch(e){throw console.error("Erro ao cadastrar paciente:",e),Error("N\xe3o foi poss\xedvel cadastrar o novo paciente.")}},s=async(e,t)=>{if(e.length<2)return[];try{let r=(0,a.hJ)(n.db,"patients"),o=e.toLowerCase(),s=(0,a.IO)(r,(0,a.ar)("unitId","==",t),(0,a.Xo)("name_lowercase"),(0,a.ar)("name_lowercase",">=",o),(0,a.ar)("name_lowercase","<=",o+"ï£¿"),(0,a.b9)(10));return(await (0,a.PL)(s)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Erro na busca por pacientes:",e),Error("N\xe3o foi poss\xedvel realizar a busca por pacientes.")}},i=async(e,t,r,o)=>{try{let s=(0,a.hJ)(n.db,"serviceQueue"),i=new Date;i.setHours(0,0,0,0);let d=(0,a.IO)(s,(0,a.ar)("unitId","==",t),(0,a.ar)("createdAt",">=",i)),l=await (0,a.PL)(d),c={ticketNumber:"".concat("Telemedicina"===o?"T":"A").concat((l.size+1).toString().padStart(3,"0")),patientName:e.name,patientId:e.id,status:"Aguardando Triagem",unitId:t,hospitalName:r,type:o,createdAt:(0,a.Bt)()};return(await (0,a.ET)(s,c)).id}catch(e){throw console.error("Erro ao adicionar paciente \xe0 fila:",e),Error("N\xe3o foi poss\xedvel adicionar o paciente \xe0 fila de atendimento.")}},d=(e,t,r,o)=>{let s=(0,a.IO)((0,a.hJ)(n.db,"serviceQueue"),(0,a.ar)("unitId","==",e),(0,a.ar)("status","==",t),(0,a.ar)("type","==",r),(0,a.Xo)("createdAt","asc"));return(0,a.cf)(s,e=>{o(e.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("[PatientService] Erro ao escutar a fila de atendimento:",e),o([])})},l=async(e,t)=>{try{await (0,a.r7)((0,a.JU)(n.db,"serviceQueue",e),{status:"Em Triagem",nurseId:t})}catch(e){throw Error("N\xe3o foi poss\xedvel chamar o paciente para a triagem.")}},c=async(e,t)=>{try{await (0,a.r7)((0,a.JU)(n.db,"serviceQueue",e),{triageData:t,status:"Aguardando Atendimento"})}catch(e){throw Error("N\xe3o foi poss\xedvel finalizar a triagem.")}},u=async e=>{if(!e)return null;let t=await (0,a.QT)((0,a.JU)(n.db,"patients",e));return t.exists()?{id:t.id,...t.data()}:null}},99495:function(e,t,r){r.d(t,{B:function(){return c}});var a=r(2265),n=r(34040),o=r(57437),s=r(2551),i=r.n(s);let d={vermelho:{text:"Emerg\xeancia",color:"#dc2626"},laranja:{text:"Muito Urgente",color:"#f97316"},amarelo:{text:"Urgente",color:"#eab308"},verde:{text:"Pouco Urgente",color:"#22c55e"},azul:{text:"N\xe3o Urgente",color:"#3b82f6"},branco:{text:"Identifica\xe7\xe3o",color:"#f9fafb"}},l=e=>{let{patientName:t,dob:r,patientId:n,severity:s="branco",onReadyToPrint:l}=e,c=(0,a.useRef)(null),u=d[s]||d.branco,f="branco"!==s,m=f?"#FFFFFF":"#111827";return(0,a.useEffect)(()=>{let e=setTimeout(()=>{l()},500);return()=>clearTimeout(e)},[l]),(0,o.jsxs)("div",{ref:c,className:"p-0 m-0",children:[(0,o.jsx)("style",{type:"text/css",media:"print",children:"\n          @page {\n            /* Tamanho da etiqueta da pulseira: 250mm x 25mm */\n            size: 250mm 25mm;\n            margin: 0;\n          }\n          body, html {\n            margin: 0;\n            padding: 0;\n            width: 250mm;\n            height: 25mm;\n            overflow: hidden;\n          }\n        "}),(0,o.jsxs)("div",{style:{backgroundColor:u.color,color:m,width:"250mm",height:"25mm",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 10mm",fontFamily:"Arial, sans-serif",boxSizing:"border-box"},children:[(0,o.jsxs)("div",{style:{textTransform:"uppercase"},children:[(0,o.jsx)("div",{style:{fontSize:"16pt",fontWeight:"bold"},children:t}),(0,o.jsxs)("div",{style:{fontSize:"12pt"},children:["Nasc: ",(e=>{try{let t=e.split("-");if(3===t.length)return"".concat(t[2],"/").concat(t[1],"/").concat(t[0]);return e}catch(t){return e}})(r)]})]}),f&&(0,o.jsx)("div",{style:{fontSize:"20pt",fontWeight:"bold",textTransform:"uppercase",textAlign:"center"},children:u.text}),(0,o.jsx)("div",{style:{height:"20mm",display:"flex",alignItems:"center"},children:(0,o.jsx)(i(),{value:n,height:40,width:2,fontSize:12,text:"ID: ".concat(n),background:"transparent",lineColor:m,fontOptions:"bold",textMargin:2})})]})]})},c=e=>{let t=document.getElementById("print-iframe");t&&document.body.removeChild(t),(t=document.createElement("iframe")).id="print-iframe",t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.border="0",document.body.appendChild(t);let r=t.contentDocument;if(!r){console.error("N\xe3o foi poss\xedvel acessar o documento do iframe de impress\xe3o.");return}let o=r.createElement("div");r.body.appendChild(o),(0,n.createRoot)(o).render(a.createElement(l,{...e,onReadyToPrint:()=>{try{var e;null===(e=t.contentWindow)||void 0===e||e.print()}catch(e){console.error("Erro ao tentar imprimir:",e)}}}))}}}]);